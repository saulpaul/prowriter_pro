/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/email/email.min.js */
(function(a){a.rtt=function(b){return a.rtt13(a.rtt5(b))};a.rtt5=function(g){var d=[],j,f=g.length,e="0".charCodeAt(),h=e+10;while(f--){j=g.charCodeAt(f);if(j>=e&&j<h){d[f]=String.fromCharCode(((j-e+5)%(10))+e)}else{d[f]=g.charAt(f)}}return d.join("")};a.rtt13=function(h){var e=[],l,g=h.length,f="a".charCodeAt(),k=f+26,d="A".charCodeAt(),j=d+26;while(g--){l=h.charCodeAt(g);if(l>=f&&l<k){e[g]=String.fromCharCode(((l-f+13)%(26))+f)}else{if(l>=d&&l<j){e[g]=String.fromCharCode(((l-d+13)%(26))+d)}else{e[g]=h.charAt(g)}}}return e.join("")}})(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/tipsy1/jquery.tipsy.min.js */
!function(t){function e(t,e){return"function"==typeof t?t.call(e):t}function i(e,i){this.$element=t(e),this.options=i,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var i=this.getTitle();if(i&&this.enabled){var s=this.tip();s.find(".tipsy-inner")[this.options.html?"html":"text"](i),s[0].className="tipsy",s.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var n,o=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),l=s[0].offsetWidth,a=s[0].offsetHeight,f=e(this.options.gravity,this.$element[0]);switch(f.charAt(0)){case"n":n={top:o.top+o.height+this.options.offset,left:o.left+o.width/2-l/2};break;case"s":n={top:o.top-a-this.options.offset,left:o.left+o.width/2-l/2};break;case"e":n={top:o.top+o.height/2-a/2,left:o.left-l-this.options.offset};break;case"w":n={top:o.top+o.height/2-a/2,left:o.left+o.width+this.options.offset}}2==f.length&&("w"==f.charAt(1)?n.left=o.left+o.width/2-15:n.left=o.left+o.width/2-l+15),s.css(n).addClass("tipsy-"+f),s.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+f.charAt(0),this.options.className&&s.addClass(e(this.options.className,this.$element[0])),this.options.fade?s.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):s.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,i=this.options;return this.fixTitle(),"string"==typeof(i=this.options).title?t=e.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(t=i.title.call(e[0])),(t=(""+t).replace(/(^\s*|\s*$)/,""))||i.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){if(!0===e)return this.data("tipsy");if("string"==typeof e){var s=this.data("tipsy");return s&&s[e](),this}function n(s){var n=t.data(s,"tipsy");return n||(n=new i(s,t.fn.tipsy.elementOptions(s,e)),t.data(s,"tipsy",n)),n}function o(){var t=n(this);t.hoverState="in",0==e.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},e.delayIn))}function l(){var t=n(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)}if((e=t.extend({},t.fn.tipsy.defaults,e)).live||this.each(function(){n(this)}),"manual"!=e.trigger){var a="hover"==e.trigger?"mouseenter":"focus",f="hover"==e.trigger?"mouseleave":"blur";e.live?(t(e.context).on(a,e.selector,o),t(e.context).on(f,e.selector,l)):this.bind(a,o).bind(f,l)}return this},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoBounds=function(e,i){return function(){var s={ns:i[0],ew:i.length>1&&i[1]},n=t(document).scrollTop()+e,o=t(document).scrollLeft()+e,l=t(this);return l.offset().top<n&&(s.ns="n"),l.offset().left<o&&(s.ew="w"),t(window).width()+t(document).scrollLeft()-l.offset().left<e&&(s.ew="e"),t(window).height()+t(document).scrollTop()-l.offset().top<e&&(s.ns="s"),s.ns+(s.ew?s.ew:"")}}}(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/json/json2.min.js */
if(typeof JSON!=="object"){JSON={}}(function(){var rx_one=/^[\],:{}\s]*$/;var rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g;var rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;var rx_four=/(?:^|:|,)(?:\s*\[)+/g;var rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}var gap;var indent;var meta;var rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i;var k;var v;var length;var mind=gap;var partial;var value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k;var v;var value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return(typeof reviver==="function")?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/validate/jquery.validate.custom.min.js */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module==="object"&&module.exports){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(c){c.extend(c.fn,{validate:function(d){if(!this.length){if(d&&d.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var e=c.data(this[0],"validator");if(e){return e}this.attr("novalidate","novalidate");e=new c.validator(d,this[0]);c.data(this[0],"validator",e);if(e.settings.onsubmit){this.on("click.validate",":submit",function(f){e.submitButton=f.currentTarget;if(c(this).hasClass("cancel")){e.cancelSubmit=true}if(c(this).attr("formnovalidate")!==undefined){e.cancelSubmit=true}});this.on("submit.validate",function(f){if(e.settings.debug){f.preventDefault()}function g(){var i,h;if(e.submitButton&&(e.settings.submitHandler||e.formSubmitted)){i=c("<input type='hidden'/>").attr("name",e.submitButton.name).val(c(e.submitButton).val()).appendTo(e.currentForm)}if(e.settings.submitHandler){h=e.settings.submitHandler.call(e,e.currentForm,f);if(i){i.remove()}if(h!==undefined){return h}return false}return true}if(e.cancelSubmit){e.cancelSubmit=false;return g()}if(e.form()){if(e.pendingRequest){e.formSubmitted=true;return false}return g()}else{e.focusInvalid();return false}})}return e},valid:function(){var e,d,f;if(c(this[0]).is("form")){e=this.validate().form()}else{f=[];e=true;d=c(this[0].form).validate();this.each(function(){e=d.element(this)&&e;if(!e){f=f.concat(d.errorList)}});d.errorList=f}return e},rules:function(g,d){var i=this[0],f,k,l,h,e,j;if(i==null){return}if(!i.form&&i.hasAttribute("contenteditable")){i.form=this.closest("form")[0];i.name=this.attr("name")}if(i.form==null){return}if(g){f=c.data(i.form,"validator").settings;k=f.rules;l=c.validator.staticRules(i);switch(g){case"add":c.extend(l,c.validator.normalizeRule(d));delete l.messages;k[i.name]=l;if(d.messages){f.messages[i.name]=c.extend(f.messages[i.name],d.messages)}break;case"remove":if(!d){delete k[i.name];return l}j={};c.each(d.split(/\s/),function(m,n){j[n]=l[n];delete l[n]});return j}}h=c.validator.normalizeRules(c.extend({},c.validator.classRules(i),c.validator.attributeRules(i),c.validator.dataRules(i),c.validator.staticRules(i)),i);if(h.required){e=h.required;delete h.required;h=c.extend({required:e},h)}if(h.remote){e=h.remote;delete h.remote;h=c.extend(h,{remote:e})}return h}});c.extend(c.expr.pseudos||c.expr[":"],{blank:function(d){return !c.trim(""+c(d).val())},filled:function(d){var e=c(d).val();return e!==null&&!!c.trim(""+e)},unchecked:function(d){return !c(d).prop("checked")}});c.validator=function(d,e){this.settings=c.extend(true,{},c.validator.defaults,d);this.currentForm=e;this.init()};c.validator.format=function(d,e){if(arguments.length===1){return function(){var f=c.makeArray(arguments);f.unshift(d);return c.validator.format.apply(this,f)}}if(e===undefined){return d}if(arguments.length>2&&e.constructor!==Array){e=c.makeArray(arguments).slice(1)}if(e.constructor!==Array){e=[e]}c.each(e,function(f,g){d=d.replace(new RegExp("\\{"+f+"\\}","g"),function(){return g})});return d};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(d){this.lastActive=d;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,d,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(d))}},onfocusout:function(d){if(!this.checkable(d)&&(d.name in this.submitted||!this.optional(d))){this.element(d)}},onkeyup:function(e,f){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(f.which===9&&this.elementValue(e)===""||c.inArray(f.keyCode,d)!==-1){return}else{if(e.name in this.submitted||e.name in this.invalid){this.element(e)}}},onclick:function(d){if(d.name in this.submitted){this.element(d)}else{if(d.parentNode.name in this.submitted){this.element(d.parentNode)}}},highlight:function(f,d,e){if(f.type==="radio"){this.findByName(f.name).addClass(d).removeClass(e)}else{c(f).addClass(d).removeClass(e)}},unhighlight:function(f,d,e){if(f.type==="radio"){this.findByName(f.name).removeClass(d).addClass(e)}else{c(f).removeClass(d).addClass(e)}}},setDefaults:function(d){c.extend(c.validator.defaults,d)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var d=(this.groups={}),f;c.each(this.settings.groups,function(g,h){if(typeof h==="string"){h=h.split(/\s/)}c.each(h,function(j,i){d[i]=g})});f=this.settings.rules;c.each(f,function(g,h){f[g]=c.validator.normalizeRule(h)});function e(j){if(!this.form&&this.hasAttribute("contenteditable")){this.form=c(this).closest("form")[0];this.name=c(this).attr("name")}var h=c.data(this.form,"validator"),g="on"+j.type.replace(/^validate/,""),i=h.settings;if(i[g]&&!c(this).is(i.ignore)){i[g].call(h,this,j)}}c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e);if(this.settings.invalidHandler){c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);var d=this.valid();if(!d){c(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return d},checkForm:function(){this.prepareForm();for(var d=0,e=(this.currentElements=this.elements());e[d];d++){this.check(e[d])}return this.valid()},element:function(h){var i=this.clean(h),g=this.validationTargetFor(i),f=this,d=true,e,j;if(g===undefined){delete this.invalid[i.name]}else{this.prepareElement(g);this.currentElements=c(g);j=this.groups[g.name];if(j){c.each(this.groups,function(l,k){if(k===j&&l!==g.name){i=f.validationTargetFor(f.clean(f.findByName(l)));if(i&&i.name in f.invalid){f.currentElements.push(i);d=f.check(i)&&d}}})}e=this.check(g)!==false;d=d&&e;if(e){this.invalid[g.name]=false}else{this.invalid[g.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();c(h).attr("aria-invalid",!e)}return d},showErrors:function(e){if(e){var d=this;c.extend(this.errorMap,e);this.errorList=c.map(this.errorMap,function(g,f){return{message:g,element:d.findByName(f)[0]}});this.successList=c.grep(this.successList,function(f){return !(f.name in e)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(c.fn.resetForm){c(this.currentForm).resetForm()}this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var d=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(d)},resetElements:function(e){var d;if(this.settings.unhighlight){for(d=0;e[d];d++){this.settings.unhighlight.call(this,e[d],this.settings.errorClass,"");this.findByName(e[d].name).removeClass(this.settings.validClass)}}else{e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(f){var e=0,d;for(d in f){if(f[d]!==undefined&&f[d]!==null&&f[d]!==false){e++}}return e},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(d){d.not(this.containers).text("");this.addWrapper(d).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(d){}}},findLastActive:function(){var d=this.lastActive;return d&&c.grep(this.errorList,function(e){return e.element.name===d.name}).length===1&&d},elements:function(){var e=this,d={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var f=this.name||c(this).attr("name");if(!f&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.hasAttribute("contenteditable")){this.form=c(this).closest("form")[0];this.name=f}if(f in d||!e.objectLength(c(this).rules())){return false}d[f]=true;return true})},clean:function(d){return c(d)[0]},errors:function(){var d=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+d,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([])},reset:function(){this.resetInternals();this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(d){this.reset();this.toHide=this.errorsFor(d)},elementValue:function(f){var e=c(f),g=f.type,h,d;if(g==="radio"||g==="checkbox"){return this.findByName(f.name).filter(":checked").val()}else{if(g==="number"&&typeof f.validity!=="undefined"){return f.validity.badInput?"NaN":e.val()}}if(f.hasAttribute("contenteditable")){h=e.text()}else{h=e.val()}if(g==="file"){if(h.substr(0,12)==="C:\\fakepath\\"){return h.substr(12)}d=h.lastIndexOf("/");if(d>=0){return h.substr(d+1)}d=h.lastIndexOf("\\");if(d>=0){return h.substr(d+1)}return h}if(typeof h==="string"){return h.replace(/\r/g,"")}return h},check:function(h){h=this.validationTargetFor(this.clean(h));var l=c(h).rules(),j=c.map(l,function(o,e){return e}).length,m=false,f=this.elementValue(h),n,d,k,g;if(typeof l.normalizer==="function"){g=l.normalizer}else{if(typeof this.settings.normalizer==="function"){g=this.settings.normalizer}}if(g){f=g.call(h,f);if(typeof f!=="string"){throw new TypeError("The normalizer should return a string value.")}delete l.normalizer}for(d in l){k={method:d,parameters:l[d]};try{n=c.validator.methods[d].call(this,f,h,k.parameters);if(n==="dependency-mismatch"&&j===1){m=true;continue}m=false;if(n==="pending"){this.toHide=this.toHide.not(this.errorsFor(h));return}if(!n){this.formatAndAdd(h,k);return false}}catch(i){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+h.id+", check the '"+k.method+"' method.",i)}if(i instanceof TypeError){i.message+=".  Exception occurred when checking element "+h.id+", check the '"+k.method+"' method."}throw i}}if(m){return}if(this.objectLength(l)){this.successList.push(h)}return true},customDataMessage:function(d,e){return c(d).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||c(d).data("msg")},customMessage:function(e,f){var d=this.settings.messages[e];return d&&(d.constructor===String?d:d[f])},findDefined:function(){for(var d=0;d<arguments.length;d++){if(arguments[d]!==undefined){return arguments[d]}}return undefined},defaultMessage:function(e,g){if(typeof g==="string"){g={method:g}}var f=this.findDefined(this.customMessage(e.name,g.method),this.customDataMessage(e,g.method),!this.settings.ignoreTitle&&e.title||undefined,c.validator.messages[g.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),d=/\$?\{(\d+)\}/g;if(typeof f==="function"){f=f.call(this,g.parameters,e)}else{if(d.test(f)){f=c.validator.format(f.replace(d,"{$1}"),g.parameters)}}return f},formatAndAdd:function(d,f){var e=this.defaultMessage(d,f);this.errorList.push({message:e,element:d,method:f.method});this.errorMap[d.name]=e;this.submitted[d.name]=e},addWrapper:function(d){if(this.settings.wrapper){d=d.add(d.parent(this.settings.wrapper))}return d},defaultShowErrors:function(){var e,f,d;for(e=0;this.errorList[e];e++){d=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,d.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(d.element,d.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,f=this.validElements();f[e];e++){this.settings.unhighlight.call(this,f[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(g,l){var e,j,f,k,h=this.errorsFor(g),i=this.idOrName(g),d=c(g).attr("aria-describedby");if(h.length){h.removeClass(this.settings.validClass).addClass(this.settings.errorClass);h.html(l)}else{h=c("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(l||"");e=h;if(this.settings.wrapper){e=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(e)}else{if(this.settings.errorPlacement){this.settings.errorPlacement.call(this,e,c(g))}else{e.insertAfter(g)}}if(h.is("label")){h.attr("for",i)}else{if(h.parents("label[for='"+this.escapeCssMeta(i)+"']").length===0){f=h.attr("id");if(!d){d=f}else{if(!d.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))){d+=" "+f}}c(g).attr("aria-describedby",d);j=this.groups[g.name];if(j){k=this;c.each(k.groups,function(n,m){if(m===j){c("[name='"+k.escapeCssMeta(n)+"']",k.currentForm).attr("aria-describedby",h.attr("id"))}})}}}}if(!l&&this.settings.success){h.text("");if(typeof this.settings.success==="string"){h.addClass(this.settings.success)}else{this.settings.success(h,g)}}this.toShow=this.toShow.add(h)},errorsFor:function(f){var e=this.escapeCssMeta(this.idOrName(f)),g=c(f).attr("aria-describedby"),d="label[for='"+e+"'], label[for='"+e+"'] *";if(g){d=d+", #"+this.escapeCssMeta(g).replace(/\s+/g,", #")}return this.errors().filter(d)},escapeCssMeta:function(d){return d.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(d){return this.groups[d.name]||(this.checkable(d)?d.name:d.id||d.name)},validationTargetFor:function(d){if(this.checkable(d)){d=this.findByName(d.name)}return c(d).not(this.settings.ignore)[0]},checkable:function(d){return(/radio|checkbox/i).test(d.type)},findByName:function(d){return c(this.currentForm).find("[name='"+this.escapeCssMeta(d)+"']")},getLength:function(e,d){switch(d.nodeName.toLowerCase()){case"select":return c("option:selected",d).length;case"input":if(this.checkable(d)){return this.findByName(d.name).filter(":checked").length}}return e.length},depend:function(e,d){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,d):true},dependTypes:{"boolean":function(d){return d},string:function(e,d){return !!c(e,d.form).length},"function":function(e,d){return e(d)}},optional:function(d){var e=this.elementValue(d);return !c.validator.methods.required.call(this,e,d)&&"dependency-mismatch"},startRequest:function(d){if(!this.pending[d.name]){this.pendingRequest++;c(d).addClass(this.settings.pendingClass);this.pending[d.name]=true}},stopRequest:function(d,e){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[d.name];c(d).removeClass(this.settings.pendingClass);if(e&&this.pendingRequest===0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();if(this.submitButton){c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove()}this.formSubmitted=false}else{if(!e&&this.pendingRequest===0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(d,e){e=typeof e==="string"&&e||"remote";return c.data(d,"previousValue")||c.data(d,"previousValue",{old:null,valid:true,message:this.defaultMessage(d,{method:e})})},destroy:function(){this.resetForm();c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(d,e){if(d.constructor===String){this.classRuleSettings[d]=e}else{c.extend(this.classRuleSettings,d)}},classRules:function(e){var f={},d=c(e).attr("class");if(d){c.each(d.split(" "),function(){if(this in c.validator.classRuleSettings){c.extend(f,c.validator.classRuleSettings[this])}})}return f},normalizeAttributeRule:function(f,d,g,e){if(/min|max|step/.test(g)&&(d===null||/number|range|text/.test(d))){e=Number(e);if(isNaN(e)){e=undefined}}if(e||e===0){f[g]=e}else{if(d===g&&d!=="range"){f[g]=true}}},attributeRules:function(e){var h={},d=c(e),f=e.getAttribute("type"),i,g;for(i in c.validator.methods){if(i==="required"){g=e.getAttribute(i);if(g===""){g=true}g=!!g}else{g=d.attr(i)}this.normalizeAttributeRule(h,f,i,g)}if(h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)){delete h.maxlength}return h},dataRules:function(e){var h={},d=c(e),f=e.getAttribute("type"),i,g;for(i in c.validator.methods){g=d.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase());this.normalizeAttributeRule(h,f,i,g)}return h},staticRules:function(e){var f={},d=c.data(e.form,"validator");if(d.settings.rules){f=c.validator.normalizeRule(d.settings.rules[e.name])||{}}return f},normalizeRules:function(e,d){c.each(e,function(h,g){if(g===false){delete e[h];return}if(g.param||g.depends){var f=true;switch(typeof g.depends){case"string":f=!!c(g.depends,d.form).length;break;case"function":f=g.depends.call(d,d);break}if(f){e[h]=g.param!==undefined?g.param:true}else{c.data(d.form,"validator").resetElements(c(d));delete e[h]}}});c.each(e,function(f,g){e[f]=c.isFunction(g)&&f!=="normalizer"?g(d):g});c.each(["minlength","maxlength"],function(){if(e[this]){e[this]=Number(e[this])}});c.each(["rangelength","range"],function(){var f;if(e[this]){if(c.isArray(e[this])){e[this]=[Number(e[this][0]),Number(e[this][1])]}else{if(typeof e[this]==="string"){f=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/);e[this]=[Number(f[0]),Number(f[1])]}}}});if(c.validator.autoCreateRanges){if(e.min!=null&&e.max!=null){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength!=null&&e.maxlength!=null){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}return e},normalizeRule:function(e){if(typeof e==="string"){var d={};c.each(e.split(/\s/),function(){d[this]=true});e=d}return e},addMethod:function(d,f,e){c.validator.methods[d]=f;c.validator.messages[d]=e!==undefined?e:c.validator.messages[d];if(f.length<3){c.validator.addClassRules(d,c.validator.normalizeRule(d))}},methods:{required:function(e,d,g){if(!this.depend(g,d)){return"dependency-mismatch"}if(d.nodeName.toLowerCase()==="select"){var f=c(d).val();return f&&f.length>0}if(this.checkable(d)){return this.getLength(e,d)>0}return e.length>0},email:function(e,d){return this.optional(d)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,d){return this.optional(d)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,d){return this.optional(d)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,d){return this.optional(d)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,d){return this.optional(d)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,d){return this.optional(d)||/^\d+$/.test(e)},minlength:function(f,d,g){var e=c.isArray(f)?f.length:this.getLength(f,d);return this.optional(d)||e>=g},maxlength:function(f,d,g){var e=c.isArray(f)?f.length:this.getLength(f,d);return this.optional(d)||e<=g},rangelength:function(f,d,g){var e=c.isArray(f)?f.length:this.getLength(f,d);return this.optional(d)||(e>=g[0]&&e<=g[1])},min:function(e,d,f){return this.optional(d)||e>=f},max:function(e,d,f){return this.optional(d)||e<=f},range:function(e,d,f){return this.optional(d)||(e>=f[0]&&e<=f[1])},step:function(n,h,f){var m=c(h).attr("type"),l="Step attribute on input type "+m+" is not supported.",k=["text","number","range"],o=new RegExp("\\b"+m+"\\b"),i=m&&!o.test(k.join()),g=function(q){var p=(""+q).match(/(?:\.(\d+))?$/);if(!p){return 0}return p[1]?p[1].length:0},j=function(p){return Math.round(p*Math.pow(10,e))},d=true,e;if(i){throw new Error(l)}e=g(f);if(g(n)>e||j(n)%j(f)!==0){d=false}return this.optional(h)||d},equalTo:function(e,d,g){var f=c(g);if(this.settings.onfocusout&&f.not(".validate-equalTo-blur").length){f.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(d).valid()})}return e===f.val()},remote:function(i,e,j,k){if(this.optional(e)){return"dependency-mismatch"}k=typeof k==="string"&&k||"remote";var f=this.previousValue(e,k),d,h,g;if(!this.settings.messages[e.name]){this.settings.messages[e.name]={}}f.originalMessage=f.originalMessage||this.settings.messages[e.name][k];this.settings.messages[e.name][k]=f.message;j=typeof j==="string"&&{url:j}||j;g=c.param(c.extend({data:i},j.data));if(f.old===g){return f.valid}f.old=g;d=this;this.startRequest(e);h={};h[e.name]=i;c.ajax(c.extend(true,{mode:"abort",port:"validate"+e.name,dataType:"json",data:h,context:d.currentForm,success:function(m){var o=m===true||m==="true",p,n,l;d.settings.messages[e.name][k]=f.originalMessage;if(o){l=d.formSubmitted;d.resetInternals();d.toHide=d.errorsFor(e);d.formSubmitted=l;d.successList.push(e);d.invalid[e.name]=false;d.showErrors()}else{p={};n=m||d.defaultMessage(e,{method:k,parameters:i});p[e.name]=f.message=n;d.invalid[e.name]=true;d.showErrors(p)}f.valid=o;d.stopRequest(e,o)}},j));return"pending"}}});var a={},b;if(c.ajaxPrefilter){c.ajaxPrefilter(function(f,e,g){var d=f.port;if(f.mode==="abort"){if(a[d]){a[d].abort()}a[d]=g}})}else{b=c.ajax;c.ajax=function(e){var f=("mode" in e?e:c.ajaxSettings).mode,d=("port" in e?e:c.ajaxSettings).port;if(f==="abort"){if(a[d]){a[d].abort()}a[d]=b.apply(this,arguments);return a[d]}return b.apply(this,arguments)}}return c}));

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/validate/additional-methods.custom.min.js */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.validate"],a)}else{if(typeof module==="object"&&module.exports){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(a){jQuery.validator.addMethod("requiredWysiwyg",function(c,b,e){if(b.name==undefined||b.name==null){return true}var d=FCKeditorAPI.GetInstance(b.name);if(d==undefined||d==null){return true}return(d.GetXHTML().length>7)},jQuery.validator.format("Field is required"));jQuery.validator.addMethod("login",function(c,b){return this.optional(b)||/^[a-z\d\-]+$/i.test(c)},'Please enter only letters, digits or "-"');jQuery.validator.addMethod("non_only_spaces",function(c,b){return this.optional(b)||/[^\s]/i.test(c)},"Please enter non spaces only data");jQuery.validator.addMethod("alphaPlusNumeric",function(c,b){if(this.optional(b)){return true}if(!(/^[a-z\d \-]+$/i.test(c))){return false}if(!(/[a-z]/i.test(c))){return false}return true},"Letters are required and numbers are allowed");jQuery.validator.addMethod("numericPlusAlpha",function(c,b){if(this.optional(b)){return true}if(!(/^[a-z\d \-]+$/i.test(c))){return false}if(!(/[\d]/i.test(c))){return false}return true},"Numbers are required and letters are allowed");jQuery.validator.addMethod("phoneIntl",function(c,b){if(this.optional(b)){return true}if(!(/^[\d \+\(\)\-]+$/i.test(c))){return false}if(!(/[\d]/i.test(c))){return false}return true},"Please specify a valid phone number");jQuery.validator.addMethod("deadlines_order",function(d,c){var e=jQuery("#id_deadline_date").datepicker("getDate");var b=jQuery("#id_deadline_draft_date").datepicker("getDate");if(b==null||e==null){return true}if(b<e){return true}return false},"Draft deadline must be earler than final deadline date.");jQuery.validator.addMethod("ps_pages",function(f,c){var g=jQuery("#id_pages_qty option:selected").val();var e=jQuery("#id_slides_qty option:selected").val();var d=parseInt(jQuery("#id_pages_qty option:selected").val()*1,10);var b=parseInt(jQuery("#id_slides_qty option:selected").val()*1,10);if(g==""||e==""){return true}if(d<1&&b==0){return false}return true},"Number of slides can't be zero, if you don't order any pages. Minimum order in this case is two slides.");jQuery.validator.addMethod("ps_slides",function(f,c){var g=jQuery("#id_pages_qty option:selected").val();var e=jQuery("#id_slides_qty option:selected").val();var d=parseInt(jQuery("#id_pages_qty option:selected").val()*1,10);var b=parseInt(jQuery("#id_slides_qty option:selected").val()*1,10);if(g==""||e==""){return true}if(d==0&&b<2){return false}return true},"Number of slides can't be zero, if you don't order any pages. Minimum order in this case is two slides.");(function(){function b(c){return c.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}a.validator.addMethod("maxWords",function(d,c,e){return this.optional(c)||b(d).match(/\b\w+\b/g).length<=e},a.validator.format("Please enter {0} words or less."));a.validator.addMethod("minWords",function(d,c,e){return this.optional(c)||b(d).match(/\b\w+\b/g).length>=e},a.validator.format("Please enter at least {0} words."));a.validator.addMethod("rangeWords",function(f,c,g){var e=b(f),d=/\b\w+\b/g;return this.optional(c)||e.match(d).length>=g[0]&&e.match(d).length<=g[1]},a.validator.format("Please enter between {0} and {1} words."))}());a.validator.addMethod("accept",function(g,d,j){var h=typeof j==="string"?j.replace(/\s/g,""):"image/*",f=this.optional(d),c,b,e;if(f){return f}if(a(d).attr("type")==="file"){h=h.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*");if(d.files&&d.files.length){e=new RegExp(".?("+h+")$","i");for(c=0;c<d.files.length;c++){b=d.files[c];if(!b.type.match(e)){return false}}}}return true},a.validator.format("Please enter a value with a valid mimetype."));a.validator.addMethod("alphanumeric",function(c,b){return this.optional(b)||/^\w+$/i.test(c)},"Letters, numbers, and underscores only please");a.validator.addMethod("bankaccountNL",function(g,d){if(this.optional(d)){return true}if(!(/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(g))){return false}var f=g.replace(/ /g,""),e=0,b=f.length,i,c,h;for(i=0;i<b;i++){c=b-i;h=f.substring(i,i+1);e=e+c*h}return e%11===0},"Please specify a valid bank account number");a.validator.addMethod("bankorgiroaccountNL",function(c,b){return this.optional(b)||(a.validator.methods.bankaccountNL.call(this,c,b))||(a.validator.methods.giroaccountNL.call(this,c,b))},"Please specify a valid bank or giro account number");a.validator.addMethod("bic",function(c,b){return this.optional(b)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(c.toUpperCase())},"Please specify a valid BIC code");a.validator.addMethod("cifES",function(p,l){if(this.optional(l)){return true}var g=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi);var f=p.substring(0,1),h=p.substring(1,8),k=p.substring(8,9),c=0,d=0,b=0,j,e,o,m;function q(i){return i%2===0}if(p.length!==9||!g.test(p)){return false}for(j=0;j<h.length;j++){e=parseInt(h[j],10);if(q(j)){e*=2;b+=e<10?e:e-9}else{d+=e}}c=d+b;o=(10-(c).toString().substr(-1)).toString();o=parseInt(o,10)>9?"0":o;m="JABCDEFGHI".substr(o,1).toString();if(f.match(/[ABEH]/)){return k===o}else{if(f.match(/[KPQS]/)){return k===m}}return k===o||k===m},"Please specify a valid CIF number.");a.validator.addMethod("cpfBR",function(g){g=g.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"");if(g.length!==11){return false}var f=0,e,d,c,b;e=parseInt(g.substring(9,10),10);d=parseInt(g.substring(10,11),10);c=function(i,j){var h=(i*10)%11;if((h===10)||(h===11)){h=0}return(h===j)};if(g===""||g==="00000000000"||g==="11111111111"||g==="22222222222"||g==="33333333333"||g==="44444444444"||g==="55555555555"||g==="66666666666"||g==="77777777777"||g==="88888888888"||g==="99999999999"){return false}for(b=1;b<=9;b++){f=f+parseInt(g.substring(b-1,b),10)*(11-b)}if(c(f,e)){f=0;for(b=1;b<=10;b++){f=f+parseInt(g.substring(b-1,b),10)*(12-b)}return c(f,d)}return false},"Please specify a valid CPF number");a.validator.addMethod("creditcard",function(f,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(f)){return false}var g=0,e=0,b=false,h,d;f=f.replace(/\D/g,"");if(f.length<13||f.length>19){return false}for(h=f.length-1;h>=0;h--){d=f.charAt(h);e=parseInt(d,10);if(b){if((e*=2)>9){e-=9}}g+=e;b=!b}return(g%10)===0},"Please enter a valid credit card number.");a.validator.addMethod("creditcardtypes",function(c,b,d){if(/[^0-9\-]+/.test(c)){return false}c=c.replace(/\D/g,"");var e=0;if(d.mastercard){e|=1}if(d.visa){e|=2}if(d.amex){e|=4}if(d.dinersclub){e|=8}if(d.enroute){e|=16}if(d.discover){e|=32}if(d.jcb){e|=64}if(d.unknown){e|=128}if(d.all){e=1|2|4|8|16|32|64|128}if(e&1&&/^(5[12345])/.test(c)){return c.length===16}if(e&2&&/^(4)/.test(c)){return c.length===16}if(e&4&&/^(3[47])/.test(c)){return c.length===15}if(e&8&&/^(3(0[012345]|[68]))/.test(c)){return c.length===14}if(e&16&&/^(2(014|149))/.test(c)){return c.length===15}if(e&32&&/^(6011)/.test(c)){return c.length===16}if(e&64&&/^(3)/.test(c)){return c.length===16}if(e&64&&/^(2131|1800)/.test(c)){return c.length===15}if(e&128){return true}return false},"Please enter a valid credit card number.");a.validator.addMethod("currency",function(g,d,h){var c=typeof h==="string",f=c?h:h[0],b=c?true:h[1],e;f=f.replace(/,/g,"");f=b?f+"]":f+"]?";e="^["+f+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";e=new RegExp(e);return this.optional(d)||e.test(g)},"Please specify a valid currency");a.validator.addMethod("dateFA",function(c,b){return this.optional(b)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(c)},a.validator.messages.date);a.validator.addMethod("dateITA",function(f,d){var b=false,h=/^\d{1,2}\/\d{1,2}\/\d{4}$/,j,e,c,g,i;if(h.test(f)){j=f.split("/");e=parseInt(j[0],10);c=parseInt(j[1],10);g=parseInt(j[2],10);i=new Date(Date.UTC(g,c-1,e,12,0,0,0));if((i.getUTCFullYear()===g)&&(i.getUTCMonth()===c-1)&&(i.getUTCDate()===e)){b=true}else{b=false}}else{b=false}return this.optional(d)||b},a.validator.messages.date);a.validator.addMethod("dateNL",function(c,b){return this.optional(b)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(c)},a.validator.messages.date);a.validator.addMethod("extension",function(c,b,d){d=typeof d==="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp("\\.("+d+")$","i"))},a.validator.format("Please enter a value with a valid extension."));a.validator.addMethod("giroaccountNL",function(c,b){return this.optional(b)||/^[0-9]{1,7}$/.test(c)},"Please specify a valid giro account number");a.validator.addMethod("iban",function(r,l){if(this.optional(l)){return true}var g=r.replace(/ /g,"").toUpperCase(),h="",m=true,t="",s="",d,f,e,q,n,b,k,j,c;var o=5;if(g.length<o){return false}d=g.substring(0,2);b={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};n=b[d];if(typeof n!=="undefined"){k=new RegExp("^[A-Z]{2}\\d{2}"+n+"$","");if(!(k.test(g))){return false}}f=g.substring(4,g.length)+g.substring(0,4);for(j=0;j<f.length;j++){e=f.charAt(j);if(e!=="0"){m=false}if(!m){h+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e)}}for(c=0;c<h.length;c++){q=h.charAt(c);s=""+t+""+q;t=s%97}return t===1},"Please specify a valid IBAN");a.validator.addMethod("integer",function(c,b){return this.optional(b)||/^-?\d+$/.test(c)},"A positive or negative non-decimal number please");a.validator.addMethod("ipv4",function(c,b){return this.optional(b)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(c)},"Please enter a valid IP v4 address.");a.validator.addMethod("ipv6",function(c,b){return this.optional(b)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(c)},"Please enter a valid IP v6 address.");a.validator.addMethod("lettersonly",function(c,b){return this.optional(b)||/^[a-z]+$/i.test(c)},"Letters only please");a.validator.addMethod("letterswithbasicpunc",function(c,b){return this.optional(b)||/^[a-z\-.,()'"\s]+$/i.test(c)},"Letters or punctuation only please");a.validator.addMethod("mobileNL",function(c,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(c)},"Please specify a valid mobile number");a.validator.addMethod("mobileUK",function(b,c){b=b.replace(/\(|\)|\s+|-/g,"");return this.optional(c)||b.length>9&&b.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");a.validator.addMethod("netmask",function(c,b){return this.optional(b)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(c)},"Please enter a valid netmask.");a.validator.addMethod("nieES",function(g,c){if(this.optional(c)){return true}var f=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi);var b="TRWAGMYFPDXBNJZSQVHLCKET",e=g.substr(g.length-1).toUpperCase(),d;g=g.toString().toUpperCase();if(g.length>10||g.length<9||!f.test(g)){return false}g=g.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2");d=g.length===9?g.substr(0,8):g.substr(0,9);return b.charAt(parseInt(d,10)%23)===e},"Please specify a valid NIE number.");a.validator.addMethod("nifES",function(c,b){if(this.optional(b)){return true}c=c.toUpperCase();if(!c.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[0-9]{8}[A-Z]{1}$/.test(c)){return("TRWAGMYFPDXBNJZSQVHLCKE".charAt(c.substring(8,0)%23)===c.charAt(8))}if(/^[KLM]{1}/.test(c)){return(c[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(c.substring(8,1)%23))}return false},"Please specify a valid NIF number.");a.validator.addMethod("nipPL",function(f){f=f.replace(/[^0-9]/g,"");if(f.length!==10){return false}var e=[6,5,7,2,3,4,5,6,7];var b=0;for(var c=0;c<9;c++){b+=e[c]*f[c]}var g=b%11;var d=(g===10)?0:g;return(d===parseInt(f[9],10))},"Please specify a valid NIP number.");a.validator.addMethod("notEqualTo",function(c,b,d){return this.optional(b)||!a.validator.methods.equalTo.call(this,c,b,d)},"Please enter a different value, values must not be the same.");a.validator.addMethod("nowhitespace",function(c,b){return this.optional(b)||/^\S+$/i.test(c)},"No white space please");a.validator.addMethod("pattern",function(c,b,d){if(this.optional(b)){return true}if(typeof d==="string"){d=new RegExp("^(?:"+d+")$")}return d.test(c)},"Invalid format.");a.validator.addMethod("phoneNL",function(c,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(c)},"Please specify a valid phone number.");a.validator.addMethod("phonesUK",function(b,c){b=b.replace(/\(|\)|\s+|-/g,"");return this.optional(c)||b.length>9&&b.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");a.validator.addMethod("phoneUK",function(b,c){b=b.replace(/\(|\)|\s+|-/g,"");return this.optional(c)||b.length>9&&b.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");a.validator.addMethod("phoneUS",function(b,c){b=b.replace(/\s+/g,"");return this.optional(c)||b.length>9&&b.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number");a.validator.addMethod("postalcodeBR",function(c,b){return this.optional(b)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(c)},"Informe um CEP válido.");a.validator.addMethod("postalCodeCA",function(c,b){return this.optional(b)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(c)},"Please specify a valid postal code");a.validator.addMethod("postalcodeIT",function(c,b){return this.optional(b)||/^\d{5}$/.test(c)},"Please specify a valid postal code");a.validator.addMethod("postalcodeNL",function(c,b){return this.optional(b)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(c)},"Please specify a valid postal code");a.validator.addMethod("postcodeUK",function(c,b){return this.optional(b)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(c)},"Please specify a valid UK postcode");a.validator.addMethod("require_from_group",function(f,e,c){var b=a(c[1],e.form),h=b.eq(0),d=h.data("valid_req_grp")?h.data("valid_req_grp"):a.extend({},this),g=b.filter(function(){return d.elementValue(this)}).length>=c[0];h.data("valid_req_grp",d);if(!a(e).data("being_validated")){b.data("being_validated",true);b.each(function(){d.element(this)});b.data("being_validated",false)}return g},a.validator.format("Please fill at least {0} of these fields."));a.validator.addMethod("skip_or_fill_minimum",function(f,e,c){var b=a(c[1],e.form),i=b.eq(0),d=i.data("valid_skip")?i.data("valid_skip"):a.extend({},this),h=b.filter(function(){return d.elementValue(this)}).length,g=h===0||h>=c[0];i.data("valid_skip",d);if(!a(e).data("being_validated")){b.data("being_validated",true);b.each(function(){d.element(this)});b.data("being_validated",false)}return g},a.validator.format("Please either skip these fields or fill at least {0} of them."));a.validator.addMethod("stateUS",function(h,e,d){var g=typeof d==="undefined",b=(g||typeof d.caseSensitive==="undefined")?false:d.caseSensitive,i=(g||typeof d.includeTerritories==="undefined")?false:d.includeTerritories,c=(g||typeof d.includeMilitary==="undefined")?false:d.includeMilitary,f;if(!i&&!c){f="^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}else{if(i&&c){f="^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else{if(i){f="^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else{f="^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}}}f=b?new RegExp(f):new RegExp(f,"i");return this.optional(e)||f.test(h)},"Please specify a valid state");a.validator.addMethod("strippedminlength",function(c,b,d){return a(c).text().length>=d},a.validator.format("Please enter at least {0} characters"));a.validator.addMethod("time",function(c,b){return this.optional(b)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(c)},"Please enter a valid time, between 00:00 and 23:59");a.validator.addMethod("time12h",function(c,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(c)},"Please enter a valid time in 12-hour am/pm format");a.validator.addMethod("url2",function(c,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},a.validator.messages.url);a.validator.addMethod("vinUS",function(p){if(p.length!==17){return false}var e=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],o=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],g=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],h=0,j,c,m,k,b,l;for(j=0;j<17;j++){k=g[j];m=p.slice(j,j+1);if(j===8){l=m}if(!isNaN(m)){m*=k}else{for(c=0;c<e.length;c++){if(m.toUpperCase()===e[c]){m=o[c];m*=k;if(isNaN(l)&&c===8){l=e[c]}break}}}h+=m}b=h%11;if(b===10){b="X"}if(b===l){return true}return false},"The specified vehicle identification number (VIN) is invalid.");a.validator.addMethod("zipcodeUS",function(c,b){return this.optional(b)||/^\d{5}(-\d{4})?$/.test(c)},"The specified US ZIP Code is invalid");a.validator.addMethod("ziprange",function(c,b){return this.optional(b)||/^90[2-5]\d\{2\}-\d{4}$/.test(c)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx");return a}));

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/validate/custom_addons.js */
if(typeof(jQuery.validator)=='function'&&typeof(jQuery.validator.defaults)=='object'&&typeof(jQuery.validator.defaults.highlight)=='function'){jQuery.validator.defaults.highlightOrig=jQuery.validator.defaults.highlight;jQuery.validator.defaults.highlight=function(element,errorClass,validClass){if(jQuery(element).hasClass('validation_error_to_parent')){var element_parent=jQuery(element).parent();while(element_parent.length>1){element_parent=element_parent.parent();}
if(element_parent.length==1){element_parent.addClass(errorClass).removeClass(validClass);}}
else if(element.type==='radio'||(element.type==='checkbox'&&element.name.substr(element.name.length-2)=='[]')){jQuery('input[name="'+element.name+'"]').addClass(errorClass).removeClass(validClass);var element_parent=jQuery('input[name="'+element.name+'"]').parent();while(element_parent.length>1){element_parent=element_parent.parent();}
if(element_parent.length==1){element_parent.addClass(errorClass).removeClass(validClass);}}else{jQuery.validator.defaults.highlightOrig(element,errorClass,validClass);}}
jQuery.validator.defaults.unhighlightOrig=jQuery.validator.defaults.unhighlight;jQuery.validator.defaults.unhighlight=function(element,errorClass,validClass){if(jQuery(element).hasClass('validation_error_to_parent')){var element_parent=jQuery(element).parent();while(element_parent.length>1){element_parent=element_parent.parent();}
if(element_parent.length==1){element_parent.removeClass(errorClass).addClass(validClass);}}
else if(element.type==='radio'||(element.type==='checkbox'&&element.name.substr(element.name.length-2)=='[]')||jQuery(element).hasClass('validation_error_to_parent')){jQuery('input[name="'+element.name+'"]').removeClass(errorClass).addClass(validClass);var element_parent=jQuery('input[name="'+element.name+'"]').parent();while(element_parent.length>1){element_parent=element_parent.parent();}
if(element_parent.length==1){element_parent.removeClass(errorClass).addClass(validClass);}}else{jQuery.validator.defaults.unhighlightOrig(element,errorClass,validClass);}}}

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/blockUI/jquery.blockUI.min.js */
(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=/MSIE/.test(navigator.userAgent);var f=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"></div>');if(v){s.append("<h1>"+v+"</h1>")}if(t){s.append("<h2>"+t+"</h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.6;j.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1010,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"></iframe>')}else{O=j('<div class="blockUI" style="display:none"></div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"></div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"</div>"}I+='<div class="ui-widget-content ui-dialog-content"></div>';I+="</div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"</div>"}I+='<div class="ui-widget-content ui-dialog-content"></div>';I+="</div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"></div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"></div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(H.focusableElements,c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/dialog/zebra/zebra_dialog.js */
(function(c){c.Zebra_Dialog=function(g,p){var u={animation_speed_hide:250,animation_speed_show:0,auto_close:!1,buttons:!0,center_buttons:!1,custom_class:!1,keyboard:!0,max_height:0,message:"",modal:!0,overlay_close:!0,overlay_opacity:".9",position:"center",reposition_speed:500,show_close_button:!0,source:!1,title:"",type:"information",vcenter_short_message:!0,width:0,onClose:null},a=this,k={},q;a.settings={};"string"==typeof g&&(k.message=g);if("object"==typeof g||"object"==typeof p)k=c.extend(k,"object"==typeof g?g:p);a.init=function(){var d;a.settings=c.extend({},u,k);a.isIE6="explorer"==m.name&&6==m.version||!1;a.settings.modal&&(a.overlay=jQuery("<div>",{"class":"ZebraDialogOverlay"}).css({position:a.isIE6?"absolute":"fixed",left:0,top:0,opacity:a.settings.overlay_opacity}),a.settings.overlay_close&&a.overlay.bind("click",function(){a.close()}),a.overlay.appendTo("body"));a.dialog=jQuery("<div>",{"class":"ZebraDialog"+(a.settings.custom_class?" "+a.settings.custom_class:"")}).css({position:a.isIE6?"absolute":"fixed",left:0,top:0,visibility:"hidden"});!a.settings.buttons&&a.settings.auto_close&&a.dialog.attr("id","ZebraDialog_"+Math.floor(9999999*Math.random()));var b=parseInt(a.settings.width,10);!isNaN(b)&&b==a.settings.width&&b.toString()==a.settings.width.toString()&&0<b&&a.dialog.css({width:a.settings.width});a.settings.title&&(d=jQuery("<h3>",{"class":"ZebraDialog_Title"}).html(a.settings.title).appendTo(a.dialog));if(!0===a.settings.buttons||c.isArray(a.settings.buttons)){if(!0===a.settings.buttons)switch(a.settings.type){case"question":a.settings.buttons=["Yes","No"];break;default:a.settings.buttons=["Ok"]}b=a.settings.buttons}else b=!1;var h=jQuery("<div>",{"class":"ZebraDialog_BodyOuter"+(a.settings.title?"":" ZebraDialog_NoTitle")+(b?"":" ZebraDialog_NoButtons")}).appendTo(a.dialog);a.message=jQuery("<div>",{"class":"ZebraDialog_Body"+(""!==r()?" ZebraDialog_Icon ZebraDialog_"+r():"")});0<a.settings.max_height&&(a.message.css("max-height",a.settings.max_height),a.isIE6&&a.message.attr("style","height: expression(this.scrollHeight > "+a.settings.max_height+' ? "'+a.settings.max_height+'px" : "85px")'));a.settings.vcenter_short_message?jQuery("<div>").html(a.settings.message).appendTo(a.message):a.message.html(a.settings.message);if(a.settings.source&&"object"==typeof a.settings.source){var f=a.settings.vcenter_short_message?c("div:first",a.message):a.message,e;for(e in a.settings.source)switch(e){case"ajax":var l="string"==typeof a.settings.source[e]?{url:a.settings.source[e]}:a.settings.source[e],g=jQuery("<div>").attr("class","ZebraDialog_Preloader").appendTo(f);l.success=function(a){g.remove();f.append(a);n(!1)};c.ajax(l);break;case"iframe":l=c.extend({width:"100%",height:"100%",marginheight:"0",marginwidth:"0",frameborder:"0"},"string"==typeof a.settings.source[e]?{src:a.settings.source[e]}:a.settings.source[e]);f.append(jQuery("<iframe>").attr(l));break;case"inline":f.append(a.settings.source[e])}}a.message.appendTo(h);if(b){b.reverse();var s=jQuery("<div>",{"class":"ZebraDialog_Buttons"}).appendTo(a.dialog);c.each(b,function(b,d){var e=jQuery("<a>",{href:"javascript:void(0)","class":"ZebraDialog_Button_"+b});c.isPlainObject(d)?e.html(d.caption):e.html(d);e.bind("click",function(){var b=!0;void 0!==d.callback&&(b=d.callback(a.dialog));!1!==b&&a.close(void 0!==d.caption?d.caption:d)});e.appendTo(s)});s.wrap(c("<div>").addClass("ZebraDialog_ButtonsOuter"+(a.settings.center_buttons?" ZebraDialog_Buttons_Centered":"")))}a.dialog.appendTo("body");a.settings.show_close_button&&(e=c('<a href="javascript:void(0)" class="ZebraDialog_Close">&times;</a>').bind("click",function(b){b.preventDefault();a.close()}).appendTo(d?d:a.message),d&&e.css({right:parseInt(d.css("paddingRight"),10),top:(parseInt(d.css("height"),10)+parseInt(d.css("paddingTop"),10)+parseInt(d.css("paddingBottom"),10)-e.height())/2}));c(window).bind("resize.Zebra_Dialog",function(){clearTimeout(q);q=setTimeout(function(){n()},100)});a.settings.keyboard&&c(document).bind("keyup.Zebra_Dialog",function(b){27==b.which&&a.close();return!0});a.isIE6&&c(window).bind("scroll.Zebra_Dialog",function(){t()});!1!==a.settings.auto_close&&(a.dialog.bind("click",function(){clearTimeout(a.timeout);a.close()}),a.timeout=setTimeout(a.close,a.settings.auto_close));n(!1);return a};a.close=function(d){c(document).unbind(".Zebra_Dialog");c(window).unbind(".Zebra_Dialog");a.overlay&&a.overlay.animate({opacity:0},a.settings.animation_speed_hide,function(){a.overlay.remove()});a.dialog.animate({top:0,opacity:0},a.settings.animation_speed_hide,function(){a.dialog.remove();if(a.settings.onClose&&"function"==typeof a.settings.onClose)a.settings.onClose(void 0!==d?d:"")})};var n=function(d){var b=c(window).width(),h=c(window).height(),f=a.dialog.width(),e=a.dialog.height(),b={left:0,top:0,right:b-f,bottom:h-e,center:(b-f)/2,middle:(h-e)/2};a.dialog_left=void 0;a.dialog_top=void 0;c.isArray(a.settings.position)&&2==a.settings.position.length&&"string"==typeof a.settings.position[0]&&a.settings.position[0].match(/^(left|right|center)[\s0-9\+\-]*$/)&&"string"==typeof a.settings.position[1]&&a.settings.position[1].match(/^(top|bottom|middle)[\s0-9\+\-]*$/)&&(a.settings.position[0]=a.settings.position[0].toLowerCase(),a.settings.position[1]=a.settings.position[1].toLowerCase(),c.each(b,function(b,d){for(var c=0;2>c;c++){var e=a.settings.position[c].replace(b,d);e!=a.settings.position[c]&&(0===c?a.dialog_left=eval(e):a.dialog_top=eval(e))}}));if(void 0===a.dialog_left||void 0===a.dialog_top)a.dialog_left=b.center,a.dialog_top=b.middle;a.settings.vcenter_short_message&&(b=a.message.find("div:first"),h=b.height(),f=a.message.height(),h<f&&b.css({"padding-top":(f-h)/2}));"boolean"==typeof d&&!1===d||0===a.settings.reposition_speed?a.dialog.css({left:a.dialog_left,top:a.dialog_top,visibility:"visible",opacity:0}).animate({opacity:1},a.settings.animation_speed_show):(a.dialog.stop(!0),a.dialog.css("visibility","visible").animate({left:a.dialog_left,top:a.dialog_top},a.settings.reposition_speed));a.dialog.find("a[class^=ZebraDialog_Button]:first").focus();a.isIE6&&setTimeout(t,500)},t=function(){var d=c(window).scrollTop(),b=c(window).scrollLeft();a.settings.modal&&a.overlay.css({top:d,left:b});a.dialog.css({left:a.dialog_left+b,top:a.dialog_top+d})},r=function(){switch(a.settings.type){case"confirmation":case"error":case"information":case"question":case"warning":return a.settings.type.charAt(0).toUpperCase()+a.settings.type.slice(1).toLowerCase();default:return!1}},m={init:function(){this.name=this.searchString(this.dataBrowser)||"";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,f=a[b].prop;this.versionSearchString=a[b].versionSearch||a[b].identity;if(c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(f)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};m.init();return a.init()}})(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/datepicker/zebra/zebra_datepicker.js */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a){a.Zebra_DatePicker=function(z,K){var O={always_visible:false,container:a("body"),custom_classes:false,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:false,default_position:"above",direction:0,disabled_dates:false,enabled_dates:false,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},header_navigation:["&#171;","&#187;"],icon_position:"right",inside:true,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:false,offset:[5,-5],open_icon_only:false,pair:false,readonly_element:true,select_other_months:false,show_clear_date:0,show_icon:true,show_other_months:true,show_select_today:"Today",show_week_number:false,start_date:false,strict:false,view:"days",weekend_days:[0,6],zero_pad:false,onChange:null,onClear:null,onOpen:null,onClose:null,onSelect:null};var e,N,w,j,T,b,q,Q,o,D,k,A,B,Z,p,G,J,ae,ah,ab,v,X,al,V,I,d,t,U,F,R,f,x,L,s,Y,ad,W,aj,ac;var ai=this;ai.settings={};var i=a(z);var af=function(aA){W=Math.floor((1+Math.random())*65536).toString(16);if(!aA){ai.settings=a.extend({},O,K);for(var aP in i.data()){if(aP.indexOf("zdp_")===0){aP=aP.replace(/^zdp\_/,"");if(undefined!==O[aP]){ai.settings[aP]=(aP=="pair"?a(i.data("zdp_"+aP)):i.data("zdp_"+aP))}}}}if(ai.settings.readonly_element){i.attr("readonly","readonly")}var ap={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"]},ar=false,az=false,ay=false,at=null;for(at in ap){a.each(ap[at],function(aR,aS){if(ai.settings.format.indexOf(aS)>-1){if(at=="days"){ar=true}else{if(at=="months"){az=true}else{if(at=="years"){ay=true}}}}})}if(ar&&az&&ay){f=["years","months","days"]}else{if(!ar&&az&&ay){f=["years","months"]}else{if(ar&&az&&!ay){f=["months","days"]}else{if(!ar&&!az&&ay){f=["years"]}else{if(!ar&&az&&!ay){f=["months"]}else{f=["years","months","days"]}}}}}if(a.inArray(ai.settings.view,f)==-1){ai.settings.view=f[f.length-1]}v=[];ab=[];aj={};ac=[];var av;for(var aH in ai.settings.custom_classes){if(ai.settings.custom_classes.hasOwnProperty(aH)){ac.push(aH)}}for(var aG=0;aG<2+ac.length;aG++){if(aG===0){av=ai.settings.disabled_dates}else{if(aG==1){av=ai.settings.enabled_dates}else{av=ai.settings.custom_classes[ac[aG-2]]}}if(a.isArray(av)&&av.length>0){a.each(av,function(){var aV=this.split(" ");for(var aU=0;aU<4;aU++){if(!aV[aU]){aV[aU]="*"}aV[aU]=(aV[aU].indexOf(",")>-1?aV[aU].split(","):new Array(aV[aU]));for(var aT=0;aT<aV[aU].length;aT++){if(aV[aU][aT].indexOf("-")>-1){var aS=aV[aU][aT].match(/^([0-9]+)\-([0-9]+)/);if(null!==aS){for(var aR=r(aS[1]);aR<=r(aS[2]);aR++){if(a.inArray(aR,aV[aU])==-1){aV[aU].push(aR+"")}}aV[aU].splice(aT,1)}}}for(aT=0;aT<aV[aU].length;aT++){aV[aU][aT]=(isNaN(r(aV[aU][aT]))?aV[aU][aT]:r(aV[aU][aT]))}}if(aG===0){v.push(aV)}else{if(aG==1){ab.push(aV)}else{if(undefined===aj[ac[aG-2]]){aj[ac[aG-2]]=[]}aj[ac[aG-2]].push(aV)}}})}}var aM=new Date(),au=(!ai.settings.reference_date?(i.data("zdp_reference_date")&&undefined!==i.data("zdp_reference_date")?i.data("zdp_reference_date"):aM):ai.settings.reference_date),aJ,aK;al=undefined;V=undefined;A=au.getMonth();o=aM.getMonth();B=au.getFullYear();D=aM.getFullYear();Z=au.getDate();k=aM.getDate();if(ai.settings.direction===true){al=au}else{if(ai.settings.direction===false){V=au;t=V.getMonth();d=V.getFullYear();I=V.getDate()}else{if((!a.isArray(ai.settings.direction)&&ag(ai.settings.direction)&&r(ai.settings.direction)>0)||(a.isArray(ai.settings.direction)&&((aJ=l(ai.settings.direction[0]))||ai.settings.direction[0]===true||(ag(ai.settings.direction[0])&&ai.settings.direction[0]>0))&&((aK=l(ai.settings.direction[1]))||ai.settings.direction[1]===false||(ag(ai.settings.direction[1])&&ai.settings.direction[1]>=0)))){if(aJ){al=aJ}else{al=new Date(B,A,Z+(!a.isArray(ai.settings.direction)?r(ai.settings.direction):r(ai.settings.direction[0]===true?0:ai.settings.direction[0])))}A=al.getMonth();B=al.getFullYear();Z=al.getDate();if(aK&&+aK>=+al){V=aK}else{if(!aK&&ai.settings.direction[1]!==false&&a.isArray(ai.settings.direction)){V=new Date(B,A,Z+r(ai.settings.direction[1]))}}if(V){t=V.getMonth();d=V.getFullYear();I=V.getDate()}}else{if((!a.isArray(ai.settings.direction)&&ag(ai.settings.direction)&&r(ai.settings.direction)<0)||(a.isArray(ai.settings.direction)&&(ai.settings.direction[0]===false||(ag(ai.settings.direction[0])&&ai.settings.direction[0]<0))&&((aJ=l(ai.settings.direction[1]))||(ag(ai.settings.direction[1])&&ai.settings.direction[1]>=0)))){V=new Date(B,A,Z+(!a.isArray(ai.settings.direction)?r(ai.settings.direction):r(ai.settings.direction[0]===false?0:ai.settings.direction[0])));t=V.getMonth();d=V.getFullYear();I=V.getDate();if(aJ&&+aJ<+V){al=aJ}else{if(!aJ&&a.isArray(ai.settings.direction)){al=new Date(d,t,I-r(ai.settings.direction[1]))}}if(al){A=al.getMonth();B=al.getFullYear();Z=al.getDate()}}else{if(a.isArray(ai.settings.disabled_dates)&&ai.settings.disabled_dates.length>0){for(var aL in v){if(v[aL][0]=="*"&&v[aL][1]=="*"&&v[aL][2]=="*"&&v[aL][3]=="*"){var aF=[];a.each(ab,function(){var aR=this;if(aR[2][0]!="*"){aF.push(parseInt(aR[2][0]+(aR[1][0]=="*"?"12":y(aR[1][0],2))+(aR[0][0]=="*"?(aR[1][0]=="*"?"31":new Date(aR[2][0],aR[1][0],0).getDate()):y(aR[0][0],2)),10))}});aF.sort();if(aF.length>0){var ao=(aF[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);B=parseInt(ao[1],10);A=parseInt(ao[2],10)-1;Z=parseInt(ao[3],10)}break}}}}}}}if(aa(B,A,Z)){while(aa(B)){if(!al){B--;A=11}else{B++;A=0}}while(aa(B,A)){if(!al){A--;Z=new Date(B,A+1,0).getDate()}else{A++;Z=1}if(A>11){B++;A=0;Z=1}else{if(A<0){B--;A=11;Z=new Date(B,A+1,0).getDate()}}}while(aa(B,A,Z)){if(!al){Z--}else{Z++}aM=new Date(B,A,Z);B=aM.getFullYear();A=aM.getMonth();Z=aM.getDate()}aM=new Date(B,A,Z);B=aM.getFullYear();A=aM.getMonth();Z=aM.getDate()}var aw=l(i.val()||(ai.settings.start_date?ai.settings.start_date:""));if(aw&&ai.settings.strict&&aa(aw.getFullYear(),aw.getMonth(),aw.getDate())){i.val("")}if(!aA&&(undefined!==al||undefined!==aw)){u(undefined!==aw?aw:al)}if(!ai.settings.always_visible){if(!aA){if(ai.settings.show_icon){if(g.name=="firefox"&&i.is('input[type="text"]')&&i.css("display")=="inline"){i.css("display","inline-block")}var aE=a('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:i.css("display"),position:i.css("position")=="static"?"relative":i.css("position"),"float":i.css("float"),top:i.css("top"),right:i.css("right"),bottom:i.css("bottom"),left:i.css("left")});i.wrap(aE).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"});w=a('<button type="button" class="Zebra_DatePicker_Icon'+(i.attr("disabled")=="disabled"?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>');ai.icon=w;x=ai.settings.open_icon_only?w:w.add(i)}else{x=i}x.bind("click",function(aR){aR.preventDefault();if(!i.attr("disabled")){if(N.hasClass("dp_visible")){ai.hide()}else{ai.show()}}});if(!ai.settings.readonly_element&&ai.settings.pair){i.bind("blur.Zebra_DatePicker_"+W,function(){var aR;if((aR=l(a(this).val()))&&!aa(aR.getFullYear(),aR.getMonth(),aR.getDate())){u(aR)}})}if(undefined!==w){w.insertAfter(i)}}if(undefined!==w){w.attr("style","");if(ai.settings.inside){w.addClass("Zebra_DatePicker_Icon_Inside");w.addClass("Zebra_DatePicker_Icon_Inside_"+(ai.settings.icon_position=="right"?"Right":"Left"))}var ax=i.outerWidth(),aI=i.outerHeight(),aQ=parseInt(i.css("marginLeft"),10)||0,aN=parseInt(i.css("marginTop"),10)||0,aq=w.outerWidth(),aD=w.outerHeight(),aB=parseInt(w.css("marginLeft"),10)||0,aO=parseInt(w.css("marginRight"),10)||0;if(ai.settings.inside){w.css("top",aN+((aI-aD)/2));if(ai.settings.icon_position=="right"){w.css("right",0)}else{w.css("left",0)}}else{w.css({top:aN+((aI-aD)/2),left:aQ+ax+aB})}w.removeClass(" Zebra_DatePicker_Icon_Disabled");if(i.attr("disabled")=="disabled"){w.addClass("Zebra_DatePicker_Icon_Disabled")}}}Y=(ai.settings.show_select_today!==false&&a.inArray("days",f)>-1&&!aa(D,o,k)?ai.settings.show_select_today:false);if(aA){a(".dp_previous",N).html(ai.settings.header_navigation[0]);a(".dp_next",N).html(ai.settings.header_navigation[1]);a(".dp_clear",N).html(ai.settings.lang_clear_date);a(".dp_today",N).html(ai.settings.show_select_today);return}a(window).bind("resize.Zebra_DatePicker_"+W+", orientationchange.Zebra_DatePicker_"+W,function(){ai.hide();if(w!==undefined){clearTimeout(ad);ad=setTimeout(function(){ai.update()},100)}});var aC='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">'+ai.settings.header_navigation[0]+'</td><td class="dp_caption">&#032;</td><td class="dp_next">'+ai.settings.header_navigation[1]+'</td></tr></table><table class="dp_daypicker"></table><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_footer"><tr><td class="dp_today"'+(ai.settings.show_clear_date!==false?' style="width:50%"':"")+">"+Y+'</td><td class="dp_clear"'+(Y!==false?' style="width:50%"':"")+">"+ai.settings.lang_clear_date+"</td></tr></table></div>";N=a(aC);ai.datepicker=N;j=a("table.dp_header",N);T=a("table.dp_daypicker",N);b=a("table.dp_monthpicker",N);q=a("table.dp_yearpicker",N);s=a("table.dp_footer",N);L=a("td.dp_today",s);Q=a("td.dp_clear",s);if(!ai.settings.always_visible){ai.settings.container.append(N)}else{if(!i.attr("disabled")){ai.settings.always_visible.append(N);ai.show()}}N.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseover",function(){a(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseout",function(){a(this).removeClass("dp_hover")});n(a("td",j));a(".dp_previous",j).bind("click",function(){if(e=="months"){G--}else{if(e=="years"){G-=12}else{if(--p<0){p=11;G--}}}S()});a(".dp_caption",j).bind("click",function(){if(e=="days"){e=(a.inArray("months",f)>-1?"months":(a.inArray("years",f)>-1?"years":"days"))}else{if(e=="months"){e=(a.inArray("years",f)>-1?"years":(a.inArray("days",f)>-1?"days":"months"))}else{e=(a.inArray("days",f)>-1?"days":(a.inArray("months",f)>-1?"months":"years"))}}S()});a(".dp_next",j).bind("click",function(){if(e=="months"){G++}else{if(e=="years"){G+=12}else{if(++p==12){p=0;G++}}}S()});T.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){if(ai.settings.select_other_months&&a(this).attr("class")&&null!==(ao=a(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))){m(ao[1],ao[2]-1,ao[3],"days",a(this))}else{m(G,p,r(a(this).html()),"days",a(this))}});b.delegate("td:not(.dp_disabled)","click",function(){var aR=a(this).attr("class").match(/dp\_month\_([0-9]+)/);p=r(aR[1]);if(a.inArray("days",f)==-1){m(G,p,1,"months",a(this))}else{e="days";if(ai.settings.always_visible){i.val("")}S()}});q.delegate("td:not(.dp_disabled)","click",function(){G=r(a(this).html());if(a.inArray("months",f)==-1){m(G,1,1,"years",a(this))}else{e="months";if(ai.settings.always_visible){i.val("")}S()}});a(L).bind("click",function(aR){aR.preventDefault();m(D,o,k,"days",a(".dp_current",T));if(ai.settings.always_visible){ai.show()}ai.hide()});a(Q).bind("click",function(aR){aR.preventDefault();i.val("");if(!ai.settings.always_visible){J=null;ae=null;ah=null;p=null;G=null}else{J=null;ae=null;ah=null;a("td.dp_selected",N).removeClass("dp_selected")}ai.hide();if(ai.settings.onClear&&typeof ai.settings.onClear=="function"){ai.settings.onClear.call(i,i)}});if(!ai.settings.always_visible){a(document).bind("mousedown.Zebra_DatePicker_"+W+", touchstart.Zebra_DatePicker_"+W,function(aR){if(N.hasClass("dp_visible")){if(ai.settings.show_icon&&a(aR.target).get(0)===w.get(0)){return true}if(a(aR.target).parents().filter(".Zebra_DatePicker").length===0){ai.hide()}}});a(document).bind("keyup.Zebra_DatePicker_"+W,function(aR){if(N.hasClass("dp_visible")&&aR.which==27){ai.hide()}})}S()};ai.clear_date=function(){a(Q).trigger("click")};ai.destroy=function(){if(undefined!==ai.icon){ai.icon.remove()}ai.datepicker.remove();a(document).unbind("keyup.Zebra_DatePicker_"+W);a(document).unbind("mousedown.Zebra_DatePicker_"+W);a(window).unbind("resize.Zebra_DatePicker_"+W);a(window).unbind("orientationchange.Zebra_DatePicker_"+W);i.removeData("Zebra_DatePicker")};ai.hide=function(){if(!ai.settings.always_visible){P("hide");N.removeClass("dp_visible").addClass("dp_hidden");if(ai.settings.onClose&&typeof ai.settings.onClose=="function"){ai.settings.onClose.call(i,i)}}};ai.set_date=function(ap){var ao;if((ao=l(ap))&&!aa(ao.getFullYear(),ao.getMonth(),ao.getDate())){i.val(ap);u(ao)}};ai.show=function(){e=ai.settings.view;var ao=l(i.val()||(ai.settings.start_date?ai.settings.start_date:""));if(ao){ae=ao.getMonth();p=ao.getMonth();ah=ao.getFullYear();G=ao.getFullYear();J=ao.getDate();if(aa(ah,ae,J)){if(ai.settings.strict){i.val("")}p=A;G=B}}else{p=A;G=B}S();if(!ai.settings.always_visible){if(ai.settings.container.is("body")){var au=N.outerWidth(),at=N.outerHeight(),ar=(undefined!==w?w.offset().left+w.outerWidth(true):i.offset().left+i.outerWidth(true))+ai.settings.offset[0],aw=(undefined!==w?w.offset().top:i.offset().top)-at+ai.settings.offset[1],aq=a(window).width(),ax=a(window).height(),ap=a(window).scrollTop(),av=a(window).scrollLeft();if(ai.settings.default_position=="below"){aw=(undefined!==w?w.offset().top:i.offset().top)+ai.settings.offset[1]}if(ar+au>av+aq){ar=av+aq-au}if(ar<av){ar=av}if(aw+at>ap+ax){aw=ap+ax-at}if(aw<ap){aw=ap}N.css({left:ar,top:aw})}else{N.css({left:0,top:0})}N.removeClass("dp_hidden").addClass("dp_visible");P()}else{N.removeClass("dp_hidden").addClass("dp_visible")}if(ai.settings.onOpen&&typeof ai.settings.onOpen=="function"){ai.settings.onOpen.call(i,i)}};ai.update=function(ao){if(ai.original_direction){ai.original_direction=ai.direction}ai.settings=a.extend(ai.settings,ao);af(true)};var l=function(at){at+="";if(a.trim(at)!==""){var aE=H(ai.settings.format),aD=["d","D","j","l","N","S","w","F","m","M","n","Y","y"],ax=[],aC=[],az=null,ay=null;for(var aw=0;aw<aD.length;aw++){if((az=aE.indexOf(aD[aw]))>-1){ax.push({character:aD[aw],position:az})}}ax.sort(function(aH,aG){return aH.position-aG.position});a.each(ax,function(aH,aG){switch(aG.character){case"d":aC.push("0[1-9]|[12][0-9]|3[01]");break;case"D":aC.push("[^0-9]+");break;case"j":aC.push("[1-9]|[12][0-9]|3[01]");break;case"l":aC.push("[a-z]+");break;case"N":aC.push("[1-7]");break;case"S":aC.push("st|nd|rd|th");break;case"w":aC.push("[0-6]");break;case"F":aC.push("[a-z]+");break;case"m":aC.push("0[1-9]|1[012]+");break;case"M":aC.push("[^0-9]+");break;case"n":aC.push("[1-9]|1[012]");break;case"Y":aC.push("[0-9]{4}");break;case"y":aC.push("[0-9]{2}");break}});if(aC.length){ax.reverse();a.each(ax,function(aH,aG){aE=aE.replace(aG.character,"("+aC[aC.length-aH-1]+")")});aC=new RegExp("^"+aE+"$","ig");if((ay=aC.exec(at))){var aF=new Date(),aq=1,ap=aF.getMonth()+1,aB=aF.getFullYear(),aA=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],av=["January","February","March","April","May","June","July","August","September","October","November","December"],ar,ao=true;ax.reverse();a.each(ax,function(aH,aG){if(!ao){return true}switch(aG.character){case"m":case"n":ap=r(ay[aH+1]);break;case"d":case"j":aq=r(ay[aH+1]);break;case"D":case"l":case"F":case"M":if(aG.character=="D"||aG.character=="l"){ar=ai.settings.days}else{ar=ai.settings.months}ao=false;a.each(ar,function(aI,aJ){if(ao){return true}if(ay[aH+1].toLowerCase()==aJ.substring(0,(aG.character=="D"||aG.character=="M"?3:aJ.length)).toLowerCase()){switch(aG.character){case"D":ay[aH+1]=aA[aI].substring(0,3);break;case"l":ay[aH+1]=aA[aI];break;case"F":ay[aH+1]=av[aI];ap=aI+1;break;case"M":ay[aH+1]=av[aI].substring(0,3);ap=aI+1;break}ao=true}});break;case"Y":aB=r(ay[aH+1]);break;case"y":aB="19"+r(ay[aH+1]);break}});if(ao){var au=new Date(aB,(ap||1)-1,aq||1);if(au.getFullYear()==aB&&au.getDate()==(aq||1)&&au.getMonth()==((ap||1)-1)){return au}}}}return false}};var n=function(ao){if(g.name=="firefox"){ao.css("MozUserSelect","none")}else{if(g.name=="explorer"){ao.bind("selectstart",function(){return false})}else{ao.mousedown(function(){return false})}}};var H=function(ao){return ao.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")};var M=function(ap){var ay="",at=ap.getDate(),ax=ap.getDay(),aq=ai.settings.days[ax],ao=ap.getMonth()+1,av=ai.settings.months[ao-1],aw=ap.getFullYear()+"";for(var au=0;au<ai.settings.format.length;au++){var ar=ai.settings.format.charAt(au);switch(ar){case"y":aw=aw.substr(2);case"Y":ay+=aw;break;case"m":ao=y(ao,2);case"n":ay+=ao;break;case"M":av=(a.isArray(ai.settings.months_abbr)&&undefined!==ai.settings.months_abbr[ao-1]?ai.settings.months_abbr[ao-1]:ai.settings.months[ao-1].substr(0,3));case"F":ay+=av;break;case"d":at=y(at,2);case"j":ay+=at;break;case"D":aq=(a.isArray(ai.settings.days_abbr)&&undefined!==ai.settings.days_abbr[ax]?ai.settings.days_abbr[ax]:ai.settings.days[ax].substr(0,3));case"l":ay+=aq;break;case"N":ax++;case"w":ay+=ax;break;case"S":if(at%10==1&&at!="11"){ay+="st"}else{if(at%10==2&&at!="12"){ay+="nd"}else{if(at%10==3&&at!="13"){ay+="rd"}else{ay+="th"}}}break;default:ay+=ar}}return ay};var E=function(){var at=new Date(G,p+1,0).getDate(),ar=new Date(G,p,1).getDay(),av=new Date(G,p,0).getDate(),aq=ar-ai.settings.first_day_of_week;aq=aq<0?7+aq:aq;am(ai.settings.header_captions.days);var aw="<tr>";if(ai.settings.show_week_number){aw+="<th>"+ai.settings.show_week_number+"</th>"}for(var au=0;au<7;au++){aw+="<th>"+(a.isArray(ai.settings.days_abbr)&&undefined!==ai.settings.days_abbr[(ai.settings.first_day_of_week+au)%7]?ai.settings.days_abbr[(ai.settings.first_day_of_week+au)%7]:ai.settings.days[(ai.settings.first_day_of_week+au)%7].substr(0,2))+"</th>"}aw+="</tr><tr>";for(au=0;au<42;au++){if(au>0&&au%7===0){aw+="</tr><tr>"}if(au%7===0&&ai.settings.show_week_number){aw+='<td class="dp_week_number">'+c(new Date(G,p,(au-aq+1)))+"</td>"}var aA=(au-aq+1);if(ai.settings.select_other_months&&(au<aq||aA>at)){var aC=new Date(G,p,aA),ao=aC.getFullYear(),ax=aC.getMonth(),az=aC.getDate();aC=ao+y(ax+1,2)+y(az,2)}if(au<aq){aw+='<td class="'+(ai.settings.select_other_months&&!aa(ao,ax,az)?"dp_not_in_month_selectable date_"+aC:"dp_not_in_month")+'">'+(ai.settings.select_other_months||ai.settings.show_other_months?y(av-aq+au+1,ai.settings.zero_pad?2:0):"&nbsp;")+"</td>"}else{if(aA>at){aw+='<td class="'+(ai.settings.select_other_months&&!aa(ao,ax,az)?"dp_not_in_month_selectable date_"+aC:"dp_not_in_month")+'">'+(ai.settings.select_other_months||ai.settings.show_other_months?y(aA-at,ai.settings.zero_pad?2:0):"&nbsp;")+"</td>"}else{var ay=(ai.settings.first_day_of_week+au)%7,ap="",aB=ak(G,p,aA);if(aa(G,p,aA)){if(a.inArray(ay,ai.settings.weekend_days)>-1){ap="dp_weekend_disabled"}else{ap+=" dp_disabled"}if(p==o&&G==D&&k==aA){ap+=" dp_disabled_current"}if(aB!=""){ap+=" "+aB+"_disabled"}}else{if(a.inArray(ay,ai.settings.weekend_days)>-1){ap="dp_weekend"}if(p==ae&&G==ah&&J==aA){ap+=" dp_selected"}if(p==o&&G==D&&k==aA){ap+=" dp_current"}if(aB!=""){ap+=" "+aB}}aw+="<td"+(ap!==""?' class="'+a.trim(ap)+'"':"")+">"+((ai.settings.zero_pad?y(aA,2):aA)||"&nbsp;")+"</td>"}}}aw+="</tr>";T.html(a(aw));if(ai.settings.always_visible){U=a("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",T)}T.show()};var h=function(){am(ai.settings.header_captions.months);var ap="<tr>";for(var ao=0;ao<12;ao++){if(ao>0&&ao%3===0){ap+="</tr><tr>"}var aq="dp_month_"+ao;if(aa(G,ao)){aq+=" dp_disabled"}else{if(ae!==false&&ae==ao&&G==ah){aq+=" dp_selected"}else{if(o==ao&&D==G){aq+=" dp_current"}}}ap+='<td class="'+a.trim(aq)+'">'+(a.isArray(ai.settings.months_abbr)&&undefined!==ai.settings.months_abbr[ao]?ai.settings.months_abbr[ao]:ai.settings.months[ao].substr(0,3))+"</td>"}ap+="</tr>";b.html(a(ap));if(ai.settings.always_visible){F=a("td:not(.dp_disabled)",b)}b.show()};var C=function(){am(ai.settings.header_captions.years);var ap="<tr>";for(var ao=0;ao<12;ao++){if(ao>0&&ao%3===0){ap+="</tr><tr>"}var aq="";if(aa(G-7+ao)){aq+=" dp_disabled"}else{if(ah&&ah==G-7+ao){aq+=" dp_selected"}else{if(D==(G-7+ao)){aq+=" dp_current"}}}ap+="<td"+(a.trim(aq)!==""?' class="'+a.trim(aq)+'"':"")+">"+(G-7+ao)+"</td>"}ap+="</tr>";q.html(a(ap));if(ai.settings.always_visible){R=a("td:not(.dp_disabled)",q)}q.show()};var ak=function(aq,au,ao){var at,ap,ar;if(typeof au!="undefined"){au=au+1}for(ap in ac){at=ac[ap];ar=false;if(a.isArray(aj)){a.each(aj[at],function(){if(ar){return}var aw=this;if(a.inArray(aq,aw[2])>-1||a.inArray("*",aw[2])>-1){if((typeof au!="undefined"&&a.inArray(au,aw[1])>-1)||a.inArray("*",aw[1])>-1){if((typeof ao!="undefined"&&a.inArray(ao,aw[0])>-1)||a.inArray("*",aw[0])>-1){if(aw[3]=="*"){return(ar=at)}var av=new Date(aq,au-1,ao).getDay();if(a.inArray(av,aw[3])>-1){return(ar=at)}}}}})}if(ar){return ar}}return ar||""};var P=function(ao){if(g.name=="explorer"&&g.version==6){if(!X){var aq=r(N.css("zIndex"))-1;X=a("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:aq,position:"absolute",top:-1000,left:-1000,width:N.outerWidth(),height:N.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}});a("body").append(X)}switch(ao){case"hide":X.hide();break;default:var ap=N.offset();X.css({top:ap.top,left:ap.left,display:"block"})}}};var aa=function(au,av,ap){if((undefined===au||isNaN(au))&&(undefined===av||isNaN(av))&&(undefined===ap||isNaN(ap))){return false}else{if(au<1000){return true}}if(!(!a.isArray(ai.settings.direction)&&r(ai.settings.direction)===0)){var ar=r(an(au,(typeof av!="undefined"?y(av,2):""),(typeof ap!="undefined"?y(ap,2):""))),ao=(ar+"").length;if(ao==8&&((typeof al!="undefined"&&ar<r(an(B,y(A,2),y(Z,2))))||(typeof V!="undefined"&&ar>r(an(d,y(t,2),y(I,2)))))){return true}else{if(ao==6&&((typeof al!="undefined"&&ar<r(an(B,y(A,2))))||(typeof V!="undefined"&&ar>r(an(d,y(t,2)))))){return true}else{if(ao==4&&((typeof al!="undefined"&&ar<B)||(typeof V!="undefined"&&ar>d))){return true}}}}if(typeof av!="undefined"){av=av+1}var at=false,aq=false;if(a.isArray(v)&&v.length){a.each(v,function(){if(at){return}var ax=this;if(a.inArray(au,ax[2])>-1||a.inArray("*",ax[2])>-1){if((typeof av!="undefined"&&a.inArray(av,ax[1])>-1)||a.inArray("*",ax[1])>-1){if((typeof ap!="undefined"&&a.inArray(ap,ax[0])>-1)||a.inArray("*",ax[0])>-1){if(ax[3]=="*"){return(at=true)}var aw=new Date(au,av-1,ap).getDay();if(a.inArray(aw,ax[3])>-1){return(at=true)}}}}})}if(ab){a.each(ab,function(){if(aq){return}var ax=this;if(a.inArray(au,ax[2])>-1||a.inArray("*",ax[2])>-1){aq=true;if(typeof av!="undefined"){aq=true;if(a.inArray(av,ax[1])>-1||a.inArray("*",ax[1])>-1){if(typeof ap!="undefined"){aq=true;if(a.inArray(ap,ax[0])>-1||a.inArray("*",ax[0])>-1){if(ax[3]=="*"){return(aq=true)}var aw=new Date(au,av-1,ap).getDay();if(a.inArray(aw,ax[3])>-1){return(aq=true)}aq=false}else{aq=false}}}else{aq=false}}}})}if(ab&&aq){return false}else{if(v&&at){return true}}return false};var ag=function(ao){return(ao+"").match(/^\-?[0-9]+$/)?true:false};var am=function(ao){if(!isNaN(parseFloat(p))&&isFinite(p)){ao=ao.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(ap){switch(ap){case"m":return y(p+1,2);case"n":return p+1;case"F":return ai.settings.months[p];case"M":return(a.isArray(ai.settings.months_abbr)&&undefined!==ai.settings.months_abbr[p]?ai.settings.months_abbr[p]:ai.settings.months[p].substr(0,3));default:return ap}})}if(!isNaN(parseFloat(G))&&isFinite(G)){ao=ao.replace(/\bY\b/,G).replace(/\by\b/,(G+"").substr(2)).replace(/\bY1\b/i,G-7).replace(/\bY2\b/i,G+4)}a(".dp_caption",j).html(ao)};var S=function(){if(T.text()===""||e=="days"){if(T.text()===""){if(!ai.settings.always_visible){N.css("left",-1000)}N.css("visibility","visible");E();var ap=T.outerWidth(),ao=T.outerHeight();b.css({width:ap,height:ao});q.css({width:ap,height:ao});j.css("width",ap);s.css("width",ap);N.css("visibility","").addClass("dp_hidden")}else{E()}b.hide();q.hide()}else{if(e=="months"){h();T.hide();q.hide()}else{if(e=="years"){C();T.hide();b.hide()}}}if(ai.settings.onChange&&typeof ai.settings.onChange=="function"&&undefined!==e){var aq=(e=="days"?T.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):(e=="months"?b.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):q.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)")));aq.each(function(){var ar;if(e=="days"){if(a(this).hasClass("dp_not_in_month_selectable")){ar=a(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/);a(this).data("date",ar[1]+"-"+ar[2]+"-"+ar[3])}else{a(this).data("date",G+"-"+y(p+1,2)+"-"+y(r(a(this).text()),2))}}else{if(e=="months"){ar=a(this).attr("class").match(/dp\_month\_([0-9]+)/);a(this).data("date",G+"-"+y(r(ar[1])+1,2))}else{a(this).data("date",r(a(this).text()))}}});ai.settings.onChange.call(i,e,aq,i)}s.show();if(ai.settings.show_clear_date===true||(ai.settings.show_clear_date===0&&i.val()!=="")||(ai.settings.always_visible&&ai.settings.show_clear_date!==false)){Q.show();if(Y){L.css("width","50%");Q.css("width","50%")}else{L.hide();Q.css("width","100%")}}else{Q.hide();if(Y){L.show().css("width","100%")}else{s.hide()}}};var m=function(av,aw,at,aq,ap){var ao=new Date(av,aw,at,12,0,0),ar=(aq=="days"?U:(aq=="months"?F:R)),au=M(ao);i.val(au);if(ai.settings.always_visible){ae=ao.getMonth();p=ao.getMonth();ah=ao.getFullYear();G=ao.getFullYear();J=ao.getDate();ar.removeClass("dp_selected");ap.addClass("dp_selected");if(aq=="days"&&ap.hasClass("dp_not_in_month_selectable")){ai.show()}}ai.hide();u(ao);if(ai.settings.onSelect&&typeof ai.settings.onSelect=="function"){ai.settings.onSelect.call(i,au,av+"-"+y(aw+1,2)+"-"+y(at,2),ao,i,c(ao))}i.focus()};var an=function(){var ap="";for(var ao=0;ao<arguments.length;ao++){ap+=(arguments[ao]+"")}return ap};var y=function(ap,ao){ap+="";while(ap.length<ao){ap="0"+ap}return ap};var r=function(ao){return parseInt(ao,10)};var u=function(ao){if(ai.settings.pair){a.each(ai.settings.pair,function(){var ap=a(this);if(!(ap.data&&ap.data("Zebra_DatePicker"))){ap.data("zdp_reference_date",ao)}else{var aq=ap.data("Zebra_DatePicker");aq.update({reference_date:ao,direction:aq.settings.direction===0?1:aq.settings.direction});if(aq.settings.always_visible){aq.show()}}})}};var c=function(ap){var ax=ap.getFullYear(),aq=ap.getMonth()+1,av=ap.getDate(),az,ay,aw,aB,au,at,ar,ao,aA;if(aq<3){az=ax-1;ay=(az/4|0)-(az/100|0)+(az/400|0);aw=((az-1)/4|0)-((az-1)/100|0)+((az-1)/400|0);aB=ay-aw;au=0;at=av-1+31*(aq-1)}else{az=ax;ay=(az/4|0)-(az/100|0)+(az/400|0);aw=((az-1)/4|0)-((az-1)/100|0)+((az-1)/400|0);aB=ay-aw;au=aB+1;at=av+((153*(aq-3)+2)/5|0)+58+aB}ar=(az+ay)%7;av=(at+ar-au)%7;ao=at+3-av;if(ao<0){aA=53-((ar-aB)/5|0)}else{if(ao>364+aB){aA=1}else{aA=(ao/7|0)+1}}return aA};var g={init:function(){this.name=this.searchString(this.dataBrowser)||"";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(ar){for(var ao=0;ao<ar.length;ao++){var ap=ar[ao].string;var aq=ar[ao].prop;this.versionSearchString=ar[ao].versionSearch||ar[ao].identity;if(ap){if(ap.indexOf(ar[ao].subString)!=-1){return ar[ao].identity}}else{if(aq){return ar[ao].identity}}}},searchVersion:function(ap){var ao=ap.indexOf(this.versionSearchString);if(ao==-1){return}return parseFloat(ap.substring(ao+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};g.init();af()};a.fn.Zebra_DatePicker=function(b){return this.each(function(){if(undefined!==a(this).data("Zebra_DatePicker")){a(this).data("Zebra_DatePicker").destroy()}var c=new a.Zebra_DatePicker(this,b);a(this).data("Zebra_DatePicker",c)})}}));

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/animate-colors/jquery.animate-colors-min.js */
'use strict';(function(d){function h(a,b,e){var c="rgb"+(d.support.rgba?"a":"")+"("+parseInt(a[0]+e*(b[0]-a[0]),10)+","+parseInt(a[1]+e*(b[1]-a[1]),10)+","+parseInt(a[2]+e*(b[2]-a[2]),10);d.support.rgba&&(c+=","+(a&&b?parseFloat(a[3]+e*(b[3]-a[3])):1));return c+")"}function f(a){var b;return(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a))?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]:(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a))?[17*parseInt(b[1],16),17*parseInt(b[2],
  16),17*parseInt(b[3],16),1]:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),1]:(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(a))?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])]:l[a]}d.extend(!0,d,{support:{rgba:function(){var a=d("script:first"),b=a.css("color"),e=!1;if(/^rgba/.test(b))e=!0;else try{e=b!=a.css("color","rgba(0, 0, 0, 0.5)").css("color"),
      a.css("color",b)}catch(c){}return e}()}});var k="color backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor outlineColor".split(" ");d.each(k,function(a,b){d.Tween.propHooks[b]={get:function(a){return d(a.elem).css(b)},set:function(a){var c=a.elem.style,g=f(d(a.elem).css(b)),m=f(a.end);a.run=function(a){c[b]=h(g,m,a)}}}});d.Tween.propHooks.borderColor={set:function(a){var b=a.elem.style,e=[],c=k.slice(2,6);d.each(c,function(b,c){e[c]=f(d(a.elem).css(c))});var g=f(a.end);
    a.run=function(a){d.each(c,function(d,c){b[c]=h(e[c],g,a)})}}};var l={aqua:[0,255,255,1],azure:[240,255,255,1],beige:[245,245,220,1],black:[0,0,0,1],blue:[0,0,255,1],brown:[165,42,42,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgrey:[169,169,169,1],darkgreen:[0,100,0,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkviolet:[148,0,211,1],fuchsia:[255,
    0,255,1],gold:[255,215,0,1],green:[0,128,0,1],indigo:[75,0,130,1],khaki:[240,230,140,1],lightblue:[173,216,230,1],lightcyan:[224,255,255,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],magenta:[255,0,255,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],orange:[255,165,0,1],pink:[255,192,203,1],purple:[128,0,128,1],violet:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],white:[255,255,255,1],yellow:[255,255,
    0,1],transparent:[0,0,0,0]}})(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/jquery.scrollTo/jquery.scrollTo.min.js */
;(function(f){"use strict";"function"===typeof define&&define.amd?define(["jquery"],f):"undefined"!==typeof module&&module.exports?module.exports=f(require("jquery")):f(jQuery)})(function($){"use strict";function n(a){return!a.nodeName||-1!==$.inArray(a.nodeName.toLowerCase(),["iframe","#document","html","body"])}function h(a){return $.isFunction(a)||$.isPlainObject(a)?a:{top:a,left:a}}var p=$.scrollTo=function(a,d,b){return $(window).scrollTo(a,d,b)};p.defaults={axis:"xy",duration:0,limit:!0};$.fn.scrollTo=function(a,d,b){"object"=== typeof d&&(b=d,d=0);"function"===typeof b&&(b={onAfter:b});"max"===a&&(a=9E9);b=$.extend({},p.defaults,b);d=d||b.duration;var u=b.queue&&1<b.axis.length;u&&(d/=2);b.offset=h(b.offset);b.over=h(b.over);return this.each(function(){function k(a){var k=$.extend({},b,{queue:!0,duration:d,complete:a&&function(){a.call(q,e,b)}});r.animate(f,k)}if(null!==a){var l=n(this),q=l?this.contentWindow||window:this,r=$(q),e=a,f={},t;switch(typeof e){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(e)){e= h(e);break}e=l?$(e):$(e,q);case "object":if(e.length===0)return;if(e.is||e.style)t=(e=$(e)).offset()}var v=$.isFunction(b.offset)&&b.offset(q,e)||b.offset;$.each(b.axis.split(""),function(a,c){var d="x"===c?"Left":"Top",m=d.toLowerCase(),g="scroll"+d,h=r[g](),n=p.max(q,c);t?(f[g]=t[m]+(l?0:h-r.offset()[m]),b.margin&&(f[g]-=parseInt(e.css("margin"+d),10)||0,f[g]-=parseInt(e.css("border"+d+"Width"),10)||0),f[g]+=v[m]||0,b.over[m]&&(f[g]+=e["x"===c?"width":"height"]()*b.over[m])):(d=e[m],f[g]=d.slice&& "%"===d.slice(-1)?parseFloat(d)/100*n:d);b.limit&&/^\d+$/.test(f[g])&&(f[g]=0>=f[g]?0:Math.min(f[g],n));!a&&1<b.axis.length&&(h===f[g]?f={}:u&&(k(b.onAfterFirst),f={}))});k(b.onAfter)}})};p.max=function(a,d){var b="x"===d?"Width":"Height",h="scroll"+b;if(!n(a))return a[h]-$(a)[b.toLowerCase()]();var b="client"+b,k=a.ownerDocument||a.document,l=k.documentElement,k=k.body;return Math.max(l[h],k[h])-Math.min(l[b],k[b])};$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(a){return $(a.elem)[a.prop]()}, set:function(a){var d=this.get(a);if(a.options.interrupt&&a._last&&a._last!==d)return $(a.elem).stop();var b=Math.round(a.now);d!==b&&($(a.elem)[a.prop](b),a._last=this.get(a))}};return p});

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_custom/custom.js */
var preloader_cicular='<p align="center" class="es-loader"><\/p>';var messages_polling_checksum='';var es_preloader='<div class="es-loader"><\/div>';var last_user_messaging_checksum='none';var new_message_img='<img src="/w3t_img/images/ico_new_mes4.gif" alt="*" title="" border="0" />';var no_message_img='';var bid_updated_img='<img src="/w3t_img/images/ico_upd_bid4.gif" alt="" title="" border="0" />';var no_bid_updated_img='';var no_messages_from_customer_text_html='<div class="no_mesage">No messages from this customer.<\/div>';var no_messages_from_writer_text_html='<div class="no_mesage">No messages from this writer.<\/div>';var block_ui_corner_config={message:es_preloader,timeout:200,css:{width:'50px',top:'0',left:'0',margin:'auto',overlayCSS:{backgroundColor:'#3f92be',opacity:0.3,zIndex:'1010'}},showOverlay:false};var block_ui_text_config={message:es_preloader,timeout:100,css:{border:'1px solid #8196ae',padding:'5px'},overlayCSS:{backgroundColor:'#808080',opacity:0.2}};var block_ui_common_ajax_config={message:es_preloader,css:{border:'none',padding:'0px',width:'100%',height:'100%',opacity:0.7,color:'#fff',boxShadow:'none',minHight:'20px',minWidth:'20px'},timeout:0,showOverlay:false};var ajaxBeforeSend=function(selector){jQuery(selector).addClass('es-loader');};var ajaxComplete=function(selector){jQuery(selector).removeClass('es-loader');};jsLoader.ready(function(){jQuery.fn.ForceNumericOnly=function(){if(!jQuery(this).length){return false;}
jQuery('#contentspin').find(".buttonspin").on('click',function(){var $button=jQuery(this);var oldValue=parseFloat($button.parent().find("input").val());if($button.text()=="+"){var newVal=++oldValue;}else{if(oldValue>=2){var newVal=--oldValue;}else{var newVal=1}}
$button.parent().find("input").val(newVal).trigger('change');return false;});return this.each(function(){$(this).on('keydown',function(e){var key=e.which||e.keyCode;if(!e.shiftKey&&!e.altKey&&!e.ctrlKey&&key>=48&&key<=57||key>=96&&key<=105||key==8||key==9||key==13||key==35||key==36||key==37||key==39||key==46||key==45)
return true;var oldValue=parseFloat(jQuery(this).val());if(key==38){jQuery(this).val(++oldValue);return false;};if(key==40){if(oldValue>1){jQuery(this).val(--oldValue);};return false;};return false;});});};jQuery("#id_pages_qty").ForceNumericOnly();jQuery("#id_esof_pages_qty").ForceNumericOnly();if(jQuery.fn.tipsy){getTooltipLocaltime=function(tooltip_obj){var r=Math.round(Math.random()*100000);var utc_offset_m=jQuery(tooltip_obj).data('utc-offset');var last_activity=jQuery(tooltip_obj).data('last-activity');jQuery.ajax({url:'/get_localtime.html',type:'GET',dataType:'json',data:{om:utc_offset_m},beforeSend:function(){},complete:function(){},success:function(data){if(data!=undefined&&typeof(data)=='object'){var balloon_content='';balloon_content+='<div class="labela ">'+__('Customer\'s local time:')+' <b>'+data.local_time+'</b></div>';balloon_content+='<div class="labela ">'+__('Customer\'s time offset:')+' <b>'+data.timezone+'</b></div>';balloon_content+='<div class="labela ">'+__('Last activity:')+' <b>'+last_activity+'</b></div>';jQuery('#tipsy_load_'+r).html(balloon_content);return true;}
else{jQuery('#tipsy_load_'+r).html('');return false;}}});return'<div id="tipsy_load_'+r+'" class="loader tipsy_localtime">'+__('Please wait...')+'<\/div>';};jQuery('.tooltip_e').tipsy({gravity:'e',html:true,opacity:1});jQuery('.tooltip_w').tipsy({gravity:'w',html:true,opacity:1});jQuery('.tooltip_n').tipsy({gravity:'n',html:true,opacity:1});jQuery('.tooltip_we').tipsy({gravity:'n',html:true,opacity:1,live:true,selector:'.tooltip_we',context:document});jQuery('.discount_info').tipsy({live:true,html:true,opacity:1,selector:'.discount_info',context:document});jQuery(".tooltip_t").tipsy({gravity:'w',html:true,opacity:1});jQuery(".tooltip_s").tipsy({gravity:'s',html:true,opacity:1,live:true,selector:'.tooltip_s',context:document});jQuery('.tooltip_form_field_title').tipsy({gravity:'s',html:true,opacity:1});jQuery('.tooltip_form_field_value').tipsy({gravity:'s',html:true,opacity:1});jQuery('.tooltip_localtime').tipsy({gravity:jQuery.fn.tipsy.autoWE,html:true,opacity:1,title:function(){return getTooltipLocaltime(this);}});}
jQuery(window).on('scroll',function(){if(jQuery(window).scrollTop()!=0){jQuery('#toTop').fadeIn();}else{jQuery('#toTop').fadeOut();}});jQuery('#toTop').on('click',function(){jQuery('body,html').animate({scrollTop:0},800);});var jump=function(e){if(location.hash.substring(1,10)!='scrollto-'){return false;}
jQuery('html, body').scrollTop(0).show();if(e){e.preventDefault();var target=jQuery(this).attr('href');}
else{var target=location.hash.replace('scrollto-','');}
if(jQuery(target).offset()==null||jQuery(target).offset()==undefined){return false;}
jQuery('html, body').animate({scrollTop:(Math.round(jQuery(target).offset().top)-180)},1500,function(){jQuery(target).addClass('active');jQuery(target+" .w_comment:first").animate({backgroundColor:'#ffffff'},300).animate({backgroundColor:'#fcd780'},300);});return true;}
if(location.hash){setTimeout(function(){jump();},0);}
jQuery('.gotop').on('click',function(){jQuery('#bodystart').scrollTo(jQuery('#bodystart').children('div'),800);return false;});$('.soc_tip').on('hover',function(){$(this).children().stop().fadeIn(100);},function(){$(this).children().stop().fadeOut(150);});$('.comment_toggler').on('click',function(){var orderID='#order'+$(this).attr('id');if($(this).hasClass('shown')){$(this).removeClass('shown').text('Show writer\'s comment');$(orderID).find('.writers').slideToggle(300);}
else{$(this).addClass('shown').text('Hide writer\'s comment');$(orderID).find('.writers').slideToggle(300);}});amountUsd2Local=function(){jQuery('.amount_usd2local').each(function(index){if(typeof(usd2local_enabled)!='boolean'||usd2local_enabled!=true||typeof(usd2local_rate)!='number'||typeof(usd2local_sign_pre)!='string'||typeof(usd2local_sign_post)!='string'){return false;}
if(usd2local_rate<=0){return false;}
var usd_amount=jQuery(this).data('amount-usd')+'';usd_amount=usd_amount.replace(/[^\d.-]/g,'');var local_amount=(usd_amount / usd2local_rate).toFixed(2);if(local_amount==0){local_amount=0;}
var local_amount_str=' ('+local_amount+usd2local_sign_post+')';jQuery(this).html(local_amount_str);return true;});};amountUsd2Local();var RequestCardCurrent_x=0;var RequestCardCurrent_y=0;var CurrentObj=0;var CurrentObjParent=0;var CurrentlyAnimated=false;var WriterToShow=0;$('.request_writer').on('click',function(){CurrentObj=$(this);CurrentObjParent=$(this).parent('.writers_card');if(CurrentObjParent.hasClass('expanded_perm')){RequestCardClick('expanded_perm');}
else{RequestCardClick('expandable');}});$('.request_writer_conceal').on('click',function(){CurrentObj=$(this);CurrentObjParent=$(this).parent('.writers_card');$('.request_writer_conceal').css({width:1,left:82});RequestCardClick('');});function RequestCardClick(expand){var current_writer_name=$(CurrentObjParent).find('.writer-name').text();var current_writer_id=$(CurrentObjParent).find('.writer-pen_name_slug').text();WriterToShow='<dl id="writer_temp" class="sof-row writer-temp" style="height:0; overflow:hidden;"><dt class="sof-cell sof-label font-dosis">&nbsp;Writer:</dt><dd id="dd_sof_writer_req" class="sof-cell dd-sof-writer-req"><input type="hidden" name="writer_req" id="id_writer_req" value="'+current_writer_id+'" />'+current_writer_name+' <span class="cancel-request-container"><span id="cancel_request_writer"></span></span></dd></dl>';if(CurrentlyAnimated){return false;};RequestCardCurrent_x=$(CurrentObjParent).offset().left;RequestCardCurrent_y=$(CurrentObjParent).offset().top;CurrentObjParent.addClass(expand);CurrentlyAnimated=true;if($('#es_form_esof').hasClass('fixed')){RequestCardAnimate(0,400,expand);}else{if($(document).scrollTop()<350){$('body,html').animate({scrollTop:80},200,function(){RequestCardAnimate(0,400,expand)});}
else if(($(document).scrollTop()>=350)&&($(document).scrollTop()<950)){$('body,html').animate({scrollTop:80},500,function(){RequestCardAnimate(100,600,expand)});}
else{$('body,html').animate({scrollTop:80},800,function(){RequestCardAnimate(200,900,expand)});}}}
function RequestCardAnimate(delaytime,animationtime,expand){var target_x=$('#dl_sof_deadline_date').offset().left+95+'px';var target_y=$('#dl_sof_deadline_date').offset().top+8+'px';$('.writers_card.disabled').addClass(expand).removeClass('disabled');if($('.find_writers').hasClass('show')){$("#newOrderFrom").find('input:text:visible:first').focus();}else{$('#es_form_esof').animate({backgroundColor:'#fff'},300).animate({backgroundColor:'#ebf2f7'},300).find('input:text:visible:first').focus();}
CurrentObjParent.clone().appendTo('body').addClass('clone').css({left:RequestCardCurrent_x,top:RequestCardCurrent_y}).removeClass('expanded expanded_perm expand_button expandable').find('.request_writer, .request_writer_conceal').remove();$(CurrentObjParent).removeClass(expand).addClass('disabled');if($(CurrentObj).parents().hasClass('left')){$(CurrentObjParent).height(48);}
$('.clone').delay(delaytime).animate({'left':target_x,'top':target_y},animationtime).delay(60).fadeOut(200,function(){$(this).remove();if($('#writer_temp')[0]){$('#writer_temp').remove();$('#dl_sof_deadline_date').after(WriterToShow);$('#writer_temp').height(31);CurrentlyAnimated=false;}
else{$('#dl_sof_deadline_date').after(WriterToShow);$('#writer_temp').animate({height:31},150,function(){CurrentlyAnimated=false;});}
$('.cancel-request-container').on('click',function(){$(CurrentObjParent).removeClass('disabled').addClass(expand);$('#writer_temp').animate({height:0},150,function(){$(this).remove();});});});}
$(document).on('click','.trigger3',function(){$(this).toggleClass('tohide');if($(this).hasClass('tohide')){$(this).children('a').text(__('Hide description'))}else{$(this).children('a').text(__('Read about featured orders'))};$('.featured_more').slideToggle(300);$('.featured_more_header').fadeToggle(300);});if(jQuery.fn.buttonset){jQuery('.radio_set').buttonset();}
jQuery('.top').on('click',function(e){var url=jQuery(e.target).find('a').attr('href');if(url==undefined){url=jQuery(e.target).parent().find('a').attr('href');if(url==undefined)url=jQuery(e.target).parent().parent().find('a').attr('href');}
window.location.assign(url);});jQuery('.prevent_double_click').on('click',function(e){jQuery(e.target).on('click',function(){return false;});setTimeout(function(){jQuery(e.target).off('click',function(){return false;});},2000);});if(typeof(jQuery('#contract_agree_dialog').dialog)=='function'){jQuery('#contract_agree_dialog').dialog({width:700,height:600,modal:true,draggable:false,autoOpen:true,position:{my:'center center'},closeOnEscape:false,dialogClass:'no-close'});}
jQuery('.open-close').on('click',function(){jQuery('.box_time_set').toggleClass('open');});});blinkObject=function(obj){obj.animate({backgroundColor:'#FFF340'},70);obj.animate({backgroundColor:'#ffffff'},200);};gAlert=function(text,header,callback_func,options){if(header==undefined||header==null||header==''){header=__('Information');}
var button_caption=__('Ok');if(typeof(options)!='undefined'&&typeof(options.button_caption)=='string'){button_caption=__(options.button_caption);}
var width=300;if(typeof(options)!='undefined'&&typeof(options.width)=='number'){width=options.width;}
new jQuery.Zebra_Dialog(text,{'type':'information','title':header,'modal':true,'width':width,'animation_speed_hide':0,'overlay_close':false,'show_close_button':false,'keyboard':true,'buttons':[{caption:button_caption}],'onClose':function(caption){if(jQuery.isFunction(callback_func)){callback_func();}}});return true;};gConfirm=function(text,header,callback_func_y,callback_func_n,options){if(header==undefined||header==null||header==''){header=__('Confirmation');}
var button_1_caption=__('Ok');if(typeof(options)!='undefined'&&typeof(options.button_1_caption)=='string'){button_1_caption=__(options.button_1_caption);}
var button_2_caption=__('Cancel');if(typeof(options)!='undefined'&&typeof(options.button_2_caption)=='string'){button_2_caption=__(options.button_2_caption);}
new jQuery.Zebra_Dialog(text,{'type':'question','title':header,'modal':true,'width':500,'animation_speed_hide':0,'overlay_close':false,'show_close_button':false,'keyboard':true,'buttons':[{caption:button_1_caption,callback:function(){if(jQuery.isFunction(callback_func_y)){callback_func_y();}}},{caption:button_2_caption,callback:function(){if(jQuery.isFunction(callback_func_n)){callback_func_n();}}}],'onClose':function(caption){if(caption==false&&jQuery.isFunction(callback_func_n)){callback_func_n();}}});return true;};date2Ymd=function(date_str){if(date_str==undefined||date_str==null||date_str==''){return 0;}
var month_obj={'jan':'1','feb':'2','mar':'3','apr':'4','may':'5','jun':'6','jul':'7','aug':'8','sep':'9','oct':'10','nov':'11','dec':'12','янв':'1','фев':'2','мар':'3','апр':'4','май':'5','июн':'6','июл':'7','авг':'8','сен':'9','окт':'10','ноя':'11','дек':'12','十一月':'11','十二月':'12','一月':'1','二月':'2','三月':'3','四月':'4','五月':'5','六月':'6','七月':'7','八月':'8','九月':'9','十月':'10'};for(var month_name in month_obj){date_str=date_str.replace(new RegExp(month_name,'gi'),'['+month_obj[month_name]+']');}
var date_d,date_m,date_y=0;var matched=false;if(!matched){var matches=/^(\d{1,2}) \[(\d{1,2})\] (\d\d\d\d)$/i.exec(date_str);if(matches&&matches.length==4){date_d=matches[1];date_m=matches[2];date_y=matches[3];matched=true;}}
if(!matched){var matches=/^(\d\d\d\d)年(\d{1,2})月(\d{1,2})日$/i.exec(date_str);if(matches&&matches.length==4){date_d=matches[3];date_m=matches[2];date_y=matches[1];matched=true;}}
if(!matched){return 0;}
date_d=('0'+parseInt(date_d)).substr(-2);date_m=('0'+parseInt(date_m)).substr(-2);var ret=date_y+date_m+date_d;return ret;};jQuery(document).on('click','a.ordernow',function(){var target=jQuery('#es_form_esof').offset().top-30;jQuery('body,html').animate({scrollTop:target},200,function(){jQuery('#id_esof_email').focus();});jQuery('#es_form_esof').animate({backgroundColor:'#ffffff'},170).animate({backgroundColor:'#ebf2f7'},300).animate({backgroundColor:'#ffffff'},170).animate({backgroundColor:'#ebf2f7'},300);return false;});playSound=function(id,url,volume){if(volume<=0||volume>1){return false;}
if(jQuery('#'+id).length<=0){jQuery('body').append('<audio src="'+url+'" id="'+id+'" style="display:none;"></audio>');}
var mySound=document.getElementById(id);if(mySound==null){return false;}
if(typeof(mySound.error)!='undefined'&&mySound.error!=null&&typeof(mySound.error.code)!='undefined'&&mySound.error.code!=null&&mySound.error.code>0){return false;}
if(typeof(mySound.volume)=='number'&&typeof(mySound.play)=='function'){try{mySound.volume=volume;mySound.play();}
catch(e){}}};onNewOrder=function(sound_volume){if(typeof(Audio)=='undefined'){return false;}
var file_ext='mp3';if(navigator.userAgent.toLowerCase().indexOf('firefox')>-1){file_ext='ogg';}
playSound('sound_new_order','/w3t_img/sound/new-order.'+file_ext,sound_volume);};onNewMessageSound=function(sound_volume){if(typeof(Audio)=='undefined'){return false;}
var file_ext='mp3';if(navigator.userAgent.toLowerCase().indexOf('firefox')>-1){file_ext='ogg';}
playSound('sound_new_message','/w3t_img/sound/new-message.'+file_ext,sound_volume);};onNewMessageFavicon=function(new_messages_exist){if(typeof(new_messages_exist)!=='boolean'){new_messages_exist=true;}
var faviconList=document.querySelectorAll('[favicon]');var faviconType=new_messages_exist?'/favicon-new-message-':'/favicon-';[].forEach.call(faviconList,function(favicon){favicon.href=faviconType+favicon.sizes+'.png';});};fileFromCustomerExpired=function(){new jQuery.Zebra_Dialog('The file(s) from the customer in this order has been outdated and is no longer available. <br /><br />In order to retrieve the file, please contact the Support Team.',{'type':'information','title':'File has been outdated','modal':true,'width':500,'animation_speed_hide':0});};

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_pages/onclick.js */
document.addEventListener('DOMContentLoaded',function(){var onclick_elem_ar=document.getElementsByClassName('onclick-data-slug');var i=0;for(i=0;i<onclick_elem_ar.length;i++){if(typeof(onclick_elem_ar[i].dataset.onclickSlug)!='string'){continue;}
var _elem=onclick_elem_ar[i];var _slug=onclick_elem_ar[i].dataset.onclickSlug;onclick_elem_ar[i].addEventListener('click',function(){w3tOnClickWorker(_slug,_elem);});}});function getWrittenPagesCount(){var node=document.getElementById('order_progress_bar_pages_written');if(node){return parseInt(node.innerText,10);}}
function w3tOnClickWorker(slug,elem){switch(slug){case'ga_event_writer_file_upload_dialog':if(typeof(ga)=='function'){ga('send','event','Writer','FileInput upload dialog');}
break;case'ga_pageview_save_profile':if(typeof(ga)=='function'){ga('send','pageview','/save_profile.html');}
break;case'ga_pageview_send_email':if(typeof(ga)=='function'){ga('send','pageview','/send_email.html');}
break;case'ga_event_sorting_click_bidslist':if(typeof(ga)=='function'){ga('send','event','Sorting','Click','BidsList');}
break;case'ga_event_button_ordernow_aftercontent':if(typeof(ga)=='function'){ga('send','event','Button','OrderNow','AfterContent');}
break;case'ga_event_banner_topicsuggestion_aftercontent':if(typeof(ga)=='function'){ga('send','event','Banner','TopicSuggestion','AfterContent');}
break;case'ga_event_topwriters_ratingawards_click':if(typeof(ga)=='function'){ga('send','event','TopWriters','Click on RatingAwards link');}
break;case'ga_event_topwriters_selectordersqty':if(typeof(ga)=='function'){ga('send','event','TopWriters','SelectOrdersQty');}
break;case'ga_event_topwriters_usesorting':if(typeof(ga)=='function'){ga('send','event','TopWriters','UseSorting');}
break;case'ga_event_topwriters_writerrow_click':if(typeof(ga)=='function'){ga('send','event','TopWriters','Click on writerRow');}
break;case'ga_event_dialog_whatsnext':if(typeof(ga)=='function'){ga('send','event','Dialog','Show Whats Next');}
break;case'ga_event_editemail_newusereditemail':if(typeof(ga)=='function'){ga('send','event','Edit email','New user edit email');}
break;case'ga_event_click_stepsorderinfoanalize':if(typeof(ga)=='function'){ga('send','event','Click on Steps','Steps of order info anal');}
break;case'ga_event_click_stepsorderinfoassig':if(typeof(ga)=='function'){ga('send','event','Click on Steps','Steps of order info assig');}
break;case'ga_event_click_stepsorderinfowriting':if(typeof(ga)=='function'){ga('send','event','Click on Steps','Steps of order info writing');}
break;case'ga_event_plagiarismcheck_orderincanceled':if(typeof(ga)=='function'){ga('send','event','PlagiarismCheck','OrderinCanceled');}
break;case'ga_event_plagiarismcheck_orderfinished':if(typeof(ga)=='function'){ga('send','event','PlagiarismCheck','OrderFinished');}
break;case'ga_event_plagiarismcheck_orderinprogress':if(typeof(ga)=='function'){ga('send','event','PlagiarismCheck','OrderinProgress','',getWrittenPagesCount());}
break;case'ga_event_clickback_ticket':if(typeof(ga)=='function'){ga('send','event','Click Back','ticket');}
break;case'ga_event_writer_fileinput_upload_bottomeditor':if(typeof(ga)=='function'){ga('send','event','Writer','FileInput upload bottomEditor');}
break;case'ga_event_writer_fileinput_upload_dialog':if(typeof(ga)=='function'){ga('send','event','Writer','FileInput upload dialog');}
break;case'ga_event_writer_changefiltersclick':if(typeof(ga)=='function'){ga('send','event','Writer','ChangeFiltersClick');}
break;case'ga_event_writer_clickviewhistory':if(typeof(ga)=='function'){ga('send','event','Writer','Click on View history');}
break;case'ga_pageview_start_test':if(typeof(ga)=='function'){ga('send','pageview','/start_test.html');}
break;}}

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/sisyphus/sisyphus_custom.min.js */
(function(b){b.fn.sisyphus=function(e){var d=b.map(this,function(g,f){return b(g).attr("id")+b(g).attr("name")}).join();var c=Sisyphus.getInstance(d);c.protect(this,e);return c};var a={};a.isAvailable=function(){if(typeof b.jStorage==="object"){return true}try{return localStorage.getItem}catch(c){return false}};a.set=function(c,d){if(typeof b.jStorage==="object"){b.jStorage.set(c,d+"")}else{try{localStorage.setItem(c,d+"")}catch(f){}}};a.get=function(d){if(typeof b.jStorage==="object"){var c=b.jStorage.get(d);return c?c.toString():c}else{return localStorage.getItem(d)}};a.remove=function(c){if(typeof b.jStorage==="object"){b.jStorage.deleteKey(c)}else{localStorage.removeItem(c)}};Sisyphus=(function(){var d={instantiated:[],started:[]};function c(){return{setInstanceIdentifier:function(e){this.identifier=e},getInstanceIdentifier:function(){return this.identifier},setInitialOptions:function(e){var f={excludeFields:[],customKeyPrefix:"",customKeySuffix:"",locationBased:false,timeout:0,autoRelease:true,onSave:function(){},onBeforeRestore:function(){},onRestore:function(){},onRelease:function(){}};this.options=this.options||b.extend(f,e);this.browserStorage=a},setOptions:function(e){this.options=this.options||this.setInitialOptions(e);this.options=b.extend(this.options,e)},protect:function(e,g){this.setOptions(g);e=e||{};var f=this;this.targets=this.targets||[];this.href=location.hostname+location.pathname+location.search+location.hash;this.targets=b.merge(this.targets,e);this.targets=b.unique(this.targets);this.targets=b(this.targets);if(!this.browserStorage.isAvailable()){return false}var h=f.options.onBeforeRestore.call(f);if(h===undefined||h){f.restoreAllData()}if(this.options.autoRelease){f.bindReleaseData()}if(!d.started[this.getInstanceIdentifier()]){if(f.isCKEditorPresent()){var i=setInterval(function(){if(CKEDITOR.isLoaded){clearInterval(i);f.bindSaveData();d.started[f.getInstanceIdentifier()]=true}},100)}else{f.bindSaveData();d.started[f.getInstanceIdentifier()]=true}}},isCKEditorPresent:function(){if(this.isCKEditorExists()){CKEDITOR.isLoaded=false;CKEDITOR.on("instanceReady",function(){CKEDITOR.isLoaded=true});return true}else{return false}},isCKEditorExists:function(){return typeof CKEDITOR!="undefined"},findFieldsToProtect:function(e){return e.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password").not(":disabled")},bindSaveData:function(){var e=this;if(e.options.timeout){e.saveDataByTimeout()}e.targets.each(function(){var f=b(this).attr("id")+b(this).attr("name");e.findFieldsToProtect(b(this)).each(function(){if(b.inArray(this,e.options.excludeFields)!==-1){return true}var h=b(this);var g=(e.options.locationBased?e.href:"")+f+e.options.customKeyPrefix+h.attr("name")+e.options.customKeySuffix;if((h.is(":text")||h.is("textarea"))&&!h.hasClass("sisyphusSaveOnChange")){if(!e.options.timeout){e.bindSaveDataImmediately(h,g)}}e.bindSaveDataOnChange(h)})})},saveAllData:function(){var e=this;e.targets.each(function(){var f=b(this).attr("id")+b(this).attr("name");var g={};e.findFieldsToProtect(b(this)).each(function(){var k=b(this);if(b.inArray(this,e.options.excludeFields)!==-1||k.attr("name")===undefined){return true}var j=(e.options.locationBased?e.href:"")+f+e.options.customKeyPrefix+k.attr("name")+e.options.customKeySuffix;var i=k.val();if(k.is(":checkbox")){if(k.attr("name").indexOf("[")!==-1){if(g[k.attr("name")]===true){return}i=[];b("[name='"+k.attr("name")+"']:checked").each(function(){i.push(b(this).val())});g[k.attr("name")]=true}else{i=k.is(":checked")}e.saveToBrowserStorage(j,i,false)}else{if(k.is(":radio")){if(k.is(":checked")){i=k.val();e.saveToBrowserStorage(j,i,false)}}else{if(e.isCKEditorExists()){var h;if(h=CKEDITOR.instances[k.attr("name")]||CKEDITOR.instances[k.attr("id")]){h.updateElement();e.saveToBrowserStorage(j,k.val(),false)}else{e.saveToBrowserStorage(j,i,false)}}else{e.saveToBrowserStorage(j,i,false)}}}})});e.options.onSave.call(e)},restoreAllData:function(){var e=this;var f=false;e.targets.each(function(){var h=b(this);var g=b(this).attr("id")+b(this).attr("name");e.findFieldsToProtect(h).each(function(){if(b.inArray(this,e.options.excludeFields)!==-1){return true}var k=b(this);var j=(e.options.locationBased?e.href:"")+g+e.options.customKeyPrefix+k.attr("name")+e.options.customKeySuffix;var i=e.browserStorage.get(j);if(i!==null){e.restoreFieldsData(k,i);f=true}})});if(f){e.options.onRestore.call(e)}},restoreFieldsData:function(f,e){if(f.attr("name")===undefined){return false}if(f.is(":checkbox")&&e!=="false"&&f.attr("name").indexOf("[")===-1){f.prop("checked","checked")}else{if(f.is(":checkbox")&&e==="false"&&f.attr("name").indexOf("[")===-1){f.removeAttr("checked")}else{if(f.is(":radio")){if(f.val()===e){f.prop("checked","checked")}}else{if(f.attr("name").indexOf("[")===-1){f.val(e)}else{e=e.split(",");f.val(e)}}}}},bindSaveDataImmediately:function(h,g){var e=this;if("onpropertychange" in h){h.get(0).onpropertychange=function(){e.saveToBrowserStorage(g,h.val())}}else{h.get(0).oninput=function(){e.saveToBrowserStorage(g,h.val())}}if(this.isCKEditorExists()){var f;if(f=CKEDITOR.instances[h.attr("name")]||CKEDITOR.instances[h.attr("id")]){f.document.on("keyup",function(){f.updateElement();e.saveToBrowserStorage(g,h.val())})}}},saveToBrowserStorage:function(f,g,e){e=e===undefined?true:e;this.browserStorage.set(f,g);if(e&&g!==""){this.options.onSave.call(this)}},bindSaveDataOnChange:function(f){var e=this;f.change(function(){e.saveAllData()})},saveDataByTimeout:function(){var f=this;var e=f.targets;setTimeout((function(){function g(){f.saveAllData();setTimeout(g,f.options.timeout*1000)}return g})(e),f.options.timeout*1000)},bindReleaseData:function(){var e=this;e.targets.each(function(){var g=b(this);var f=g.attr("id")+g.attr("name");b(this).bind("submit reset",function(){e.releaseData(f,e.findFieldsToProtect(g))})})},manuallyReleaseData:function(){var e=this;e.targets.each(function(){var g=b(this);var f=g.attr("id")+g.attr("name");e.releaseData(f,e.findFieldsToProtect(g))})},releaseData:function(h,e){var g=false;var f=this;d.started[f.getInstanceIdentifier()]=false;e.each(function(){if(b.inArray(this,f.options.excludeFields)!==-1){return true}var j=b(this);var i=(f.options.locationBased?f.href:"")+h+f.options.customKeyPrefix+f.options.customKeyPrefix+j.attr("name")+f.options.customKeySuffix;f.browserStorage.remove(i);g=true});if(g){f.options.onRelease.call(f)}}}}return{getInstance:function(e){if(!d.instantiated[e]){d.instantiated[e]=c();d.instantiated[e].setInstanceIdentifier(e);d.instantiated[e].setInitialOptions()}if(e){return d.instantiated[e]}return d.instantiated[e]},free:function(){d={instantiated:[],started:[]};return null},version:"1.1.107"}})()})(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_custom/es_utils.js */
function throttle(func,ms){var isThrottled=false,savedArgs,savedThis;function wrapper(){if(isThrottled){savedArgs=arguments;savedThis=this;return;}
func.apply(this,arguments);isThrottled=true;setTimeout(function(){isThrottled=false;if(savedArgs){wrapper.apply(savedThis,savedArgs);savedArgs=savedThis=null;}},ms);}
return wrapper;}
function isValidEmail(email){var emailRegexp=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return emailRegexp.test(email);}

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_custom/es_components.js */
function GdprCheckboxes(settings){this.form=$(settings.form);this.emailInput=$(settings.emailInput);this.checkboxPolicy=$(settings.checkboxPolicy);this.checkBoxPolicyCustom=$(settings.checkBoxPolicyCustom);this.checkboxMarketing=$(settings.checkboxMarketing);this.checkboxMarketingCustom=$(settings.checkboxMarketingCustom);this.submitButton=$(settings.submitButton);this.iconLoading=$(settings.iconLoading);this.icons=$(settings.icons);this.iconWrapper=$(settings.iconWrapper);this.checkboxWrappers=$(settings.checkboxWrappers);this.checkboxesRow=$(settings.checkboxesRow);this.formWithTooltip=settings.formWithTooltip||false;this.iconQuestion=$(settings.iconQuestion);this.iconQuestionFilled=$(settings.iconQuestionFilled);this.isOnceFocusedEmailInput=false;this.checkEmail=throttle(this._checkEmail,1500);this.callbackShowCheckboxes=settings.callbackShowCheckboxes;this.callbackHideCheckboxes=settings.callbackHideCheckboxes;this.isAlreadyChecked=false;this.blockSubmitButton=settings.blockSubmitButton||'yes';this.isUserClickedSubmitButtonWhileCheckingEmail=false;this.satelliteNotClone=settings.satelliteNotClone;this.host=settings.host;}
GdprCheckboxes.prototype.init=function(force){var self=this;if(force){this.emailInput.unbind('focusout');this._addOnChangeListenerForEmailInput();this.initGdprChecboxes();this.showGdprCheckboxes();}else{if(this.emailInput!==''&&isValidEmail(self.emailInput.val())&&!this.isAlreadyChecked){self.checkEmail($('#id_esof_email_label').text()||self.emailInput.val());self._addOnChangeListenerForEmailInput();self.isAlreadyChecked=true;}
this.emailInput.on('change',function(){if(self.inputValue!==$(this).val()){self.checkEmail(self.emailInput.val());}
if(!self.isAlreadyChecked){self._addOnChangeListenerForEmailInput();}});this.checkboxesRow.hide();this.initGdprChecboxes();}};GdprCheckboxes.prototype.initGdprChecboxes=function(){this.checkboxWrappers.unbind();this.checkboxWrappers.on('click',click);this.checkboxWrappers.on('keypress',function(e){if(e.which===13)click.call(this);});this.checkboxPolicy.on('change',function(){$(this).removeClass('error');});function click(){var $targetCheckbox=$('#'+$(this).data('target-checkbox'));$targetCheckbox.trigger('click');}};GdprCheckboxes.prototype.showGdprCheckboxes=function(data){this.checkboxesRow.show();this.checkboxPolicy.rules('add',{required:true,});[this.checkBoxPolicyCustom,this.checkboxMarketingCustom].forEach(function(item){item.attr('tabindex',0);});if(this.callbackShowCheckboxes)this.callbackShowCheckboxes(data);};GdprCheckboxes.prototype.hideGdprCheckboxes=function(){this.checkboxesRow.hide();if(this.checkboxPolicy.prop('required')){this.checkboxPolicy.rules('remove',{required:true,});}
[this.checkBoxPolicyCustom,this.checkboxMarketingCustom].forEach(function(item){item.attr('tabindex',-1);});if(this.callbackHideCheckboxes)this.callbackHideCheckboxes();};GdprCheckboxes.prototype._checkEmail=function(email,callback){var self=this;email=email||this.emailInput.val();if(this.blockSubmitButton==='yes')this.submitButton.prop('disabled',true);this.submitButton.addClass('disabled');this.iconLoading.show();if(this.formWithTooltip){this.iconWrapper.css('pointer-events','none');this.iconQuestion.hide();}
var requestUrl;if(this.satelliteNotClone){requestUrl='//'+this.host+'/auth/aj_check_user_policy.html?callback=?';}else{requestUrl='/auth/aj_check_user_policy.html';}
$.ajax({url:requestUrl,type:'GET',dataType:'json',data:{user_login:email},}).done(function(data){if(self._validationRules(data)){self.showGdprCheckboxes(data);}else{self.hideGdprCheckboxes(data);}
if(self.blockSubmitButton==='yes')self.submitButton.prop('disabled',false);self.submitButton.removeClass('disabled');self.iconLoading.hide();if(self.formWithTooltip){self.iconWrapper.css('pointer-events','auto');self.iconQuestion.show();}}).fail(function(data){console.log('fail',data);});};GdprCheckboxes.prototype._addOnChangeListenerForEmailInput=function(){var self=this;this.emailInput.on('input',function(){self.inputValue=$(this).val();if($(this).val()!==''&&isValidEmail($(this).val())){self.checkEmail(self.emailInput.val());}else{self.hideGdprCheckboxes();}});};GdprCheckboxes.prototype._validationRules=function(data){var self=this;return((data.policy==='no_exist')&&self.emailInput.val()!=='');};function GdprCheckboxesLoginForm(){GdprCheckboxes.apply(this,arguments);}
GdprCheckboxesLoginForm.prototype=Object.create(GdprCheckboxes.prototype);GdprCheckboxesLoginForm.prototype.constructor=GdprCheckboxesLoginForm;GdprCheckboxesLoginForm.prototype._validationRules=function(data){var self=this;return((data.policy==='no_exist'&&data.user==='exist')&&self.emailInput.val()!=='');};var styles='<style>#dl-row-policy, #error_container_policy, .sof-email__info__icon-loading, .sof-email__info__icon-question--filled {\n'+'  display: none\n'+'}\n'+'\n'+'#policy-error {\n'+'  display: none !important\n'+'}\n'+'\n'+'button.disabled {\n'+'  opacity: .5 !important\n'+'}\n'+'\n'+'#id_esof_email {\n'+'  padding-right: 40px !important\n'+'}\n'+'\n'+'#dd_esof_esof_email {\n'+'  position: relative !important\n'+'}\n'+'\n'+'#esof_policy-error {\n'+'  display: none !important\n'+'}\n'+'\n'+'#dd_esof_esof_marketing, #dd_esof_esof_policy, #dd_sof_marketing, #dd_sof_policy {\n'+'  display: inline-flex !important;\n'+'  align-items: flex-start\n'+'}\n'+'\n'+'#id_esof_login_link_terms, #id_esof_login_link_policy, #id_esof_password_link_terms, #id_esof_password_link_policy, #dd_esof_esof_marketing a, #dd_esof_esof_policy a, #dd_sof_marketing a, #dd_sof_policy a {\n'+'  text-decoration: underline\n'+'}\n'+'\n'+'.input_checkbox + #policy-error + .gdpr-checkbox-custom-wrapper + label, .input_checkbox + .gdpr-checkbox-custom-wrapper + label {\n'+'  font-size: 13px !important;\n'+'  line-height: 1.35 !important;\n'+'  height: auto;\n'+'  cursor: pointer;\n'+'  padding: 3px 0 0 0 !important;\n'+'  margin: 0 !important;\n'+'  text-align: left !important;\n'+'  white-space: normal;\n'+'}\n'+'\n'+'#id_policy, #id_esof_policy_login, #id_esof_policy, #id_policy_reminder, #id_marketing, #id_esof_marketing_login, #id_esof_marketing {\n'+'  visibility: hidden;\n'+'  position: absolute !important\n'+'}\n'+'\n'+'.gdpr-checkbox-custom-wrapper {\n'+'  padding: 1px 5px 0 0 !important;\n'+'  position: relative;\n'+'  margin: 0 10px 0 0 !important;\n'+'  cursor: pointer;\n'+'  width: 25px;\n'+'  height: 21px\n'+'}\n'+'\n'+'.gdpr-checkbox-custom {\n'+'  width: 20px !important;\n'+'  height: 20px !important;\n'+'  background-color: rgba(255, 255, 255, .29);\n'+'  border-radius: 3px;\n'+'  border: 1px solid rgba(0, 0, 0, .17);\n'+'  box-shadow: 0 1px 0 0 rgba(255, 255, 255, .19) inset, 2px 2px 0 0 rgba(0, 0, 0, .1);\n'+'  position: relative;\n'+'  padding: 0 !important;\n'+'  margin: 0 !important;\n'+'  background-color: #fff;\n'+'}\n'+'\n'+'.gdpr-checkbox-custom:focus {\n'+'  outline: none;\n'+'  box-shadow: 0 1px 0 0 rgba(255, 255, 255, .19) inset, 0 0 0 2px rgba(0, 0, 0, .1);\n'+'}\n'+'.gdpr-checkbox-custom-bg {\n'+'  position: absolute;\n'+'  width: 100% !important;\n'+'  height: 100% !important;\n'+'  top: 0;\n'+'  left: 0;\n'+'  padding: 0 !important;\n'+'  margin: 0 !important;\n'+'}\n'+'\n'+'.input_checkbox:checked + #policy-error + .gdpr-checkbox-custom-wrapper .gdpr-checkbox-custom-bg, .input_checkbox:checked + .gdpr-checkbox-custom-wrapper .gdpr-checkbox-custom-bg {\n'+'  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMSIgaGVpZ2h0PSIxNyIgdmlld0JveD0iMCAwIDIxIDE3Ij48cGF0aCBpZD0iY2hlY2siIGNsYXNzPSJjbHMtMSIgZmlsbD0iIzNhOWM1ZiIgZD0iTTEyMjYuMTYsNDQxLjZsLTMuOTgtMy45NjYtMi4xOCwyLjE4MSw1LjI0LDUuMjM0LDAuMDEtLjAwNkwxMjI2LjIsNDQ2bDE0LjgtMTQuNzc3TDEyMzguNzcsNDI5WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMjAgLTQyOSkiLz48L3N2Zz4=);\n'+'  background-repeat: no-repeat;\n'+'  background-position: top right\n'+'}\n'+'\n'+'.input_checkbox.error + #policy-error + .gdpr-checkbox-custom-wrapper .gdpr-checkbox-custom, .input_checkbox.error + .gdpr-checkbox-custom-wrapper .gdpr-checkbox-custom {\n'+'  border-color: #b46055;\n'+'  box-shadow: 2px 2px 0 0 rgba(221, 75, 57, .35);\n'+'  background-color: #ffeded\n'+'}\n'+'.input_checkbox.error + #policy-error + .gdpr-checkbox-custom-wrapper .gdpr-checkbox-custom:focus, .input_checkbox.error + .gdpr-checkbox-custom-wrapper .gdpr-checkbox-custom:focus {\n'+'  box-shadow: 0 0 0 2px rgba(221, 75, 57, .35);\n'+'}\n'+'\n'+'.input_checkbox.error + #policy-error + .gdpr-checkbox-custom-wrapper + label, .input_checkbox.error + .gdpr-checkbox-custom-wrapper + label {\n'+'  color: #da4e4e\n'+'}\n'+'\n'+'.input_checkbox.error + #policy-error + .gdpr-checkbox-custom-wrapper + label a, .input_checkbox.error + .gdpr-checkbox-custom-wrapper + label a {\n'+'  color: #da4e4e !important\n'+'}'+'</style>';$(styles).appendTo('head');function Tooltip(settings){this.tooltip=$(settings.tooltip);this.target=$(settings.target);this.iconQuestion=$('#sof-email__info__icon-question');this.iconQuestionFilled=$('#sof-email__info__icon-question--filled');this.showingToolip=null;}
Tooltip.prototype.init=function(){var self=this;if('ontouchstart'in window){this.toggle();}else{this.tooltip.on('mouseenter',this.show.bind(this));this.tooltip.on('mouseleave',this.hide.bind(this));$(document).on('scroll',this.hide.bind(this));}};Tooltip.prototype.show=function(){var tooltip=$(this.tooltip.data('tooltip'));var coords=this.target.offset();var styles={top:{'top':'-5px','bottom':'auto','border-bottom':'5px solid rgba(21, 42, 62, 0.9)'},bottom:{'bottom':'-5px','top':'auto','border-top':'5px solid rgba(21, 42, 62, 0.9)'},};var classes={top:'sof-email__tooltip--top',bottom:'sof-email__tooltip--bottom',};$('body').append(tooltip);tooltip.css('width',this.target.outerWidth());var tooltipEls={arrow:$('#sof-email__info__arrow'),svg:$('#sof-email__info__icon-question'),svgFilled:$('#sof-email__info__icon-question--filled'),}
var top=coords.top-$(window).scrollTop()-tooltip.outerHeight()-10;if(top<0){top=coords.top-$(window).scrollTop()+this.target.outerHeight()+10;tooltipEls.arrow.css(styles.top);}else{tooltipEls.arrow.css(styles.bottom);}
tooltipEls.svg.hide();tooltipEls.svgFilled.show();tooltip.css('top',top).css('left',coords.left);this.iconQuestion.hide();this.iconQuestionFilled.show();this.showingTooltip=tooltip;};Tooltip.prototype.hide=function(){if(this.showingTooltip){var tooltipEls={svg:$('#sof-email__info__icon-question'),svgFilled:$('#sof-email__info__icon-question--filled'),}
tooltipEls.svg.show();tooltipEls.svgFilled.hide();this.showingTooltip.remove();this.showingTooltip=null;}};Tooltip.prototype.toggle=function(){var self=this;$('body').on('click',function(e){if($(e.target).closest(self.tooltip).length&&!self.showingTooltip){self.show();}else{self.hide();}});$('body').on('touchmove',this.hide.bind(this));};

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_custom/es_auth.js */
var ESAuth=function(settings){var settings=settings||{};this.host=settings.host||document.location.hostname;this.container_id=settings.container_id||'id_current_user_auth_container';this.satellite_not_clone=false;if(this.host!=document.location.hostname){this.satellite_not_clone=true;}
this.ajax_before_send_function=settings.ajax_before_send_function||this._ajaxBeforeSend;this.ajax_complete_function=settings.ajax_complete_function||this._ajaxComplete;this.userAuthorized=settings.userAuthorized||false;};ESAuth.prototype={init:function(settings){var _this=this;var settings=settings||{};if(settings.auto_open==undefined||settings.auto_open!=true){settings.auto_open=false;}
if(settings.disable_close==undefined||settings.disable_close!=true){settings.disable_close=false;}
if(settings.show_link_registration==undefined||settings.show_link_registration!=false){settings.show_link_regitration=true;}
if(settings.show_link_remind==undefined||settings.show_link_remind!=false){settings.show_link_remind=true;}
if(settings.prefix_html==undefined||settings.prefix_html==null){settings.prefix_html='';}
if(settings.postfix_html==undefined||settings.postfix_html==null){settings.postfix_html='';}
if(settings.force_user_role==undefined||settings.force_user_role==null||settings.force_user_role==false){settings.force_user_role='';}
if(settings.force_user_login==undefined||settings.force_user_login==null||settings.force_user_login==false){settings.force_user_login='';}
if(settings.on_login_callback==undefined){settings.on_login_callback=null;}
if(settings.on_logout_callback==undefined){settings.on_logout_callback=null;}
if(settings.auto_open==false){this.populateCurrentUserContainer(settings);}
else if(settings.force_user_role||settings.force_user_login){this.showAuthWindowForceLogin(settings);}
else{this.populateCurrentUserContainer(settings);this.showAuthWindow(settings);}},showAuthWindowForceLogin:function(settings){var _this=this;var settings=settings||{};var onCheckDone=function(data){if(data==undefined||data.slug==undefined){return false;}
switch(data.slug){case'exist':_this.showAuthWindow(settings);break;case'no_exist':var callback=settings.on_login_callback;if(jQuery.isFunction(callback)){callback(data);}
else{var dialog_title='Incorrect user email';var dialog_body='';dialog_body+='<p>Account does not exist.</b></p>'+"\n";dialog_body+='<br />'+"\n";dialog_body+='<p>Please check e-mail address.</p>'+"\n";_this.showDialog(dialog_title,dialog_body);}
break;case'current':var callback=settings.on_login_callback;if(jQuery.isFunction(callback)){callback(data);}
break;case'other_role':var dialog_title='Incorrect user role';var dialog_body='';dialog_body+='<p>Your e-mail has already been registered, but not under <b>'+settings.force_user_role+'\'s account.</b></p>'+"\n";dialog_body+='<p>You cannot place a new order as a <b>'+settings.force_user_role+'</b> using this e-mail address. </p>'+"\n";dialog_body+='<br />'+"\n";dialog_body+='<p>Please use an alternative e-mail address if you wish to place a new order.</p>'+"\n";_this.showDialog(dialog_title,dialog_body);break;}};if(settings.force_user_login&&settings.force_user_role){this._checkRequiredUser(settings.force_user_role,settings.force_user_login,onCheckDone);}
else{this.showAuthWindow(settings);}},showAuthWindow:function(settings){var _this=this;var settings=settings||{};var login_form='';login_form+='<div id="id_esauth_auth_container" class="es-dialog es-modal es-effect-slide" style="display:none;"><div class="es-content">'+"\n";login_form+='<div class="es-header">'+__('Sign into your account')+"\n";if(!settings.disable_close){login_form+='<span id="id_esauth_auth_container_close" class="es-close es-close-icon">&times;</span>'+"\n";}
login_form+='</div>'+"\n";login_form+='<div class="es-inner-content">';login_form+='<form id="id_esauth_auth_form" method="post" class="nosubmit">'+"\n";if(settings.prefix_html!=''){login_form+=' <div class="es-comment site-message bold">'+settings.prefix_html+'</div>'+"\n";}
login_form+=' <div class="es-row es-row-mail" style="position: relative;">'+"\n";login_form+='  <label for="id_esauth_login_field">'+__('E-mail')+'</label>'+"\n";if(settings.force_user_login!=''){login_form+='  <span class="es-e-mail input-model input-style input-wide" id="es-force-user-email">'+settings.force_user_login+'</span>'+"\n";}
else{login_form+='<div class="esauth_login_field_wrapper" style="position: relative;"><input id="id_esauth_login_field" style="padding-right: 30px;" name="l" type="email" required autocomplete="email" />'+"\n";login_form+='<div class="es-sof-email__info" id="es-sof-email__info" style="position: absolute; top: 0; right: 0;\n width: 30px; height: 100%; z-index: 100; display: flex; justify-content: center; align-items: center; cursor: pointer;">';login_form+='<div id="es-sof-email__info__icon-loading" style="display: none; height: 26px;"><svg width="26px" height="26px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-rolling" style="background: none;"><circle cx="50" cy="50" fill="none" ng-attr-stroke="{{config.color}}" ng-attr-stroke-width="{{config.width}}" ng-attr-r="{{config.radius}}" ng-attr-stroke-dasharray="{{config.dasharray}}" stroke="#364247" stroke-width="6" r="35" stroke-dasharray="164.93361431346415 56.97787143782138" transform="rotate(201.429 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1.4s" begin="0s" repeatCount="indefinite"></animateTransform></circle></svg></div>';login_form+='</div></div>';}
login_form+=' </div>'+"\n";login_form+=' <div class="es-row es-row-password">'+"\n";login_form+='  <label for="id_esauth_pwd_field">'+__('Password')+'</label>'+"\n";login_form+='  <input id="id_esauth_pwd_field" name="p" type="password" />'+"\n";login_form+='  <label class="error" id="id_esauth_pwd_field_error"></label>'+"\n";login_form+=' </div>'+"\n";login_form+='<div class="es-auth-stay-signed-in" id="es-auth-stay-signed-in">';login_form+='<input type="hidden" name="stay_signed_in" value="0" />';login_form+='<label for="stay_signed_in"><input id="stay_signed_in" type="checkbox" name="stay_signed_in" value="1" />'+__('Stay signed in')+'</label>';login_form+='</div>';login_form+='<div class="es-row es-row-gdpr es-row-policy" style="display: none;"><div class="es-checkbox-wrapper" style="display: flex;">';login_form+='<input type="checkbox" name="policy" id="id_esof_policy_login" value="Y" class="input_checkbox" style="position: absolute; visibility: hidden; -webkit-appearance: checkbox;">';login_form+='<div data-target-checkbox="id_esof_policy_login" class="gdpr-checkbox-custom-wrapper" id="gdpr-checkbox-policy">';login_form+='<div class="gdpr-checkbox-custom" id="gdpr-checkbox-custom-policy"></div><div class="gdpr-checkbox-custom-bg"></div></div>';login_form+='<label for="id_esof_policy_login" style="text-align: left; font-size: 13px; line-height: 1.35; cursor: pointer;">I agree to the <a href="/terms-and-conditions.html" id="id_esof_login_link_terms" target="_blank">Terms &amp; Conditions</a> and <a href="/privacy-policy.html" id="id_esof_login_link_policy" target="_blank">Privacy Policy</a>.</label>';login_form+='</div></div>';login_form+='<div class="es-row es-row-gdpr es-row-marketing" style="display: none;"><div class="es-checkbox-wrapper" style="display: flex;">';login_form+='<input type="checkbox" name="marketing" id="id_esof_marketing_login" value="Y" class="input_checkbox" style="position: absolute; visibility: hidden; -webkit-appearance: checkbox;">';login_form+='<div data-target-checkbox="id_esof_marketing_login" class="gdpr-checkbox-custom-wrapper" id="gdpr-checkbox-marketing"><div class="gdpr-checkbox-custom" id="gdpr-checkbox-custom-marketing"></div><div class="gdpr-checkbox-custom-bg"></div></div>';login_form+='<label for="id_esof_marketing_login" style="text-align: left; font-size: 13px; line-height: 1.35; cursor: pointer;">I agree to receive bonuses, discounts and promotional materials.</label>';login_form+='</div></div>';login_form+='<div class="es-row es-row-auth-step-2" style="display: none">';login_form+='  <label for="id_esauth_code_field" id="id_esauth_code_label">'+__('Code')+'</label>'+"\n";login_form+='  <input id="id_esauth_code_field" name="two_auth_code" autocomplete="off" type="text" />'+"\n";login_form+='  <label class="error" id="id_esauth_code_field_error"></label>'+"\n";login_form+='<div id="two_auth_code_delivery">';login_form+='</div>';login_form+='</div>';login_form+='<div class="es-row">';login_form+='<button class="input_submit es-primary-button highlight-button" id="id_esauth_login_button" type="submit">'+__('Login')+'</button>'+"\n";login_form+='</div>'+"\n";if(settings.postfix_html!=''){login_form+=' <div class="es-comment">'+settings.postfix_html+'</div>'+"\n";}
login_form+=' </form>'+"\n";if(settings.show_link_registration||settings.show_link_remind){login_form+=' <div class="linetop">'+"\n";if(settings.show_link_registration){login_form+='  <a class="es-link register" href="//'+_this.host+'/registration.html">'+__('Registration')+'</a>'+"\n";}
if(settings.show_link_remind){var force_user_login_addon=((settings.force_user_login!='')?'?login='+settings.force_user_login:'');login_form+='  <a class="es-link forgot" href="https://'+_this.host+'/auth_password_reset.html'+force_user_login_addon+'">'+__('Forgot Password')+'</a>'+"\n";}
login_form+=' </div>'+"\n";}
login_form+='</div></div></div>'+"\n";jQuery('#id_esauth_auth_container').remove();jQuery('body').append(login_form);jQuery('form.nosubmit').on('submit',false);var checkedProvider;var onLoginDone=function(data){if(data===undefined){return false;}
switch(data.code){case 1:_this.populateCurrentUserContainer(settings);_this.hideAuthWindow();var callback=settings.on_login_callback;if(jQuery.isFunction(callback)){callback(data);}
break;case 0:var error_message=__('Incorrect password.');if(data.message!=undefined&&data.message!=''){error_message=data.message;}
aj_auth_validator.showErrors({'p':error_message});break;case-1:_this.ajax_before_send_function('body');window.location.href='//'+_this.host+'/browsers.html';_this.hideAuthWindow();break;case-2:_this.ajax_before_send_function('body');window.location.href='https://'+_this.host+'/password-reset-required.html?l='+jQuery('#id_esauth_login_field').val();_this.hideAuthWindow();break;case-3:var providers=data.providers;var providerTypeLabel=$('#id_esauth_code_label');var twoAuthCodeDelivery=$('#two_auth_code_delivery');var html=[];switch(providers[0]){case'APP_CODE':providerTypeLabel.text(__('Application code'));html.push(['<label for="two_auth_code_delivery_app_code" class="two_auth_code_delivery_sms_label">','<input value="APP_CODE" type="radio" checked="checked"',' name="two_auth_code_delivery" id="two_auth_code_delivery_app_code" />','Application Code</label>'].join(''));twoAuthCodeDelivery.html(html.join(''));break;case'SMS':providerTypeLabel.text(__('SMS code'));html.push(['<label for="two_auth_code_delivery_sms" class="two_auth_code_delivery_sms_label">','<input value="SMS" type="radio" checked="checked"',' name="two_auth_code_delivery" id="two_auth_code_delivery_sms" />',' SMS</label>','<div id="send-sms-code">',__('Resend'),'</div>'].join(''));twoAuthCodeDelivery.html(html.join(''));setTimeout(function(){$('#send-sms-code').addClass('show');},30000);break;}
$('.es-row-auth-step-2').show().css('display','flex');$('.es-row-mail, .es-row-password, .es-auth-stay-signed-in').hide();jQuery('#send-sms-code').on('click',function(e){jQuery('#two_auth_code_delivery_sms').prop('checked',true);_this._loginAttempt(settings.force_user_role,settings.force_user_login,onLoginDone,{send_sms:true});return false;});break;case-4:jQuery('#id_esauth_code_field_error').html(__('Incorrect code.')).show();jQuery('#id_esauth_code_field').addClass('error');$('#send-sms-code').addClass('show');$('#id_esauth_code_field').on('input',function(){$('#id_esauth_code_field_error').html('');});break;case-5:circularTimer('#send-sms-code',function(){$('#send-sms-code').removeClass('disabled');});break;case-6:gdprCheckboxes.init(true);}};jQuery("#id_esauth_login_field, #id_esauth_pwd_field").focus(function(){jQuery('#id_esauth_pwd_field_error').text('');});jQuery("#id_esauth_auth_container_close").on('click',function(){_this.hideAuthWindow();});jQuery('#id_esauth_auth_container').on('click',function(e){if($(e.target).hasClass('es-dialog')){_this.hideAuthWindow();}});var aj_auth_validator=jQuery('#id_esauth_auth_form').validate({submitHandler:function(frm){_this._loginAttempt(settings.force_user_role,settings.force_user_login,onLoginDone);return false;},invalidHandler:function(frm,validator){},rules:{'l':{required:true,email:true},'p':{required:true},'two_auth_code':{required:true}},messages:{'l':{required:__('This field is required'),email:__('Incorrect e-mail')},'p':{required:__('This field is required')},'two_auth_code':{required:__('This field is required')}}});jQuery("#id_esauth_pwd_field").on('keyup',function(event){var keyCode=event.keyCode||event.which;if(keyCode==13){jQuery("#id_esauth_login_button").triggerHandler('click');}
return true;});if(!settings.disable_close){jQuery("body").on('keyup',function(event){var keyCode=event.keyCode||event.which;if(keyCode==27){_this.hideAuthWindow();}
return true;});}
if(settings.force_user_login!=''){jQuery('#id_esauth_pwd_field').focus();}
else{jQuery('#id_esauth_login_field').focus();}
jQuery('#id_esauth_auth_container, #es-overlay').show().addClass('es-show');var gdprCheckboxes=new GdprCheckboxesLoginForm({form:'#id_esauth_auth_form',emailInput:'#id_esauth_login_field',checkboxPolicy:'#id_esof_policy_login',checkboxMarketing:'#id_esof_marketing_login',submitButton:'#id_esauth_login_button',iconLoading:'#es-sof-email__info__icon-loading',checkboxWrappers:'#id_esauth_auth_form .gdpr-checkbox-custom-wrapper',checkboxesRow:'.es-row-gdpr',isDataPersisted:false,formWithTooltip:false,blockSubmitButton:'no',satelliteNotClone:_this.satellite_not_clone,host:_this.host,callbackShowCheckboxes:function(data){var $termsLink=$('#id_esof_login_link_terms');var $policyLink=$('#id_esof_login_link_policy');$('.es-auth-stay-signed-in').hide();if(data&&data.role==='writer'){$termsLink.prop('href','/writer-terms-and-conditions.html');$policyLink.prop('href','/writer-privacy-policy.html');}else{$termsLink.prop('href','/terms-and-conditions.html');$policyLink.prop('href','/privacy-policy.html');}},callbackHideCheckboxes:function(data){$('.es-auth-stay-signed-in').show();},})
gdprCheckboxes.init();if(settings.prefix_html!=''){gdprCheckboxes.checkEmail($('#es-force-user-email').text());if($('#id_marketing').prop('checked')||$('#id_esof_marketing').prop('checked')){gdprCheckboxes.checkboxMarketing.trigger('click');}
if($('#id_policy').prop('checked')||$('#id_esof_policy').prop('checked')){gdprCheckboxes.checkboxPolicy.trigger('click');}}},hideAuthWindow:function(){jQuery('#id_esauth_auth_container, #es-overlay').removeClass('es-show');jQuery('#id_esauth_auth_container').remove();$('html').removeClass('modal-open no-scroll');},showDialog:function(dialog_title,dialog_body){var _this=this;var dialog_html='';dialog_html+='<div id="id_esauth_dialog_container" class="es-dialog es-modal es-effect-slide" style="display:none"><div class="es-content">'+"\n";dialog_html+='<div class="es-header" id="id_esauth_dialog_title">'+dialog_title+'<span id="id_esauth_dialog_container_close" class="es-close es-close-icon"> X </span></div>'+"\n";dialog_html+='<div id="id_esauth_dialog_body" class="es-inner-content">'+dialog_body+'</div>'+"\n";dialog_html+='</div></div>'+"\n";jQuery('#id_esauth_dialog_container').remove();jQuery('body').append(dialog_html);jQuery('#id_esauth_dialog_container, #es-overlay').show().addClass('es-show');jQuery("#id_esauth_dialog_container_close").on('click',function(){_this.hideDialog();});},hideDialog:function(html){jQuery('#id_esauth_dialog_container, #es-overlay').removeClass('es-show');jQuery('#id_esauth_dialog_container').remove();},populateCurrentUserContainer:function(settings){var _this=this;var settings=settings||{};if(_this.satellite_not_clone){jQuery('#'+_this.container_id).hide();return false;}
var populateCurrentUser=function(data){if(data==undefined){return false;}
jQuery('#id_current_user_auth_subcontainer').remove();var container_html='';var container_html_prefix='<div id="id_current_user_auth_subcontainer" class="short">'+"\n";var container_html_postfix='</div>';if(typeof(data.design)=='string'&&data.design=='v2'){var container_html=container_html_prefix;if(data.auth==1){container_html+='<div class="headerActionsProfile-avatar">'+"\n";container_html+='    <img src="'+data.user_avatar+'" />'+"\n";container_html+='</div>'+"\n";container_html+='<nav class="headerActionsProfile-list right">'+"\n";if(data.user_links!=undefined){var links=jQuery.extend({},data.user_links);jQuery.each(links,function(index,value){container_html+='    <a href="'+value.url+'" class="headerActionsProfile-item auth_user_menu_'+value.uniq+'">'+value.title+'</a>'+"\n";});}
container_html+='</nav>'+"\n";}
else{container_html+='<div class="headerActionsProfile-avatar">0</div>';}
container_html+=container_html_postfix;jQuery('#'+_this.container_id).html(container_html);jQuery('#aj_current_balance').html(' (<b>'+data.user_balance+'</b>)');}
else{var container_html=container_html_prefix;if(data.auth==1){container_html+='<a href="'+data.redirect+'" id="id_esauth_myaccount_current_login"><img id="es-avatar" src="'+data.user_avatar+'" width="20">'+((typeof(data.user_email)=='string'&&data.user_email!='')?data.user_email:data.user_login)+'</a> ';container_html+='<a id="id_esauth_myaccount_current_logout_link" title="'+__('Logout')+'" class="tooltip_n">'+__('Log Out')+'</a>';if(data.user_links!=undefined){if(data.user_role=='customer'||data.user_role=='writer'){container_html+='<a id="es-indicator" href="'+data.user_links[2].url+'"><span class="message_order message_order_bidding message_order_progress"></span><span class="update_bid update_bid_order"></span></a>';}
container_html+='<div id="id_esauth_myaccount_current_shortcuts">';var links=jQuery.extend({},data.user_links);if(data.user_role==='customer'){links[1]=data.user_links[5];links[5]=data.user_links[1];}
jQuery.each(links,function(index,value){container_html+='<a href="'+value.url+'" class="auth_user_menu_'+value.uniq+'">'+value.title+'</a>';});container_html+='</div>';}}
else{container_html+='<a id="id_esauth_myaccount_login_link">'+__('My Account')+'</a>';}
container_html+=container_html_postfix;jQuery('#'+_this.container_id).html(container_html);jQuery('#aj_current_balance').html(' (<b>'+data.user_balance+'</b>)');jQuery("#id_esauth_myaccount_login_link").on('click',function(){_this.showAuthWindow(settings);$('html').addClass('modal-open no-scroll');setTimeout(function(){jQuery('#id_esauth_login_field').focus()},100);});jQuery("#id_esauth_myaccount_current_logout_link").on('click',function(){_this._logout(settings.on_logout_callback);});jQuery('.account-container, .account-button').on('click','.logout-button-mobile',function(){_this._logout(settings.on_logout_callback);});if(jQuery('.mobile').length!==0&&typeof($.fn.essayshark)=='function'){jQuery(document).essayshark('userStatus',data);}
jQuery("#id_esauth_myaccount_current_login").on('click',function(){$('#id_current_user_auth_subcontainer').toggleClass('short');$('#id_esauth_myaccount_current_shortcuts').slideToggle(300);return false;});}};this._getCurrentUser(populateCurrentUser);},_logout:function(callback){var _this=this;var onLogoutDone=function(data){if(jQuery.isFunction(callback)){callback(data);}
_this.populateCurrentUserContainer();};var request_url='https://'+_this.host+'/auth/aj_logout2.html?callback=?';var request_data={loc:window.location.pathname+window.location.search};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){onLogoutDone(data);}});},_getCurrentUser:function(callback){var _this=this;var request_url='https://'+_this.host+'/auth/aj_current2.html?callback=?';var request_data={};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){if(jQuery.isFunction(callback))callback(data,callback);if(_this.userAuthorized&&data.auth===1)_this.userAuthorized(data);}});},_checkRequiredUser:function(user_role,user_login,callback){var _this=this;var request_url='https://'+_this.host+'/auth/aj_role_required2.html?callback=?';var request_data={user_login:user_login,user_role:user_role};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#id_esauth_auth_container');},complete:function(){_this.ajax_complete_function('#id_esauth_auth_container');},success:function(data){if(jQuery.isFunction(callback)){callback(data);}}});},_loginAttempt:function(force_user_role,force_user_login,callback,options){var _this=this;var request_url='https://'+_this.host+'/auth/aj_login2.html?callback=?';var request_data={};request_data.l=(force_user_login!='')?force_user_login:jQuery('#id_esauth_login_field').val();request_data.p=jQuery('#id_esauth_pwd_field').val();request_data.role=(force_user_role!='')?force_user_role:'';request_data.stay_signed_in=jQuery('#stay_signed_in').prop('checked')===true?1:0;request_data.policy=jQuery('#id_esof_policy_login').prop('checked')===true?1:0;request_data.marketing=jQuery('#id_esof_marketing_login').prop('checked')===true?1:0;request_data.two_auth_code=jQuery('#id_esauth_code_field').val();if(!!options){request_data.options=options;}
jQuery('#two_auth_code_delivery input').each(function(key,field){if(field.type==='radio'&&field.checked){request_data.two_auth_code_delivery=field.value;}else if(field.type==='hidden'){request_data.two_auth_code_delivery=field.value;}});jQuery.ajax({url:request_url,type:'POST',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#id_esauth_auth_container');},complete:function(){_this.ajax_complete_function('#id_esauth_auth_container');},success:function(data){if(jQuery.isFunction(callback)){if(_this.satellite_not_clone){data.p=request_data.p;}
callback(data);}}});},_ajaxBeforeSend:function(selector){if(selector=='body'&&jQuery('#es-overlay').length){jQuery('#es-overlay').show().addClass('es-loader es-show');}
else{jQuery(selector).addClass('es-loader');}},_ajaxComplete:function(selector){if(selector=='body'&&jQuery('#es-overlay').length){jQuery('#es-overlay').removeClass('es-loader es-show');}
else{jQuery(selector).removeClass('es-loader');}}};function circularTimer(target,callback){var circle=circleTemplate();$(target).addClass('disabled');$(circle).insertBefore($(target));var time=30;var initialOffset=63;var i=1;var $timer=$('#circle-timer');$('.circle_animation').css('stroke-dashoffset',0);$timer.text(time);var interval=setInterval(function(){$timer.text(time-i);if(i===time){clearInterval(interval);$(target).prev().remove();callback();return;}
$('.circle-animation').css('stroke-dashoffset',-((i+1)*(initialOffset / time)));i++;},1000);}
function circleTemplate(){return'<div class="circle"><span id="circle-timer">0</span><svg width="22" height="22" xmlns="http://www.w3.org/2000/svg"><g><circle id="circle" class="circle-animation" r="10" cy="11" cx="11" stroke-width="1.5" stroke="#6fdb6f" fill="none"/>\</g></svg></div>';}

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_custom/es_testimonials.js */
var ESTestimonials=function(settings){var settings=settings||{};this.host=document.location.hostname;this.ajax_before_send_function=settings.ajax_before_send_function||this._ajaxBeforeSend;this.ajax_complete_function=settings.ajax_complete_function||this._ajaxComplete;};ESTestimonials.prototype={populateOnSidebar:function(container_id){var _this=this;var container_html='';container_html+='<div class="side_block" ><a class="readall linka" id="latestorders"  href="/latest-orders.html" title="View all customers\' feedbacks">Read All Testimonials</a>'+"\n";container_html+='<h2>Testimonials</h2>'+"\n";container_html+='<div class="testimomials_sidebar_point center hiden"></div>'+"\n";container_html+='</div>'+"\n";jQuery('#'+container_id).replaceWith(container_html);var onAjaxDone=function(data){jQuery('.testimomials_sidebar_point').replaceWith(data);jQuery('.testimomials_sidebar_point.hiden').slideDown(500);};var request_url='/bricks/aj_testimonials_for_sidebar.html';var request_data={};jQuery.ajax({url:request_url,type:'GET',dataType:'html',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#latestorders');},complete:function(){_this.ajax_complete_function('#latestorders');},success:function(data){onAjaxDone(data);}});return true;},populateHorizontalRotator:function(container_id){var _this=this;var container_html='';container_html+='<div class="wrap orders">'+"\n";container_html+=' <h2>Customers\' testimonials</h2>'+"\n";container_html+=' <div class="up hiden"></div>'+"\n";container_html+=' <div class="down hiden"></div>'+"\n";container_html+=' <div class="testimomials_rotator_point"></div>'+"\n";container_html+=' <a href="/latest-orders.html" id="alltest" class="linka serif">View all completed orders</a>'+"\n";container_html+=' <div class="buy otherbuy serif">'+"\n";container_html+='  <h4>Lowest prices on the market</h4>'+"\n";container_html+='  <h2 class="money">Get quality essay without paying upfront</h2>'+"\n";container_html+='  <a href="#newOrderFrom" class="ordernow">Order Now</a>'+"\n";container_html+='  <div class="todo">Submit your instructions to writers for free</div>'+"\n";container_html+=' </div>'+"\n";container_html+='</div>'+"\n";container_html+='<div id="guarantee">Satisfaction Guarantee</div>'+"\n";jQuery('#'+container_id).replaceWith(container_html);var paneTarget=null;var currentPos=1;var cnt=10;var timer=null;var clear=true;var setCurrentLi=function(){jQuery('#pagul li').removeClass('current');jQuery('#li_'+currentPos).addClass('current');};var scrollToEs=function(a){a=jQuery(a).text();currentPos=a;goToOrder();};var goToOrder=function(){var need='div#order_'+currentPos;var target=paneTarget.find(need);paneTarget.stop().scrollTo(target,500,{onAfter:function(){setCurrentLi();}});};var asetClearInterval=function(){clearInterval(timer);if(clear){clear=false;setTimeout(function(){clear=true;timer=setInterval(function(){if(currentPos<=cnt){currentPos++;}
if(currentPos>=cnt+1){currentPos=1;}
goToOrder();clear=true;},4000);},10000)};return false;};var startRotator=function(){timer=setInterval(function(){if(currentPos<cnt){currentPos++;}else{if(currentPos==cnt){currentPos=1;}}
goToOrder();clear=true;},4000);};var stopRotator=function(){clearInterval(timer);timer=null};jQuery('#li_'+currentPos).addClass('current');jQuery('body').on('click','#pagul li',function(){asetClearInterval();scrollToEs(this);});jQuery('body').on('click','.up',function(){if(currentPos>1){currentPos--;}
if(currentPos==1){currentPos=cnt;}
goToOrder();});jQuery('body').on('click','.down',function(){if(currentPos==cnt){currentPos=1;goToOrder();}
else{if(currentPos<cnt){currentPos++;goToOrder();}}});jQuery('.up, .down').on('hover',function(){asetClearInterval();});jQuery('body').on('hover','#slides .order',function(){stopRotator();});jQuery('body').on('mouseleave','#slides',function(){startRotator();});jQuery('body').on('click','.ordernow',function(){jQuery('#bodystart').scrollTo(jQuery('#newOrderFrom'),800,{over:{top:-0.15},onAfter:function(){jQuery("#es_form_esof").animate({backgroundColor:'#ffffff'},300).animate({backgroundColor:'#FEC600'},300).animate({backgroundColor:'#FFFFFF'},300).animate({backgroundColor:'#FEC600'},300);jQuery("#newOrderFrom input:text:visible:first").focus();}});return false;});var onAjaxDone=function(data){jQuery('.testimomials_rotator_point').replaceWith(data);paneTarget=jQuery('#slides');jQuery('.up.hiden, .down.hiden').show(1000);startRotator();};var request_url='/bricks/aj_testimonials_for_rotator.html';var request_data={};jQuery.ajax({url:request_url,type:'GET',dataType:'html',data:request_data,beforeSend:function(){_this.ajax_before_send_function('.testimomials_rotator_point');},complete:function(){_this.ajax_complete_function('.testimomials_rotator_point');},success:function(data){onAjaxDone(data);}});return true;},getDataForHorizontalRotator:function(callback_func){var _this=this;var request_url='/bricks/aj_testimonials_data.html';var request_data={format:'json'};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('.testimomials_rotator_point');},complete:function(){_this.ajax_complete_function('.testimomials_rotator_point');},success:function(data){if(jQuery.isFunction(callback_func)){callback_func(data);}}});return true;},_ajaxBeforeSend:function(selector){jQuery(selector).addClass('es-loader');},_ajaxComplete:function(selector){jQuery(selector).removeClass('es-loader');}};

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/bxSlider-4/jquery.bxslider.min.js */
!function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}};t.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var s={},o=this,r=t(window).width(),a=t(window).height();if(!t(o).data("bxSlider")){var l=function(){t(o).data("bxSlider")||(s.settings=t.extend({},e,n),s.settings.slideWidth=parseInt(s.settings.slideWidth),s.children=o.children(s.settings.slideSelector),s.children.length<s.settings.minSlides&&(s.settings.minSlides=s.children.length),s.children.length<s.settings.maxSlides&&(s.settings.maxSlides=s.children.length),s.settings.randomStart&&(s.settings.startSlide=Math.floor(Math.random()*s.children.length)),s.active={index:s.settings.startSlide},s.carousel=s.settings.minSlides>1||s.settings.maxSlides>1,s.carousel&&(s.settings.preloadImages="all"),s.minThreshold=s.settings.minSlides*s.settings.slideWidth+(s.settings.minSlides-1)*s.settings.slideMargin,s.maxThreshold=s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin,s.working=!1,s.controls={},s.interval=null,s.animProp="vertical"===s.settings.mode?"top":"left",s.usingCSS=s.settings.useCSS&&"fade"!==s.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<e.length;i++)if(void 0!==t.style[e[i]])return s.cssPrefix=e[i].replace("Perspective","").toLowerCase(),s.animProp="-"+s.cssPrefix+"-transform",!0;return!1}(),"vertical"===s.settings.mode&&(s.settings.maxSlides=s.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(s.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),d())},d=function(){var e=s.children.eq(s.settings.startSlide);o.wrap('<div class="'+s.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),s.viewport=o.parent(),s.settings.ariaLive&&!s.settings.ticker&&s.viewport.attr("aria-live","polite"),s.loader=t('<div class="bx-loading" />'),s.viewport.prepend(s.loader),o.css({width:"horizontal"===s.settings.mode?1e3*s.children.length+215+"%":"auto",position:"relative"}),s.usingCSS&&s.settings.easing?o.css("-"+s.cssPrefix+"-transition-timing-function",s.settings.easing):s.settings.easing||(s.settings.easing="swing"),s.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),s.viewport.parent().css({maxWidth:u()}),s.children.css({float:"horizontal"===s.settings.mode?"left":"none",listStyle:"none",position:"relative"}),s.children.css("width",h()),"horizontal"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginRight",s.settings.slideMargin),"vertical"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginBottom",s.settings.slideMargin),"fade"===s.settings.mode&&(s.children.css({position:"absolute",zIndex:0,display:"none"}),s.children.eq(s.settings.startSlide).css({zIndex:s.settings.slideZIndex,display:"block"})),s.controls.el=t('<div class="bx-controls" />'),s.settings.captions&&P(),s.active.last=s.settings.startSlide===f()-1,s.settings.video&&o.fitVids(),("all"===s.settings.preloadImages||s.settings.ticker)&&(e=s.children),s.settings.ticker?s.settings.pager=!1:(s.settings.controls&&C(),s.settings.auto&&s.settings.autoControls&&T(),s.settings.pager&&w(),(s.settings.controls||s.settings.autoControls||s.settings.pager)&&s.viewport.after(s.controls.el)),c(e,g)},c=function(e,i){var n=e.find('img:not([src=""]), iframe').length,s=0;if(0===n)return void i();e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++s===n&&i()}).each(function(){(this.complete||""==this.src)&&t(this).trigger("load")})})},g=function(){if(s.settings.infiniteLoop&&"fade"!==s.settings.mode&&!s.settings.ticker){var e="vertical"===s.settings.mode?s.settings.minSlides:s.settings.maxSlides,i=s.children.slice(0,e).clone(!0).addClass("bx-clone"),n=s.children.slice(-e).clone(!0).addClass("bx-clone");s.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),o.append(i).prepend(n)}s.loader.remove(),m(),"vertical"===s.settings.mode&&(s.settings.adaptiveHeight=!0),s.viewport.height(p()),o.redrawSlider(),s.settings.onSliderLoad.call(o,s.active.index),s.initialized=!0,s.settings.responsive&&t(window).bind("resize",U),s.settings.auto&&s.settings.autoStart&&(f()>1||s.settings.autoSlideForOnePage)&&L(),s.settings.ticker&&O(),s.settings.pager&&I(s.settings.startSlide),s.settings.controls&&D(),s.settings.touchEnabled&&!s.settings.ticker&&Y(),s.settings.keyboardEnabled&&!s.settings.ticker&&t(document).keydown(X)},p=function(){var e=0,n=t();if("vertical"===s.settings.mode||s.settings.adaptiveHeight)if(s.carousel){var o=1===s.settings.moveSlides?s.active.index:s.active.index*x();for(n=s.children.eq(o),i=1;i<=s.settings.maxSlides-1;i++)n=o+i>=s.children.length?n.add(s.children.eq(i-1)):n.add(s.children.eq(o+i))}else n=s.children.eq(s.active.index);else n=s.children;return"vertical"===s.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),s.settings.slideMargin>0&&(e+=s.settings.slideMargin*(s.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===s.viewport.css("box-sizing")?e+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))+parseFloat(s.viewport.css("border-top-width"))+parseFloat(s.viewport.css("border-bottom-width")):"padding-box"===s.viewport.css("box-sizing")&&(e+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))),e},u=function(){var t="100%";return s.settings.slideWidth>0&&(t="horizontal"===s.settings.mode?s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin:s.settings.slideWidth),t},h=function(){var t=s.settings.slideWidth,e=s.viewport.width();if(0===s.settings.slideWidth||s.settings.slideWidth>e&&!s.carousel||"vertical"===s.settings.mode)t=e;else if(s.settings.maxSlides>1&&"horizontal"===s.settings.mode){if(e>s.maxThreshold)return t;e<s.minThreshold?t=(e-s.settings.slideMargin*(s.settings.minSlides-1))/s.settings.minSlides:s.settings.shrinkItems&&(t=Math.floor((e+s.settings.slideMargin)/Math.ceil((e+s.settings.slideMargin)/(t+s.settings.slideMargin))-s.settings.slideMargin))}return t},v=function(){var t=1,e=null;return"horizontal"===s.settings.mode&&s.settings.slideWidth>0?s.viewport.width()<s.minThreshold?t=s.settings.minSlides:s.viewport.width()>s.maxThreshold?t=s.settings.maxSlides:(e=s.children.first().width()+s.settings.slideMargin,t=Math.floor((s.viewport.width()+s.settings.slideMargin)/e)||1):"vertical"===s.settings.mode&&(t=s.settings.minSlides),t},f=function(){var t=0,e=0,i=0;if(s.settings.moveSlides>0){if(!s.settings.infiniteLoop){for(;e<s.children.length;)++t,e=i+v(),i+=s.settings.moveSlides<=v()?s.settings.moveSlides:v();return i}t=Math.ceil(s.children.length/x())}else t=Math.ceil(s.children.length/v());return t},x=function(){return s.settings.moveSlides>0&&s.settings.moveSlides<=v()?s.settings.moveSlides:v()},m=function(){var t,e,i;s.children.length>s.settings.maxSlides&&s.active.last&&!s.settings.infiniteLoop?"horizontal"===s.settings.mode?(e=s.children.last(),t=e.position(),S(-(t.left-(s.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===s.settings.mode&&(i=s.children.length-s.settings.minSlides,t=s.children.eq(i).position(),S(-t.top,"reset",0)):(t=s.children.eq(s.active.index*x()).position(),s.active.index===f()-1&&(s.active.last=!0),void 0!==t&&("horizontal"===s.settings.mode?S(-t.left,"reset",0):"vertical"===s.settings.mode&&S(-t.top,"reset",0)))},S=function(e,i,n,r){var a,l;s.usingCSS?(l="vertical"===s.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",o.css("-"+s.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(o.css(s.animProp,l),0!==n?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),A())}):A()):"reset"===i?o.css(s.animProp,l):"ticker"===i&&(o.css("-"+s.cssPrefix+"-transition-timing-function","linear"),o.css(s.animProp,l),0!==n?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(r.resetValue,"reset",0),F())}):(S(r.resetValue,"reset",0),F()))):(a={},a[s.animProp]=e,"slide"===i?o.animate(a,n,s.settings.easing,function(){A()}):"reset"===i?o.css(s.animProp,e):"ticker"===i&&o.animate(a,n,"linear",function(){S(r.resetValue,"reset",0),F()}))},b=function(){for(var e="",i="",n=f(),o=0;o<n;o++)i="",s.settings.buildPager&&t.isFunction(s.settings.buildPager)||s.settings.pagerCustom?(i=s.settings.buildPager(o),s.pagerEl.addClass("bx-custom-pager")):(i=o+1,s.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+i+"</a></div>";s.pagerEl.html(e)},w=function(){s.settings.pagerCustom?s.pagerEl=t(s.settings.pagerCustom):(s.pagerEl=t('<div class="bx-pager" />'),s.settings.pagerSelector?t(s.settings.pagerSelector).html(s.pagerEl):s.controls.el.addClass("bx-has-pager").append(s.pagerEl),b()),s.pagerEl.on("click touchend","a",z)},C=function(){s.controls.next=t('<a class="bx-next" href="">'+s.settings.nextText+"</a>"),s.controls.prev=t('<a class="bx-prev" href="">'+s.settings.prevText+"</a>"),s.controls.next.bind("click touchend",k),s.controls.prev.bind("click touchend",E),s.settings.nextSelector&&t(s.settings.nextSelector).append(s.controls.next),s.settings.prevSelector&&t(s.settings.prevSelector).append(s.controls.prev),s.settings.nextSelector||s.settings.prevSelector||(s.controls.directionEl=t('<div class="bx-controls-direction" />'),s.controls.directionEl.append(s.controls.prev).append(s.controls.next),s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))},T=function(){s.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+s.settings.startText+"</a></div>"),s.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+s.settings.stopText+"</a></div>"),s.controls.autoEl=t('<div class="bx-controls-auto" />'),s.controls.autoEl.on("click",".bx-start",M),s.controls.autoEl.on("click",".bx-stop",y),s.settings.autoControlsCombine?s.controls.autoEl.append(s.controls.start):s.controls.autoEl.append(s.controls.start).append(s.controls.stop),s.settings.autoControlsSelector?t(s.settings.autoControlsSelector).html(s.controls.autoEl):s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl),q(s.settings.autoStart?"stop":"start")},P=function(){s.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},k=function(t){t.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},E=function(t){t.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},M=function(t){o.startAuto(),t.preventDefault()},y=function(t){o.stopAuto(),t.preventDefault()},z=function(e){var i,n;e.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),i=t(e.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")))!==s.active.index&&o.goToSlide(n))},I=function(e){var i=s.children.length;if("short"===s.settings.pagerType)return s.settings.maxSlides>1&&(i=Math.ceil(s.children.length/s.settings.maxSlides)),void s.pagerEl.html(e+1+s.settings.pagerShortSeparator+i);s.pagerEl.find("a").removeClass("active"),s.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")})},A=function(){if(s.settings.infiniteLoop){var t="";0===s.active.index?t=s.children.eq(0).position():s.active.index===f()-1&&s.carousel?t=s.children.eq((f()-1)*x()).position():s.active.index===s.children.length-1&&(t=s.children.eq(s.children.length-1).position()),t&&("horizontal"===s.settings.mode?S(-t.left,"reset",0):"vertical"===s.settings.mode&&S(-t.top,"reset",0))}s.working=!1,s.settings.onSlideAfter.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)},q=function(t){s.settings.autoControlsCombine?s.controls.autoEl.html(s.controls[t]):(s.controls.autoEl.find("a").removeClass("active"),s.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},D=function(){1===f()?(s.controls.prev.addClass("disabled"),s.controls.next.addClass("disabled")):!s.settings.infiniteLoop&&s.settings.hideControlOnEnd&&(0===s.active.index?(s.controls.prev.addClass("disabled"),s.controls.next.removeClass("disabled")):s.active.index===f()-1?(s.controls.next.addClass("disabled"),s.controls.prev.removeClass("disabled")):(s.controls.prev.removeClass("disabled"),s.controls.next.removeClass("disabled")))},H=function(){o.startAuto()},W=function(){o.stopAuto()},L=function(){if(s.settings.autoDelay>0){setTimeout(o.startAuto,s.settings.autoDelay)}else o.startAuto(),t(window).focus(H).blur(W);s.settings.autoHover&&o.hover(function(){s.interval&&(o.stopAuto(!0),s.autoPaused=!0)},function(){s.autoPaused&&(o.startAuto(!0),s.autoPaused=null)})},O=function(){var e,i,n,r,a,l,d,c,g=0;"next"===s.settings.autoDirection?o.append(s.children.clone().addClass("bx-clone")):(o.prepend(s.children.clone().addClass("bx-clone")),e=s.children.first().position(),g="horizontal"===s.settings.mode?-e.left:-e.top),S(g,"reset",0),s.settings.pager=!1,s.settings.controls=!1,s.settings.autoControls=!1,s.settings.tickerHover&&(s.usingCSS?(r="horizontal"===s.settings.mode?4:5,s.viewport.hover(function(){i=o.css("-"+s.cssPrefix+"-transform"),n=parseFloat(i.split(",")[r]),S(n,"reset",0)},function(){c=0,s.children.each(function(e){c+="horizontal"===s.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(n))),F(d)})):s.viewport.hover(function(){o.stop()},function(){c=0,s.children.each(function(e){c+="horizontal"===s.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(o.css(l)))),F(d)})),F()},F=function(t){var e,i,n,r=t?t:s.settings.speed,a={left:0,top:0},l={left:0,top:0};"next"===s.settings.autoDirection?a=o.find(".bx-clone").first().position():l=s.children.first().position(),e="horizontal"===s.settings.mode?-a.left:-a.top,i="horizontal"===s.settings.mode?-l.left:-l.top,n={resetValue:i},S(e,"ticker",r,n)},N=function(e){var i=t(window),n={top:i.scrollTop(),left:i.scrollLeft()},s=e.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),s.right=s.left+e.outerWidth(),s.bottom=s.top+e.outerHeight(),!(n.right<s.left||n.left>s.right||n.bottom<s.top||n.top>s.bottom)},X=function(t){var e=document.activeElement.tagName.toLowerCase();if(null==new RegExp(e,["i"]).exec("input|textarea")&&N(o)){if(39===t.keyCode)return k(t),!1;if(37===t.keyCode)return E(t),!1}},Y=function(){s.touch={start:{x:0,y:0},end:{x:0,y:0}},s.viewport.bind("touchstart MSPointerDown pointerdown",V),s.viewport.on("click",".bxslider a",function(t){s.viewport.hasClass("click-disabled")&&(t.preventDefault(),s.viewport.removeClass("click-disabled"))})},V=function(t){if(s.controls.el.addClass("disabled"),s.working)t.preventDefault(),s.controls.el.removeClass("disabled");else{s.touch.originalPos=o.position();var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e];s.touch.start.x=i[0].pageX,s.touch.start.y=i[0].pageY,s.viewport.get(0).setPointerCapture&&(s.pointerId=e.pointerId,s.viewport.get(0).setPointerCapture(s.pointerId)),s.viewport.bind("touchmove MSPointerMove pointermove",Z),s.viewport.bind("touchend MSPointerUp pointerup",B),s.viewport.bind("MSPointerCancel pointercancel",R)}},R=function(t){S(s.touch.originalPos.left,"reset",0),s.controls.el.removeClass("disabled"),s.viewport.unbind("MSPointerCancel pointercancel",R),s.viewport.unbind("touchmove MSPointerMove pointermove",Z),s.viewport.unbind("touchend MSPointerUp pointerup",B),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId)},Z=function(t){var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e],n=Math.abs(i[0].pageX-s.touch.start.x),o=Math.abs(i[0].pageY-s.touch.start.y),r=0,a=0;3*n>o&&s.settings.preventDefaultSwipeX?t.preventDefault():3*o>n&&s.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!==s.settings.mode&&s.settings.oneToOneTouch&&("horizontal"===s.settings.mode?(a=i[0].pageX-s.touch.start.x,r=s.touch.originalPos.left+a):(a=i[0].pageY-s.touch.start.y,r=s.touch.originalPos.top+a),S(r,"reset",0))},B=function(t){s.viewport.unbind("touchmove MSPointerMove pointermove",Z),s.controls.el.removeClass("disabled");var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e],n=0,r=0;s.touch.end.x=i[0].pageX,s.touch.end.y=i[0].pageY,"fade"===s.settings.mode?(r=Math.abs(s.touch.start.x-s.touch.end.x))>=s.settings.swipeThreshold&&(s.touch.start.x>s.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):("horizontal"===s.settings.mode?(r=s.touch.end.x-s.touch.start.x,n=s.touch.originalPos.left):(r=s.touch.end.y-s.touch.start.y,n=s.touch.originalPos.top),!s.settings.infiniteLoop&&(0===s.active.index&&r>0||s.active.last&&r<0)?S(n,"reset",200):Math.abs(r)>=s.settings.swipeThreshold?(r<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):S(n,"reset",200)),s.viewport.unbind("touchend MSPointerUp pointerup",B),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId)},U=function(e){if(s.initialized)if(s.working)window.setTimeout(U,10);else{var i=t(window).width(),n=t(window).height();r===i&&a===n||(r=i,a=n,o.redrawSlider(),s.settings.onSliderResize.call(o,s.active.index))}},j=function(t){var e=v();s.settings.ariaHidden&&!s.settings.ticker&&(s.children.attr("aria-hidden","true"),s.children.slice(t,t+e).attr("aria-hidden","false"))},Q=function(t){return t<0?s.settings.infiniteLoop?f()-1:s.active.index:t>=f()?s.settings.infiniteLoop?0:s.active.index:t};return o.goToSlide=function(e,i){var n,r,a,l,d=!0,c=0,g={left:0,top:0},u=null;if(s.oldIndex=s.active.index,s.active.index=Q(e),!s.working&&s.active.index!==s.oldIndex){if(s.working=!0,void 0!==(d=s.settings.onSlideBefore.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index))&&!d)return s.active.index=s.oldIndex,void(s.working=!1);"next"===i?s.settings.onSlideNext.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1):"prev"===i&&(s.settings.onSlidePrev.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1)),s.active.last=s.active.index>=f()-1,(s.settings.pager||s.settings.pagerCustom)&&I(s.active.index),s.settings.controls&&D(),"fade"===s.settings.mode?(s.settings.adaptiveHeight&&s.viewport.height()!==p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),s.children.filter(":visible").fadeOut(s.settings.speed).css({zIndex:0}),s.children.eq(s.active.index).css("zIndex",s.settings.slideZIndex+1).fadeIn(s.settings.speed,function(){t(this).css("zIndex",s.settings.slideZIndex),A()})):(s.settings.adaptiveHeight&&s.viewport.height()!==p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),!s.settings.infiniteLoop&&s.carousel&&s.active.last?"horizontal"===s.settings.mode?(u=s.children.eq(s.children.length-1),g=u.position(),c=s.viewport.width()-u.outerWidth()):(n=s.children.length-s.settings.minSlides,g=s.children.eq(n).position()):s.carousel&&s.active.last&&"prev"===i?(r=1===s.settings.moveSlides?s.settings.maxSlides-x():(f()-1)*x()-(s.children.length-s.settings.maxSlides),u=o.children(".bx-clone").eq(r),g=u.position()):"next"===i&&0===s.active.index?(g=o.find("> .bx-clone").eq(s.settings.maxSlides).position(),s.active.last=!1):e>=0&&(l=e*parseInt(x()),g=s.children.eq(l).position()),void 0!==g&&(a="horizontal"===s.settings.mode?-(g.left-c):-g.top,S(a,"slide",s.settings.speed)),s.working=!1),s.settings.ariaHidden&&j(s.active.index*x())}},o.goToNextSlide=function(){if((s.settings.infiniteLoop||!s.active.last)&&1!=s.working){var t=parseInt(s.active.index)+1;o.goToSlide(t,"next")}},o.goToPrevSlide=function(){if((s.settings.infiniteLoop||0!==s.active.index)&&1!=s.working){var t=parseInt(s.active.index)-1;o.goToSlide(t,"prev")}},o.startAuto=function(t){s.interval||(s.interval=setInterval(function(){"next"===s.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},s.settings.pause),s.settings.onAutoChange.call(o,!0),s.settings.autoControls&&t!==!0&&q("stop"))},o.stopAuto=function(t){s.interval&&(clearInterval(s.interval),s.interval=null,s.settings.onAutoChange.call(o,!1),s.settings.autoControls&&t!==!0&&q("start"))},o.getCurrentSlide=function(){return s.active.index},o.getCurrentSlideElement=function(){return s.children.eq(s.active.index)},o.getSlideElement=function(t){return s.children.eq(t)},o.getSlideCount=function(){return s.children.length},o.isWorking=function(){return s.working},o.redrawSlider=function(){s.children.add(o.find(".bx-clone")).outerWidth(h()),s.viewport.css("height",p()),s.settings.ticker||m(),s.active.last&&(s.active.index=f()-1),s.active.index>=f()&&(s.active.last=!0),s.settings.pager&&!s.settings.pagerCustom&&(b(),I(s.active.index)),s.settings.ariaHidden&&j(s.active.index*x())},o.destroySlider=function(){s.initialized&&(s.initialized=!1,t(".bx-clone",this).remove(),s.children.each(function(){void 0!==t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!==t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),s.controls.el&&s.controls.el.remove(),s.controls.next&&s.controls.next.remove(),s.controls.prev&&s.controls.prev.remove(),s.pagerEl&&s.settings.controls&&!s.settings.pagerCustom&&s.pagerEl.remove(),t(".bx-caption",this).remove(),s.controls.autoEl&&s.controls.autoEl.remove(),clearInterval(s.interval),s.settings.responsive&&t(window).unbind("resize",U),s.settings.keyboardEnabled&&t(document).unbind("keydown",X),t(this).removeData("bxSlider"),t(window).off("blur",W).off("focus",H))},o.reloadSlider=function(e){void 0!==e&&(n=e),o.destroySlider(),l(),t(o).data("bxSlider",this)},l(),t(o).data("bxSlider",this),this}}}(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_custom/slider.min.js */
(function(b){var a={init:function(c){var f=this;var e="";e+='<div class="wrap orders">\n';e+="	<h2>Customers' testimonials</h2>\n";e+='	<div class="up hiden"></div>\n';e+='	<div class="down hiden"></div>\n';e+='	<div class="testimomials_rotator_point"></div>\n';e+='	<a href="/latest-orders.html" id="alltest" class="linka serif">View all completed orders</a>\n';e+='	<div class="buy otherbuy serif">\n';e+="		<h4>Lowest prices on the market</h4>\n";e+='		<h2 class="money">Get quality essay without paying upfront</h2>\n';e+='		<a href="#newOrderFrom" class="ordernow">Order Now</a>\n';e+='		<div class="todo">Submit your instructions to writers for free</div>\n';e+="	</div>\n";e+="</div>\n";e+='<div id="guarantee">Satisfaction Guarantee</div>\n';var d=b.extend({container:f,slider_target:".testimomials_rotator_point",slider_container:"#orderswrap",auto:true,stopAuto:true,touchEnabled:false,speed:200,responsive:false,pager:true,pause:8000,pagerSelector:"#pagul",slideSelector:".order",pagerType:"full",nextSelector:".down",prevSelector:".up",nextText:"",prevText:"",useCSS:false},c);d.container.data("options",d);b(e).appendTo(d.container);a.getData(d.container);a.observer()},render:function(g,c){var e=a.getSettings(c,"options");var d=g;b(e.slider_target).html(d);var f=b(e.slider_container).bxSlider({auto:e.auto,stopAuto:e.stopAuto,touchEnabled:e.touchEnabled,speed:e.speed,responsive:e.responsive,adaptiveHeight:e.adaptiveHeight,adaptiveHeightSpeed:e.adaptiveHeightSpeed,slideSelector:e.slideSelector,pause:e.pause,pager:e.pager,pagerType:e.pagerType,pagerSelector:e.pagerSelector,nextSelector:e.nextSelector,prevSelector:e.prevSelector,nextText:e.nextText,prevText:e.prevText,useCss:e.useCSS});b(".order").first().addClass("");b(".up, .down").removeClass("hiden");a.endLoader(c)},observer:function(){var c=b(".bottom .orders"),d=b("#rotator_testimonials_container");window_obj=b(window);window_obj.on("scroll",function(){if(window_obj.scrollTop()<=(d.offset().top+d.height()/3)&&(d.height()+d.offset().top-d.height()/3)<(window_obj.height()+window_obj.scrollTop())){c.addClass("fire")}else{c.removeClass("fire")}})},getData:function(c){var d="/bricks/aj_testimonials_for_rotator.html";b.ajax({url:d,dataType:"html",type:"GET",beforeSend:function(){a.startLoader(c)},success:function(e){a.render(e,c)},error:function(f){}})},startLoader:function(c){b(c).addClass("es-loader")},endLoader:function(c){b(c).removeClass("es-loader")},getSettings:function(c,d){return c.data(d)}};b.fn.slider=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" doesn't exist")}}}})(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/jquery/VenoBox/jquery.venobox.min.js */
!function(e){"use strict";var o,t,a,i,s,n,c,r,d,l,v,u,b,p,m,f,h,g,k,x,y,w,C,_,P,B,E,O,U,D,M,N,V,z,R,X,Y,j,W,$;e.fn.extend({venobox:function(q){var I=this,A={arrowsColor:"#B6B6B6",autoplay:!1,bgcolor:"#fff",border:"0",closeBackground:"#161617",closeColor:"#d2d2d2",framewidth:"",frameheight:"",infinigall:!1,htmlClose:"&times;",htmlNext:"<span>Next</span>",htmlPrev:"<span>Prev</span>",numeratio:!1,numerationBackground:"#161617",numerationColor:"#d2d2d2",numerationPosition:"top",overlayClose:!0,overlayColor:"rgba(23,23,23,0.85)",spinner:"double-bounce",spinColor:"#d2d2d2",titleattr:"title",titleBackground:"#161617",titleColor:"#d2d2d2",titlePosition:"top",cb_pre_open:function(){return!0},cb_post_open:function(){},cb_pre_close:function(){return!0},cb_post_close:function(){},cb_post_resize:function(){},cb_after_nav:function(){},cb_init:function(){}},H=e.extend(A,q);return H.cb_init(I),this.each(function(){function q(){y=O.data("gall"),h=O.data("numeratio"),b=O.data("infinigall"),p=e('.vbox-item[data-gall="'+y+'"]'),w=p.eq(p.index(O)+1),C=p.eq(p.index(O)-1),p.length>1?(U=p.index(O)+1,a.html(U+" / "+p.length)):U=1,h===!0?a.show():a.hide(),""!==x?i.show():i.hide(),w.length||b===!0?(e(".vbox-next").css("display","block"),_=!0):(e(".vbox-next").css("display","none"),_=!1),p.index(O)>0||b===!0?(e(".vbox-prev").css("display","block"),P=!0):(e(".vbox-prev").css("display","none"),P=!1),(P===!0||_===!0)&&(r.on(ne.DOWN,T),r.on(ne.MOVE,Z),r.on(ne.UP,F))}function A(e){return e.length<1?!1:m?!1:(m=!0,g=e.data("overlay")||e.data("overlaycolor"),v=e.data("framewidth"),u=e.data("frameheight"),s=e.data("border"),t=e.data("bgcolor"),d=e.data("href")||e.attr("href"),o=e.data("autoplay"),x=e.attr(e.data("titleattr"))||"",e===C&&r.addClass("animated").addClass("swipe-right"),e===w&&r.addClass("animated").addClass("swipe-left"),void r.animate({opacity:0},500,function(){k.css("background",g),r.removeClass("animated").removeClass("swipe-left").removeClass("swipe-right").css({"margin-left":0,"margin-right":0}),"iframe"==e.data("vbtype")?J():"inline"==e.data("vbtype")?oe():"ajax"==e.data("vbtype")?G():"video"==e.data("vbtype")||"vimeo"==e.data("vbtype")||"youtube"==e.data("vbtype")?K(o):(r.html('<img src="'+d+'">'),te()),O=e,q(),m=!1,H.cb_after_nav(O,U,w,C)}))}function Q(e){27===e.keyCode&&S(),37==e.keyCode&&P===!0&&A(C),39==e.keyCode&&_===!0&&A(w)}function S(){var o=H.cb_pre_close(O,U,w,C);return o===!1?!1:(e("body").off("keydown",Q).removeClass("vbox-open"),O.focus(),void k.animate({opacity:0},500,function(){k.remove(),m=!1,H.cb_post_close()}))}function T(e){r.addClass("animated"),V=R=e.pageY,z=X=e.pageX,D=!0}function Z(e){if(D===!0){X=e.pageX,R=e.pageY,j=X-z,W=R-V;var o=Math.abs(j),t=Math.abs(W);o>t&&100>=o&&(e.preventDefault(),r.css("margin-left",j))}}function F(e){if(D===!0){D=!1;var o=O,t=!1;Y=X-z,0>Y&&_===!0&&(o=w,t=!0),Y>0&&P===!0&&(o=C,t=!0),Math.abs(Y)>=$&&t===!0?A(o):r.css({"margin-left":0,"margin-right":0})}}function G(){e.ajax({url:d,cache:!1}).done(function(e){r.html('<div class="vbox-inline">'+e+"</div>"),te()}).fail(function(){r.html('<div class="vbox-inline"><p>Error retrieving contents, please retry</div>'),ae()})}function J(){r.html('<iframe class="venoframe" src="'+d+'"></iframe>'),ae()}function K(e){var o,t=L(d),a=e?"?rel=0&autoplay=1":"?rel=0",i=a+ee(d);"vimeo"==t.type?o="https://player.vimeo.com/video/":"youtube"==t.type&&(o="https://www.youtube.com/embed/"),r.html('<iframe class="venoframe vbvid" webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder="0" src="'+o+t.id+i+'"></iframe>'),ae()}function L(e){if(e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1)var o="youtube";else if(RegExp.$3.indexOf("vimeo")>-1)var o="vimeo";return{type:o,id:RegExp.$6}}function ee(e){var o="",t=decodeURIComponent(e),a=t.split("?");if(void 0!==a[1]){var i,s,n=a[1].split("&");for(s=0;s<n.length;s++)i=n[s].split("="),o=o+"&"+i[0]+"="+i[1]}return encodeURI(o)}function oe(){r.html('<div class="vbox-inline">'+e(d).html()+"</div>"),ae()}function te(){N=r.find("img"),N.length?N.each(function(){e(this).one("load",function(){ae()})}):ae()}function ae(){i.html(x),r.find(">:first-child").addClass("figlio").css({width:v,height:u,padding:s,background:t}),e("img.figlio").on("dragstart",function(e){e.preventDefault()}),ie(),r.animate({opacity:"1"},"slow",function(){})}function ie(){var o=r.outerHeight(),t=e(window).height();f=t>o+60?(t-o)/2:"30px",r.css("margin-top",f),r.css("margin-bottom",f),H.cb_post_resize()}if(O=e(this),O.data("venobox"))return!0;I.VBclose=function(){S()},O.addClass("vbox-item"),O.data("framewidth",H.framewidth),O.data("frameheight",H.frameheight),O.data("border",H.border),O.data("bgcolor",H.bgcolor),O.data("numeratio",H.numeratio),O.data("infinigall",H.infinigall),O.data("overlaycolor",H.overlayColor),O.data("titleattr",H.titleattr),O.data("venobox",!0),O.on("click",function(b){b.preventDefault(),O=e(this);var p=H.cb_pre_open(O);if(p===!1)return!1;switch(I.VBnext=function(){A(w)},I.VBprev=function(){A(C)},g=O.data("overlay")||O.data("overlaycolor"),v=O.data("framewidth"),u=O.data("frameheight"),o=O.data("autoplay")||H.autoplay,s=O.data("border"),t=O.data("bgcolor"),_=!1,P=!1,m=!1,d=O.data("href")||O.attr("href"),l=O.data("css")||"",x=O.attr(O.data("titleattr"))||"",B='<div class="vbox-preloader">',H.spinner){case"rotating-plane":B+='<div class="sk-rotating-plane"></div>';break;case"double-bounce":B+='<div class="sk-double-bounce"><div class="sk-child sk-double-bounce1"></div><div class="sk-child sk-double-bounce2"></div></div>';break;case"wave":B+='<div class="sk-wave"><div class="sk-rect sk-rect1"></div><div class="sk-rect sk-rect2"></div><div class="sk-rect sk-rect3"></div><div class="sk-rect sk-rect4"></div><div class="sk-rect sk-rect5"></div></div>';break;case"wandering-cubes":B+='<div class="sk-wandering-cubes"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div></div>';break;case"spinner-pulse":B+='<div class="sk-spinner sk-spinner-pulse"></div>';break;case"three-bounce":B+='<div class="sk-three-bounce"><div class="sk-child sk-bounce1"></div><div class="sk-child sk-bounce2"></div><div class="sk-child sk-bounce3"></div></div>';break;case"cube-grid":B+='<div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div>'}return B+="</div>",E='<a class="vbox-next">'+H.htmlNext+'</a><a class="vbox-prev">'+H.htmlPrev+"</a>",M='<div class="vbox-title"></div><div class="vbox-num">0/0</div><div class="vbox-close">'+H.htmlClose+"</div>",n='<div class="vbox-overlay '+l+'" style="background:'+g+'">'+B+'<div class="vbox-container"><div class="vbox-content"></div></div>'+M+E+"</div>",e("body").append(n).addClass("vbox-open"),e(".vbox-preloader .sk-child, .vbox-preloader .sk-rotating-plane, .vbox-preloader .sk-rect, .vbox-preloader .sk-cube, .vbox-preloader .sk-spinner-pulse").css("background-color",H.spinColor),k=e(".vbox-overlay"),c=e(".vbox-container"),r=e(".vbox-content"),a=e(".vbox-num"),i=e(".vbox-title"),i.css(H.titlePosition,"-1px"),i.css({color:H.titleColor,"background-color":H.titleBackground}),e(".vbox-close").css({color:H.closeColor,"background-color":H.closeBackground}),e(".vbox-num").css(H.numerationPosition,"-1px"),e(".vbox-num").css({color:H.numerationColor,"background-color":H.numerationBackground}),e(".vbox-next span, .vbox-prev span").css({"border-top-color":H.arrowsColor,"border-right-color":H.arrowsColor}),r.html(""),r.css("opacity","0"),k.css("opacity","0"),q(),k.animate({opacity:1},250,function(){"iframe"==O.data("vbtype")?J():"inline"==O.data("vbtype")?oe():"ajax"==O.data("vbtype")?G():"video"==O.data("vbtype")||"vimeo"==O.data("vbtype")||"youtube"==O.data("vbtype")?K(o):(r.html('<img src="'+d+'">'),te()),H.cb_post_open(O,U,w,C)}),e("body").keydown(Q),e(".vbox-prev").on("click",function(){A(C)}),e(".vbox-next").on("click",function(){A(w)}),!1});var se=".vbox-overlay";H.overlayClose||(se=".vbox-close"),e(document).on("click",se,function(o){(e(o.target).is(".vbox-overlay")||e(o.target).is(".vbox-content")||e(o.target).is(".vbox-close")||e(o.target).is(".vbox-preloader"))&&S()}),z=0,X=0,Y=0,$=50,D=!1;var ne={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"},ce=function(o){var t;switch(o.type){case"mousedown":t=ne.DOWN;break;case"mouseup":t=ne.UP;break;case"mouseout":t=ne.UP;break;case"mousemove":t=ne.MOVE;break;default:return}var a=de(t,o,o.pageX,o.pageY);e(o.target).trigger(a)},re=function(o){var t;switch(o.type){case"touchstart":t=ne.DOWN;break;case"touchend":t=ne.UP;break;case"touchmove":t=ne.MOVE;break;default:return}var a,i=o.originalEvent.touches[0];a=t==ne.UP?de(t,o,null,null):de(t,o,i.pageX,i.pageY),e(o.target).trigger(a)},de=function(o,t,a,i){return e.Event(o,{pageX:a,pageY:i,originalEvent:t})};"ontouchstart"in window?(e(document).on("touchstart",re),e(document).on("touchmove",re),e(document).on("touchend",re)):(e(document).on("mousedown",ce),e(document).on("mouseup",ce),e(document).on("mouseout",ce),e(document).on("mousemove",ce)),e(window).resize(function(){e(".vbox-content").length&&setTimeout(ie(),800)})})}})}(jQuery);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_custom/pages.js */
head.ready(function(){function scroll_class(){var window_scl_top=$(window).scrollTop();if(window_scl_top>20){$('.main-header').addClass('scrolled');}else{$('.main-header').removeClass('scrolled');}}
scroll_class();function fixedForm(){if($('.sidebar').length){var scrTop=$(window).scrollTop();var form=$('.sidebar #es_form_esof');var sidebar=$('.sidebar');var content=$('.content-block.with-sidebar');var formOuterH=form.outerHeight(true,true);var formH=form.height();var contentH=content.height();var contentOffset=content.offset();var contentOfTop=contentOffset.top;var sidebarH=sidebar.height();var formOffset=form.offset();var formOfTop=(formOffset)?formOffset.top:0;var sidebarOffset=sidebar.offset();var sidebarOfTop=sidebarOffset.top;var sidebarB=sidebarH+sidebarOfTop;var contentB=contentH+contentOfTop;if(contentH>(sidebarH+formOuterH)){form.parent().css('min-height',formOuterH);if(scrTop>=sidebarB){form.addClass('fixed');if(contentB<(scrTop+formH+100)){form.css('top',-((scrTop+formH)-contentB));}else{form.css('top',100);}}else{form.removeClass('fixed').css('top','auto');}}}}
fixedForm();$(window).on('scroll',function(){scroll_class();fixedForm();});$(window).on('resize',function(){fixedForm();});var header_height=$('#header').outerHeight(true,true),menu_container=$('#glob_m');$('.toggle-menu').on('click',function(){$(menu_container).find('ul').addClass('visible-menu');});$('.close-menu').on('click',function(){$(menu_container).find('ul').removeClass('visible-menu');});$("#toggleall").on('click',function(){$(".faq li p").slideToggle(333);$(".faq li").toggleClass("hidden-box",100);});$(".faq li").toggleClass("hidden-box",100);$(".faq li h3").on('click',function(){$(this).next().slideToggle(333);$(this).parent().toggleClass("hidden-box",100);return false;});$('.toggle-link').on('click',function(){$(this).parent().find('.toggle-content').slideToggle(500);$(this).toggleClass('active');});$('[data-toggle-link]').on('click',function(){$('[data-toggle-content="'+$(this).data('toggle-link')+'"]').toggleClass('open');$(this).toggleClass('active');});$('#link_exchange').slideToggle(0);$('.toggle h3').toggleClass('toshow');if(window.location.href.indexOf("#")!=-1){var hash=window.location.hash;if(hash=='#chargeback'){$.scrollTo('#chargeback',1000,{margin:true,offset:-80});$("#chargeback p").slideToggle(333);$("#chargeback").toggleClass("hidden-box",100);};}
$('.textarea-select-code').on('click',function(){var e=this;if(window.getSelection){var s=window.getSelection();if(s.setBaseAndExtent){s.setBaseAndExtent(e,0,e,e.innerText.length-1);}else{var r=document.createRange();r.selectNodeContents(e);s.removeAllRanges();s.addRange(r);$(e).addClass('selected');}}else if(document.getSelection){var s=document.getSelection();var r=document.createRange();r.selectNodeContents(e);s.removeAllRanges();s.addRange(r);}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(e);r.select();}});$(document).on('click',function(event){if($(event.target).closest('.textarea-select-code').length)return;$('.textarea-select-code').removeClass('selected');event.stopPropagation();});$('.writers_card.expandable').on({mouseenter:function(){if(!$(this).hasClass('disabled')){$(this).stop().animate({'height':'90px'},150);}},mouseleave:function(){if(!$(this).hasClass('disabled')){$(this).stop().animate({'height':'58px'},150);}}});$('.disciplines-title').on('click',function(){if($(window).width()<768){$(this).parent('.writers-disciplines').toggleClass('show');}});var hasTouch=window.matchMedia('(max-device-width: 680px)').matches,mobileView=window.matchMedia('(max-width: 680px)').matches;if(hasTouch||mobileView){$('.tw-writer-item').on('click',function(){$(this).toggleClass('open');return false;});$('.tw-view-profile').on('click',function(){var wProfileLink=$(this).data('href');window.open(wProfileLink,'_self');});}
var iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(iOS){$('body').addClass('ios-device');}});document.addEventListener('DOMContentLoaded',function(){$('#es_form_esof').on('click','#open-whats-next',function(){$('html, body').addClass('no-scroll');$('.es-close, button').on('click',function(e){$('html, body').removeClass('no-scroll');});});});if(location.pathname.match('essay-you-can-be-proud-of')===null){document.addEventListener('jBricksReady',function(e){e.detail.render('FeedbackEs','#feedback-component',{slider:{autoplay:true,autoplaySpeed:5000,adaptiveHeight:false,},});});}

/* JS merged. Author(s), copyright, license see in original file /w3t_js/moment.js/moment.min.js */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return od.apply(null,arguments)}
function b(a){od=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){
return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)
return!1;return!0}function f(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function g(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function h(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function i(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function j(a,b){for(var c in b)i(b,c)&&(a[c]=b[c]);return i(b,"toString")&&(a.toString=b.toString),i(b,"valueOf")&&(a.valueOf=b.valueOf),a}function k(a,b,c,d){return rb(a,b,c,d,!0).utc()}function l(){
return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function m(a){return null==a._pf&&(a._pf=l()),a._pf}function n(a){if(null==a._isValid){var b=m(a),c=qd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function o(a){var b=k(NaN);return null!=a?j(m(b),a):m(b).userInvalidated=!0,b}function p(a){return void 0===a}function q(a,b){var c,d,e;if(p(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),p(b._i)||(a._i=b._i),p(b._f)||(a._f=b._f),p(b._l)||(a._l=b._l),p(b._strict)||(a._strict=b._strict),p(b._tzm)||(a._tzm=b._tzm),p(b._isUTC)||(a._isUTC=b._isUTC),p(b._offset)||(a._offset=b._offset),p(b._pf)||(a._pf=m(b)),p(b._locale)||(a._locale=b._locale),rd.length>0)for(c in rd)d=rd[c],e=b[d],p(e)||(a[d]=e);return a}
function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),
sd===!1&&(sd=!0,a.updateOffset(this),sd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}
function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function x(b,c){var d=!0;return j(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),td[b]||(w(c),td[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,
this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=j({},a);for(c in b)i(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},j(e[c],a[c]),j(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)i(a,c)&&!i(b,c)&&d(a[c])&&(
e[c]=j({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Dd[c]=Dd[c+"s"]=Dd[b]=a}function K(a){return"string"==typeof a?Dd[a]||Dd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)i(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Ed[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Ed[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}
function R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}
function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Id[a]=e),b&&(Id[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Id[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function W(a){var b,c,d=a.match(Fd);for(b=0,c=d.length;b<c;b++)Id[d[b]]?d[b]=Id[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}
function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Hd[b]=Hd[b]||W(b),Hd[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Gd.lastIndex=0;d>=0&&Gd.test(a);)a=a.replace(Gd,c),Gd.lastIndex=0,d-=1;return a}function Z(a,b,c){$d[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return i($d,a)?$d[a](b._strict,b._locale):new RegExp(_(a))}
function _(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),f(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)_d[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&i(_d,a)&&_d[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ke).test(b)?"format":"standalone"][a.month()]:this._months}function ga(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ke.test(b)?"format":"standalone"][a.month()]:this._monthsShort}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(
this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=k([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=je.call(this._shortMonthsParse,g),e!==-1?e:null):(e=je.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=je.call(this._shortMonthsParse,g),e!==-1?e:(e=je.call(this._longMonthsParse,g),e!==-1?e:null)):(e=je.call(this._longMonthsParse,g),e!==-1?e:(e=je.call(this._shortMonthsParse,g),e!==-1?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);
for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){
if(
e=k([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}
function ja(a,b){var c;if(!a.isValid())
return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else
if(b=a.localeData().monthsParse(b),!f(b))return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,"Month")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(i(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=ne),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(i(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=oe),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)
c=k([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(
d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}
function pa(a){return qa(a)?366:365}function qa(a){return a%4===0&&a%100!==0||a%400===0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){
var h=new Date(a,b,c,d,e,f,g);
return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));
return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}
function ua(a,b,c){var// first-week day -- which january is always in the first week (4 for iso, 1 for other)
d=7+b-c,
e=(7+ta(a,0,d).getUTCDay()-b)%7;return-e+d-1}
function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}
function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}
function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}
function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:this._weekdays}function Ga(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=k([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=je.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=je.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=je.call(this._weekdaysParse,g),e!==-1?e:(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:(e=je.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:(e=je.call(this._weekdaysParse,g),e!==-1?e:(e=je.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=je.call(this._minWeekdaysParse,g),e!==-1?e:(e=je.call(this._weekdaysParse,g),e!==-1?e:(e=je.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){
if(
e=k([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}
function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;
if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=ue),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ve),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=we),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)
c=k([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(
g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}
function Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}
function Ua(a,b){return b._meridiemParse}
function Va(a){
return"p"===(a+"").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}
function Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split("-"),b=e.length,c=Xa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)
break;b--}f++}return null}function Za(a){var b=null;
if(!Be[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=xe._abbr,require("./locale/"+a),
$a(b)}catch(a){}return Be[a]}
function $a(a,b){var c;
return a&&(c=p(b)?bb(a):_a(a,b),c&&(xe=c)),xe._abbr}function _a(a,b){if(null!==b){var c=Ae;if(b.abbr=a,null!=Be[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=Be[a]._config;else if(null!=b.parentLocale){if(null==Be[b.parentLocale])return Ce[b.parentLocale]||(Ce[b.parentLocale]=[]),Ce[b.parentLocale].push({name:a,config:b}),null;c=Be[b.parentLocale]._config}
return Be[a]=new C(B(c,b)),Ce[a]&&Ce[a].forEach(function(a){_a(a.name,a.config)}),$a(a),Be[a]}
return delete Be[a],null}function ab(a,b){if(null!=b){var c,d=Ae;
null!=Be[a]&&(d=Be[a]._config),b=B(d,b),c=new C(b),c.parentLocale=Be[a],Be[a]=c,
$a(a)}else
null!=Be[a]&&(null!=Be[a].parentLocale?Be[a]=Be[a].parentLocale:null!=Be[a]&&delete Be[a]);return Be[a]}
function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return xe;if(!c(a)){if(
b=Za(a))return b;a=[a]}return Ya(a)}function cb(){return wd(Be)}function db(a){var b,c=a._a;return c&&m(a).overflow===-2&&(b=c[be]<0||c[be]>11?be:c[ce]<1||c[ce]>ea(c[ae],c[be])?ce:c[de]<0||c[de]>24||24===c[de]&&(0!==c[ee]||0!==c[fe]||0!==c[ge])?de:c[ee]<0||c[ee]>59?ee:c[fe]<0||c[fe]>59?fe:c[ge]<0||c[ge]>999?ge:-1,m(a)._overflowDayOfYear&&(b<ae||b>ce)&&(b=ce),m(a)._overflowWeeks&&b===-1&&(b=he),m(a)._overflowWeekday&&b===-1&&(b=ie),m(a).overflow=b),a}
function eb(a){var b,c,d,e,f,g,h=a._i,i=De.exec(h)||Ee.exec(h);if(i){for(m(a).iso=!0,b=0,c=Ge.length;b<c;b++)if(Ge[b][1].exec(i[1])){e=Ge[b][0],d=Ge[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=He.length;b<c;b++)if(He[b][1].exec(i[3])){
f=(i[2]||" ")+He[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Fe.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),kb(a)}else a._isValid=!1}
function fb(b){var c=Ie.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(eb(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}
function gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(b){
var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}
function ib(a){var b,c,d,e,f=[];if(!a._d){
for(d=hb(a),
a._w&&null==a._a[ce]&&null==a._a[be]&&jb(a),
a._dayOfYear&&(e=gb(a._a[ae],d[ae]),a._dayOfYear>pa(e)&&(m(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[be]=c.getUTCMonth(),a._a[ce]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];
for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];
24===a._a[de]&&0===a._a[ee]&&0===a._a[fe]&&0===a._a[ge]&&(a._nextDay=!0,a._a[de]=0),a._d=(a._useUTC?ta:sa).apply(null,f),
null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[de]=24)}}function jb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,
c=gb(b.GG,a._a[ae],wa(sb(),1,4).year),d=gb(b.W,1),e=gb(b.E,1),(e<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(sb(),f,g);c=gb(b.gg,a._a[ae],j.year),
d=gb(b.w,j.week),null!=b.d?(
e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(
e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):
e=f}d<1||d>xa(c,f,g)?m(a)._overflowWeeks=!0:null!=i?m(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ae]=h.year,a._dayOfYear=h.dayOfYear)}
function kb(b){
if(b._f===a.ISO_8601)return void eb(b);b._a=[],m(b).empty=!0;
var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Fd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,b))||[])[0],
d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&m(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),
Id[f]?(d?m(b).empty=!1:m(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&m(b).unusedTokens.push(f);
m(b).charsLeftOver=i-j,h.length>0&&m(b).unusedInput.push(h),
b._a[de]<=12&&m(b).bigHour===!0&&b._a[de]>0&&(m(b).bigHour=void 0),m(b).parsedDateParts=b._a.slice(0),m(b).meridiem=b._meridiem,
b._a[de]=lb(b._locale,b._a[de],b._meridiem),ib(b),db(b)}function lb(a,b,c){var d;
return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}
function mb(a){var b,c,d,e,f;if(0===a._f.length)return m(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],kb(b),n(b)&&(
f+=m(b).charsLeftOver,
f+=10*m(b).unusedTokens.length,m(b).score=f,(null==d||f<d)&&(d=f,c=b));j(a,c||b)}function nb(a){if(!a._d){var b=L(a._i);a._a=h([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function ob(a){var b=new r(db(pb(a)));
return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function pb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&""===b?o({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(g(b)?a._d=b:c(d)?mb(a):d?kb(a):qb(a),n(a)||(a._d=null),a))}function qb(b){var d=b._i;void 0===d?b._d=new Date(a.now()):g(d)?b._d=new Date(d.valueOf()):"string"==typeof d?fb(b):c(d)?(b._a=h(d.slice(0),function(a){return parseInt(a,10)}),ib(b)):"object"==typeof d?nb(b):f(d)?
b._d=new Date(d):a.createFromInputFallback(b)}function rb(a,b,f,g,h){var i={};
return f!==!0&&f!==!1||(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,ob(i)}function sb(a,b,c,d){return rb(a,b,c,d,!1)}
function tb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return sb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}
function ub(){var a=[].slice.call(arguments,0);return tb("isBefore",a)}function vb(){var a=[].slice.call(arguments,0);return tb("isAfter",a)}function wb(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;
this._milliseconds=+k+1e3*j+// 1000
6e4*i+// 1000 * 60
1e3*h*60*60,//using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
this._days=+g+7*f,
this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function xb(a){return a instanceof wb}function yb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}
function zb(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Ab(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Me)||["-",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}
function Bb(b,c){var d,e;
return c._isUTC?(d=c.clone(),e=(s(b)||g(b)?b.valueOf():sb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):sb(b).local()}function Cb(a){
return 15*-Math.round(a._d.getTimezoneOffset()/15)}
function Db(b,c){var d,e=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(b=Ab(Xd,b),null===b)return this}else Math.abs(b)<16&&(b=60*b);return!this._isUTC&&c&&(d=Cb(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?Tb(this,Ob(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?e:Cb(this)}function Eb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Fb(a){return this.utcOffset(0,a)}function Gb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Cb(this),"m")),this}function Hb(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var a=Ab(Wd,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Ib(a){return!!this.isValid()&&(a=a?sb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Jb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kb(){if(!p(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=pb(a),a._a){var b=a._isUTC?k(a._a):sb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lb(){return!!this.isValid()&&!this._isUTC}function Mb(){return!!this.isValid()&&this._isUTC}function Nb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ob(a,b){var c,d,e,g=a,
h=null;// checks for null or undefined
return xb(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:f(a)?(g={},b?g[b]=a:g.milliseconds=a):(h=Ne.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:u(h[ce])*c,h:u(h[de])*c,m:u(h[ee])*c,s:u(h[fe])*c,ms:u(yb(1e3*h[ge]))*c}):(h=Oe.exec(a))?(c="-"===h[1]?-1:1,g={y:Pb(h[2],c),M:Pb(h[3],c),w:Pb(h[4],c),d:Pb(h[5],c),h:Pb(h[6],c),m:Pb(h[7],c),s:Pb(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Rb(sb(g.from),sb(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new wb(g),xb(a)&&i(a,"_locale")&&(d._locale=a._locale),d}function Pb(a,b){
var c=a&&parseFloat(a.replace(",","."));
return(isNaN(c)?0:c)*b}function Qb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Rb(a,b){var c;return a.isValid()&&b.isValid()?(b=Bb(b,a),a.isBefore(b)?c=Qb(a,b):(c=Qb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}
function Sb(a,b){return function(c,d){var e,f;
return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ob(c,d),Tb(this,e,a),this}}function Tb(b,c,d,e){var f=c._milliseconds,g=yb(c._days),h=yb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,"Date",P(b,"Date")+g*d),h&&ja(b,P(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Ub(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Vb(b,c){
var d=b||sb(),e=Bb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,sb(d)))}function Wb(){return new r(this)}function Xb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function Yb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function Zb(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function $b(a,b){var c,d=s(a)?a:sb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function _b(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ac(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function bc(a,b,c){var d,e,f,g;// 1000
return this.isValid()?(d=Bb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=cc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function cc(a,b){
var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),
f=a.clone().add(e,"months");
return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function dc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ec(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}/**
 * Return a human readable representation of a moment that can
 * also be evaluated to get a new moment which is the same
 *
 * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
 */
function fc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",f=b+'[")]';return this.format(c+d+e+f)}function gc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)}function hc(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ic(a){return this.from(sb(),a)}function jc(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function kc(a){return this.to(sb(),a)}
function lc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function mc(){return this._locale}function nc(a){
switch(a=K(a)){case"year":this.month(0);/* falls through */
case"quarter":case"month":this.date(1);/* falls through */
case"week":case"isoWeek":case"day":case"date":this.hours(0);/* falls through */
case"hour":this.minutes(0);/* falls through */
case"minute":this.seconds(0);/* falls through */
case"second":this.milliseconds(0)}
return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function oc(a){
return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function pc(){return this._d.valueOf()-6e4*(this._offset||0)}function qc(){return Math.floor(this.valueOf()/1e3)}function rc(){return new Date(this.valueOf())}function sc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function tc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function uc(){
return this.isValid()?this.toISOString():null}function vc(){return n(this)}function wc(){return j({},m(this))}function xc(){return m(this).overflow}function yc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function zc(a,b){U(0,[a,a.length],0,b)}
function Ac(a){return Ec.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Bc(a){return Ec.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Cc(){return xa(this.year(),1,4)}function Dc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ec(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Fc.call(this,a,b,c,d,e))}function Fc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}
function Gc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}
function Hc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Ic(a,b){b[ge]=u(1e3*("0."+a))}
function Jc(){return this._isUTC?"UTC":""}function Kc(){return this._isUTC?"Coordinated Universal Time":""}function Lc(a){return sb(1e3*a)}function Mc(){return sb.apply(null,arguments).parseZone()}function Nc(a){return a}function Oc(a,b,c,d){var e=bb(),f=k().set(d,b);return e[c](f,a)}function Pc(a,b,c){if(f(a)&&(b=a,a=void 0),a=a||"",null!=b)return Oc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Oc(a,d,c,"month");return e}
function Qc(a,b,c,d){"boolean"==typeof a?(f(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,f(b)&&(c=b,b=void 0),b=b||"");var e=bb(),g=a?e._week.dow:0;if(null!=c)return Oc(b,(c+g)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=Oc(b,(h+g)%7,d,"day");return i}function Rc(a,b){return Pc(a,b,"months")}function Sc(a,b){return Pc(a,b,"monthsShort")}function Tc(a,b,c){return Qc(a,b,c,"weekdays")}function Uc(a,b,c){return Qc(a,b,c,"weekdaysShort")}function Vc(a,b,c){return Qc(a,b,c,"weekdaysMin")}function Wc(){var a=this._data;return this._milliseconds=Ze(this._milliseconds),this._days=Ze(this._days),this._months=Ze(this._months),a.milliseconds=Ze(a.milliseconds),a.seconds=Ze(a.seconds),a.minutes=Ze(a.minutes),a.hours=Ze(a.hours),a.months=Ze(a.months),a.years=Ze(a.years),this}function Xc(a,b,c,d){var e=Ob(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}
function Yc(a,b){return Xc(this,a,b,1)}
function Zc(a,b){return Xc(this,a,b,-1)}function $c(a){return a<0?Math.floor(a):Math.ceil(a)}function _c(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;
return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*$c(bd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(ad(g)),h+=e,g-=$c(bd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ad(a){
return 4800*a/146097}function bd(a){
return 146097*a/4800}function cd(a){var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+ad(b),"month"===a?c:c/12;switch(
b=this._days+Math.round(bd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;
case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}
function dd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)}function ed(a){return function(){return this.as(a)}}function fd(a){return a=K(a),this[a+"s"]()}function gd(a){return function(){return this._data[a]}}function hd(){return t(this.days()/7)}
function id(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function jd(a,b,c){var d=Ob(a).abs(),e=of(d.as("s")),f=of(d.as("m")),g=of(d.as("h")),h=of(d.as("d")),i=of(d.as("M")),j=of(d.as("y")),k=e<pf.s&&["s",e]||f<=1&&["m"]||f<pf.m&&["mm",f]||g<=1&&["h"]||g<pf.h&&["hh",g]||h<=1&&["d"]||h<pf.d&&["dd",h]||i<=1&&["M"]||i<pf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,id.apply(null,k)}
function kd(a){return void 0===a?of:"function"==typeof a&&(of=a,!0)}
function ld(a,b){return void 0!==pf[a]&&(void 0===b?pf[a]:(pf[a]=b,!0))}function md(a){var b=this.localeData(),c=jd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function nd(){
var a,b,c,d=qf(this._milliseconds)/1e3,e=qf(this._days),f=qf(this._months);
a=t(d/60),b=t(a/60),d%=60,a%=60,
c=t(f/12),f%=12;
var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var od,pd;pd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var qd=pd,rd=a.momentProperties=[],sd=!1,td={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var ud;ud=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)i(a,b)&&c.push(b);return c};var vd,wd=ud,xd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},yd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},zd="Invalid date",Ad="%d",Bd=/\d{1,2}/,Cd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dd={},Ed={},Fd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Gd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hd={},Id={},Jd=/\d/,Kd=/\d\d/,Ld=/\d{3}/,Md=/\d{4}/,Nd=/[+-]?\d{6}/,Od=/\d\d?/,Pd=/\d\d\d\d?/,Qd=/\d\d\d\d\d\d?/,Rd=/\d{1,3}/,Sd=/\d{1,4}/,Td=/[+-]?\d{1,6}/,Ud=/\d+/,Vd=/[+-]?\d+/,Wd=/Z|[+-]\d\d:?\d\d/gi,Xd=/Z|[+-]\d\d(?::?\d\d)?/gi,Yd=/[+-]?\d+(\.\d{1,3})?/,Zd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$d={},_d={},ae=0,be=1,ce=2,de=3,ee=4,fe=5,ge=6,he=7,ie=8;vd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){
var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var je=vd;
U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),
J("month","M"),
M("month",8),
Z("M",Od),Z("MM",Od,Kd),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[be]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);
null!=e?b[be]=e:m(c).invalidMonth=a});
var ke=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,le="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),me="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ne=Zd,oe=Zd;
U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),
J("year","y"),
M("year",1),
Z("Y",Vd),Z("YY",Od,Kd),Z("YYYY",Sd,Md),Z("YYYYY",Td,Nd),Z("YYYYYY",Td,Nd),ba(["YYYYY","YYYYYY"],ae),ba("YYYY",function(b,c){c[ae]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba("YY",function(b,c){c[ae]=a.parseTwoDigitYear(b)}),ba("Y",function(a,b){b[ae]=parseInt(a,10)}),
a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};
var pe=O("FullYear",!0);
U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),
J("week","w"),J("isoWeek","W"),
M("week",5),M("isoWeek",5),
Z("w",Od),Z("ww",Od,Kd),Z("W",Od),Z("WW",Od,Kd),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var qe={dow:0,// Sunday is the first day of the week.
doy:6};
U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),
J("day","d"),J("weekday","e"),J("isoWeekday","E"),
M("day",11),M("weekday",11),M("isoWeekday",11),
Z("d",Od),Z("e",Od),Z("E",Od),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);
null!=e?b.d=e:m(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});
var re="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),se="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),te="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ue=Zd,ve=Zd,we=Zd;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,Sa),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),
J("hour","h"),
M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Od),Z("h",Od),Z("HH",Od,Kd),Z("hh",Od,Kd),Z("hmm",Pd),Z("hmmss",Qd),Z("Hmm",Pd),Z("Hmmss",Qd),ba(["H","HH"],de),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[de]=u(a),m(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d)),m(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d,2)),b[fe]=u(a.substr(e)),m(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[de]=u(a.substr(0,d)),b[ee]=u(a.substr(d,2)),b[fe]=u(a.substr(e))});var xe,ye=/[ap]\.?m?\.?/i,ze=O("Hours",!0),Ae={calendar:xd,longDateFormat:yd,invalidDate:zd,ordinal:Ad,ordinalParse:Bd,relativeTime:Cd,months:le,monthsShort:me,week:qe,weekdays:re,weekdaysMin:te,weekdaysShort:se,meridiemParse:ye},Be={},Ce={},De=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ee=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fe=/Z|[+-]\d\d(?::?\d\d)?/,Ge=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],
["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],He=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ie=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),
a.ISO_8601=function(){};var Je=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:o()}),Ke=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:o()}),Le=function(){return Date.now?Date.now():+new Date};zb("Z",":"),zb("ZZ",""),
Z("Z",Xd),Z("ZZ",Xd),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ab(Xd,a)});
var Me=/([\+\-]|\d\d)/gi;
a.updateOffset=function(){};
var Ne=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Oe=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ob.fn=wb.prototype;var Pe=Sb(1,"add"),Qe=Sb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Re=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});
U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),zc("gggg","weekYear"),zc("ggggg","weekYear"),zc("GGGG","isoWeekYear"),zc("GGGGG","isoWeekYear"),
J("weekYear","gg"),J("isoWeekYear","GG"),
M("weekYear",1),M("isoWeekYear",1),
Z("G",Vd),Z("g",Vd),Z("GG",Od,Kd),Z("gg",Od,Kd),Z("GGGG",Sd,Md),Z("gggg",Sd,Md),Z("GGGGG",Td,Nd),Z("ggggg",Td,Nd),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),
U("Q",0,"Qo","quarter"),
J("quarter","Q"),
M("quarter",7),
Z("Q",Jd),ba("Q",function(a,b){b[be]=3*(u(a)-1)}),
U("D",["DD",2],"Do","date"),
J("date","D"),
M("date",9),
Z("D",Od),Z("DD",Od,Kd),Z("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),ba(["D","DD"],ce),ba("Do",function(a,b){b[ce]=u(a.match(Od)[0],10)});
var Se=O("Date",!0);
U("DDD",["DDDD",3],"DDDo","dayOfYear"),
J("dayOfYear","DDD"),
M("dayOfYear",4),
Z("DDD",Rd),Z("DDDD",Ld),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),
U("m",["mm",2],0,"minute"),
J("minute","m"),
M("minute",14),
Z("m",Od),Z("mm",Od,Kd),ba(["m","mm"],ee);
var Te=O("Minutes",!1);
U("s",["ss",2],0,"second"),
J("second","s"),
M("second",15),
Z("s",Od),Z("ss",Od,Kd),ba(["s","ss"],fe);
var Ue=O("Seconds",!1);
U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),
J("millisecond","ms"),
M("millisecond",16),
Z("S",Rd,Jd),Z("SS",Rd,Kd),Z("SSS",Rd,Ld);var Ve;for(Ve="SSSS";Ve.length<=9;Ve+="S")Z(Ve,Ud);for(Ve="S";Ve.length<=9;Ve+="S")ba(Ve,Ic);
var We=O("Milliseconds",!1);
U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Xe=r.prototype;Xe.add=Pe,Xe.calendar=Vb,Xe.clone=Wb,Xe.diff=bc,Xe.endOf=oc,Xe.format=gc,Xe.from=hc,Xe.fromNow=ic,Xe.to=jc,Xe.toNow=kc,Xe.get=R,Xe.invalidAt=xc,Xe.isAfter=Xb,Xe.isBefore=Yb,Xe.isBetween=Zb,Xe.isSame=$b,Xe.isSameOrAfter=_b,Xe.isSameOrBefore=ac,Xe.isValid=vc,Xe.lang=Re,Xe.locale=lc,Xe.localeData=mc,Xe.max=Ke,Xe.min=Je,Xe.parsingFlags=wc,Xe.set=S,Xe.startOf=nc,Xe.subtract=Qe,Xe.toArray=sc,Xe.toObject=tc,Xe.toDate=rc,Xe.toISOString=ec,Xe.inspect=fc,Xe.toJSON=uc,Xe.toString=dc,Xe.unix=qc,Xe.valueOf=pc,Xe.creationData=yc,
Xe.year=pe,Xe.isLeapYear=ra,
Xe.weekYear=Ac,Xe.isoWeekYear=Bc,
Xe.quarter=Xe.quarters=Gc,
Xe.month=ka,Xe.daysInMonth=la,
Xe.week=Xe.weeks=Ba,Xe.isoWeek=Xe.isoWeeks=Ca,Xe.weeksInYear=Dc,Xe.isoWeeksInYear=Cc,
Xe.date=Se,Xe.day=Xe.days=Ka,Xe.weekday=La,Xe.isoWeekday=Ma,Xe.dayOfYear=Hc,
Xe.hour=Xe.hours=ze,
Xe.minute=Xe.minutes=Te,
Xe.second=Xe.seconds=Ue,
Xe.millisecond=Xe.milliseconds=We,
Xe.utcOffset=Db,Xe.utc=Fb,Xe.local=Gb,Xe.parseZone=Hb,Xe.hasAlignedHourOffset=Ib,Xe.isDST=Jb,Xe.isLocal=Lb,Xe.isUtcOffset=Mb,Xe.isUtc=Nb,Xe.isUTC=Nb,
Xe.zoneAbbr=Jc,Xe.zoneName=Kc,
Xe.dates=x("dates accessor is deprecated. Use date instead.",Se),Xe.months=x("months accessor is deprecated. Use month instead",ka),Xe.years=x("years accessor is deprecated. Use year instead",pe),Xe.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Eb),Xe.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kb);var Ye=C.prototype;Ye.calendar=D,Ye.longDateFormat=E,Ye.invalidDate=F,Ye.ordinal=G,Ye.preparse=Nc,Ye.postformat=Nc,Ye.relativeTime=H,Ye.pastFuture=I,Ye.set=A,
Ye.months=fa,Ye.monthsShort=ga,Ye.monthsParse=ia,Ye.monthsRegex=na,Ye.monthsShortRegex=ma,
Ye.week=ya,Ye.firstDayOfYear=Aa,Ye.firstDayOfWeek=za,
Ye.weekdays=Fa,Ye.weekdaysMin=Ha,Ye.weekdaysShort=Ga,Ye.weekdaysParse=Ja,Ye.weekdaysRegex=Na,Ye.weekdaysShortRegex=Oa,Ye.weekdaysMinRegex=Pa,
Ye.isPM=Va,Ye.meridiem=Wa,$a("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),
a.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var Ze=Math.abs,$e=ed("ms"),_e=ed("s"),af=ed("m"),bf=ed("h"),cf=ed("d"),df=ed("w"),ef=ed("M"),ff=ed("y"),gf=gd("milliseconds"),hf=gd("seconds"),jf=gd("minutes"),kf=gd("hours"),lf=gd("days"),mf=gd("months"),nf=gd("years"),of=Math.round,pf={s:45,// seconds to minute
m:45,// minutes to hour
h:22,// hours to day
d:26,// days to month
M:11},qf=Math.abs,rf=wb.prototype;
return rf.abs=Wc,rf.add=Yc,rf.subtract=Zc,rf.as=cd,rf.asMilliseconds=$e,rf.asSeconds=_e,rf.asMinutes=af,rf.asHours=bf,rf.asDays=cf,rf.asWeeks=df,rf.asMonths=ef,rf.asYears=ff,rf.valueOf=dd,rf._bubble=_c,rf.get=fd,rf.milliseconds=gf,rf.seconds=hf,rf.minutes=jf,rf.hours=kf,rf.days=lf,rf.weeks=hd,rf.months=mf,rf.years=nf,rf.humanize=md,rf.toISOString=nd,rf.toString=nd,rf.toJSON=nd,rf.locale=lc,rf.localeData=mc,rf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nd),rf.lang=Re,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Vd),Z("X",Yd),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.17.1",b(sb),a.fn=Xe,a.min=ub,a.max=vb,a.now=Le,a.utc=k,a.unix=Lc,a.months=Rc,a.isDate=g,a.locale=$a,a.invalid=o,a.duration=Ob,a.isMoment=s,a.weekdays=Tc,a.parseZone=Mc,a.localeData=bb,a.isDuration=xb,a.monthsShort=Sc,a.weekdaysMin=Vc,a.defineLocale=_a,a.updateLocale=ab,a.locales=cb,a.weekdaysShort=Uc,a.normalizeUnits=K,a.relativeTimeRounding=kd,a.relativeTimeThreshold=ld,a.calendarFormat=Ub,a.prototype=Xe,a});

/* JS merged. Author(s), copyright, license see in original file /w3t_js/pushstream/pushstream_custom.min.js */
(function(I,f,p){if(I.PushStream){return}var G={};var g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var v=function(P){return((P<10)?"0":"")+P};G.dateToUTCString=function(Q){if(I.w3t!=p&&I.w3t.client_utc_offset_min!=p){Q.setTime(Q.getTime()-(I.w3t.client_utc_offset_min*60*1000));var R=v(Q.getHours())+":"+v(Q.getMinutes())+":"+v(Q.getSeconds());var P=g[Q.getDay()]+", "+v(Q.getDate())+" "+w[Q.getMonth()]+" "+Q.getFullYear()+" "+R+" GMT"}else{var R=v(Q.getUTCHours())+":"+v(Q.getUTCMinutes())+":"+v(Q.getUTCSeconds());var P=g[Q.getUTCDay()]+", "+v(Q.getUTCDate())+" "+w[Q.getUTCMonth()]+" "+Q.getUTCFullYear()+" "+R+" GMT"}return P};var m=function(){var Q=arguments[0]||{};for(var R=0;R<arguments.length;R++){var S=arguments[R];for(var P in S){if(!S.hasOwnProperty||S.hasOwnProperty(P)){Q[P]=S[P]}}}return Q};var L=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,j=/(?:^|:|,)(?:\s*\[)+/g;var a=function(P){return P.replace(/^\s*/,"").replace(/\s*$/,"")};G.parseJSON=function(P){if(!P||!k(P)){return null}P=a(P);if(I.JSON&&I.JSON.parse){try{return I.JSON.parse(P)}catch(Q){throw"Invalid JSON: "+P}}if(L.test(P.replace(d,"@").replace(o,"]").replace(j,""))){return(new Function("return "+P))()}throw"Invalid JSON: "+P};var r=function(Q){var P={};P[Q.tagArgument]="";P[Q.timeArgument]="";P[Q.eventIdArgument]="";if(Q.messagesControlByArgument){P[Q.tagArgument]=Number(Q._etag);if(Q._lastModified){P[Q.timeArgument]=Q._lastModified}else{if(Q._lastEventId){P[Q.eventIdArgument]=Q._lastEventId}}}return P};var s=function(){return(new Date()).getTime()};var b=function(){return{_:s()}};var F=function(Q){var R=Q;if(typeof(Q)==="object"){R="";for(var P in Q){if(!Q.hasOwnProperty||Q.hasOwnProperty(P)){R+="&"+P+"="+I.escape(Q[P])}}R=R.substring(1)}return R||""};var O=function(P,Q){return P+((P.indexOf("?")<0)?"?":"&")+F(Q)};var y=Array.isArray||function(P){return Object.prototype.toString.call(P)==="[object Array]"};var k=function(P){return Object.prototype.toString.call(P)==="[object String]"};var x=function(P){return Object.prototype.toString.call(P)==="[object Date]"};var t={logger:null,debug:function(){if(e.LOG_LEVEL==="debug"){t._log.apply(t._log,arguments)}},info:function(){if((e.LOG_LEVEL==="info")||(e.LOG_LEVEL==="debug")){t._log.apply(t._log,arguments)}},error:function(){t._log.apply(t._log,arguments)},_initLogger:function(){var P=I.console;if(P&&P.log){if(P.log.apply){t.logger=P.log}else{if((typeof P.log==="object")&&Function.prototype.bind){t.logger=Function.prototype.bind.call(P.log,P)}else{if((typeof P.log==="object")&&Function.prototype.call){t.logger=function(){Function.prototype.call.call(P.log,P,Array.prototype.slice.call(arguments))}}}}}},_log:function(){if(!t.logger){t._initLogger()}if(t.logger){try{t.logger.apply(I.console,arguments)}catch(S){t._initLogger();if(t.logger){t.logger.apply(I.console,arguments)}}}var R=f.getElementById(e.LOG_OUTPUT_ELEMENT_ID);if(R){var T="";for(var Q=0;Q<arguments.length;Q++){T+=arguments[Q]+" "}R.innerHTML+=T+"\n";var P=R.innerHTML.split("\n");if(P.length>100){R.innerHTML=P.slice(-100).join("\n")}}}};var z={_getXHRObject:function(Q){var U=false;if(Q){try{U=new I.XDomainRequest()}catch(S){}if(U){return U}}try{U=new I.XMLHttpRequest()}catch(T){try{U=new I.ActiveXObject("Msxml2.XMLHTTP")}catch(R){try{U=new I.ActiveXObject("Microsoft.XMLHTTP")}catch(P){U=false}}}return U},_send:function(S,R){S=S||{};S.timeout=S.timeout||30000;var U=z._getXHRObject(S.crossDomain);if(!U||!S.url){return}z.clear(S);S.xhr=U;if(I.XDomainRequest&&(U instanceof I.XDomainRequest)){U.onload=function(){if(S.afterReceive){S.afterReceive(U)}if(S.success){S.success(U.responseText)}};U.onerror=U.ontimeout=function(){if(S.afterReceive){S.afterReceive(U)}if(S.error){S.error(U.status)}}}else{U.onreadystatechange=function(){if(U.readyState===4){z.clear(S);if(S.afterReceive){S.afterReceive(U)}if(U.status===200){if(S.success){S.success(U.responseText)}}else{if(S.error){S.error(U.status)}}}}}if(S.beforeOpen){S.beforeOpen(U)}var T={};var Q=null;var V="GET";if(R){Q=F(S.data);V="POST"}else{T=S.data||{}}U.open(V,O(S.url,m({},T,b())),true);if(S.beforeSend){S.beforeSend(U)}var P=function(){z.clear(S);try{U.abort()}catch(W){}S.error(304)};if(R){if(U.setRequestHeader){U.setRequestHeader("Accept","application/json");U.setRequestHeader("Content-type","application/x-www-form-urlencoded")}}else{S.timeoutId=I.setTimeout(P,S.timeout+2000)}U.send(Q);return U},_clear_xhr:function(P){if(P){P.onreadystatechange=null}},_clear_script:function(P){if(P){P.onerror=P.onload=P.onreadystatechange=null;if(P.parentNode){P.parentNode.removeChild(P)}}},_clear_timeout:function(P){P.timeoutId=M(P.timeoutId)},_clear_jsonp:function(P){var Q=P.data.callback;if(Q){I[Q]=function(){I[Q]=null}}},clear:function(P){z._clear_timeout(P);z._clear_jsonp(P);z._clear_script(f.getElementById(P.scriptId));z._clear_xhr(P.xhr)},jsonp:function(U){U.timeout=U.timeout||30000;z.clear(U);var S=f.head||f.getElementsByTagName("head")[0];var R=f.createElement("script");var T=s();var Q=function(){z.clear(U);var W=s();U.error(((W-T)>U.timeout/2)?304:403)};var V=function(){z.clear(U);U.load()};var P=function(){U.afterSuccess=true;U.success.apply(null,arguments)};R.onerror=Q;R.onload=R.onreadystatechange=function(W){if(!R.readyState||/loaded|complete/.test(R.readyState)){if(U.afterSuccess){V()}else{Q()}}};if(U.beforeOpen){U.beforeOpen({})}if(U.beforeSend){U.beforeSend({})}U.timeoutId=I.setTimeout(Q,U.timeout+2000);U.scriptId=U.scriptId||s();U.afterSuccess=null;U.data.callback=U.scriptId+"_onmessage_"+s();I[U.data.callback]=P;R.setAttribute("src",O(U.url,m({},U.data,b())));R.setAttribute("async","async");R.setAttribute("id",U.scriptId);S.insertBefore(R,S.firstChild);return U},load:function(P){return z._send(P,false)},post:function(P){return z._send(P,true)}};var A=function(P){return(P)?I.escape(P):""};var B=function(P){return(P)?I.unescape(P):""};G.parseMessage=function(R,Q){var S=R;if(k(R)){S=G.parseJSON(R)}var P={id:S[Q.jsonIdKey],channel:S[Q.jsonChannelKey],text:k(S[Q.jsonTextKey])?B(S[Q.jsonTextKey]):S[Q.jsonTextKey],tag:S[Q.jsonTagKey],time:S[Q.jsonTimeKey],eventid:S[Q.jsonEventIdKey]||""};return P};var l=function(P){return(P.backtrack)?".b"+Number(P.backtrack):""};var q=function(P,R){var S="";for(var Q in P){if(!P.hasOwnProperty||P.hasOwnProperty(Q)){S+="/"+Q+(R?l(P[Q]):"")}}return S};var i=function(T,V,W,Y){var R=T.wrapper.type===H.TYPE;var S=T.useSSL;var Q=n(S,T.port);var P=(R)?((S)?"wss://":"ws://"):((S)?"https://":"http://");P+=T.host;P+=(Q?(":"+Q):"");P+=V;var U=q(T.channels,Y);if(T.channelsByArgument){var X={};X[T.channelsArgument]=U.substring(1);W=m({},W,X)}else{P+=U}return O(P,W)};var E=function(R){var P=n(R.useSSL,R.port);var Q=(R.useSSL)?"https://":"http://";Q+=R.host;Q+=(P?(":"+P):"");Q+=R.urlPrefixPublisher;Q+="?id="+q(R.channels,false);return Q};G.extract_xss_domain=function(Q){if(Q.match(/^(\d{1,3}\.){3}\d{1,3}$/)){return Q}var R=Q.split(".");var P=Math.max(R.length-1,(Q.match(/(\w{4,}\.\w{2}|\.\w{3,})$/)?2:3));return R.slice(-1*P).join(".")};var n=function(Q,P){P=Number(P||(Q?443:80));return((!Q&&P===80)||(Q&&P===443))?"":P};G.isCrossDomainUrl=function(P){if(!P){return false}var S=f.createElement("a");S.href=P;var Q=n(I.location.protocol==="https:",I.location.port);var R=n(S.protocol==="https:",S.port);return(I.location.protocol!==S.protocol)||(I.location.hostname!==S.hostname)||(Q!==R)};var C=function(Q,P){return function(){return Q.apply(P,arguments)}};var M=function(P){if(P){I.clearTimeout(P)}return null};var h=function(Q){t.info("["+this.type+"] message received",arguments);var P=G.parseMessage(Q.data,this.pushstream);if(P.tag){this.pushstream._etag=P.tag}if(P.time){this.pushstream._lastModified=P.time}if(P.eventid){this.pushstream._lastEventId=P.eventid}this.pushstream._onmessage(P.text,P.id,P.channel,P.eventid,true)};var J=function(){this.pushstream._onopen();t.info("["+this.type+"] connection opened")};var N=function(P){t.info("["+this.type+"] error (disconnected by server):",P);if((this.pushstream.readyState===e.OPEN)&&(this.type===u.TYPE)&&(P.type==="error")&&(this.connection.readyState===I.EventSource.CONNECTING)){return}this._closeCurrentConnection();this.pushstream._onerror({type:((P&&((P.type==="load")||(P.type==="close")))||(this.pushstream.readyState===e.CONNECTING))?"load":"timeout"})};var H=function(P){if(!I.WebSocket&&!I.MozWebSocket){throw"WebSocket not supported"}this.type=H.TYPE;this.pushstream=P;this.connection=null};H.TYPE="WebSocket";H.prototype={connect:function(){this._closeCurrentConnection();var Q=m({},this.pushstream.extraParams(),b(),r(this.pushstream));var P=i(this.pushstream,this.pushstream.urlPrefixWebsocket,Q,!this.pushstream._useControlArguments());this.connection=(I.WebSocket)?new I.WebSocket(P):new I.MozWebSocket(P);this.connection.onerror=C(N,this);this.connection.onclose=C(N,this);this.connection.onopen=C(J,this);this.connection.onmessage=C(h,this);t.info("[WebSocket] connecting to:",P)},disconnect:function(){if(this.connection){t.debug("[WebSocket] closing connection to:",this.connection.url);this.connection.onclose=null;this._closeCurrentConnection();this.pushstream._onclose()}},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(P){}this.connection=null}},sendMessage:function(P){if(this.connection){this.connection.send(P)}}};var u=function(P){if(!I.EventSource){throw"EventSource not supported"}this.type=u.TYPE;this.pushstream=P;this.connection=null};u.TYPE="EventSource";u.prototype={connect:function(){this._closeCurrentConnection();var Q=m({},this.pushstream.extraParams(),b(),r(this.pushstream));var P=i(this.pushstream,this.pushstream.urlPrefixEventsource,Q,!this.pushstream._useControlArguments());this.connection=new I.EventSource(P);this.connection.onerror=C(N,this);this.connection.onopen=C(J,this);this.connection.onmessage=C(h,this);t.info("[EventSource] connecting to:",P)},disconnect:function(){if(this.connection){t.debug("[EventSource] closing connection to:",this.connection.url);this.connection.onclose=null;this._closeCurrentConnection();this.pushstream._onclose()}},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(P){}this.connection=null}}};var D=function(P){this.type=D.TYPE;this.pushstream=P;this.connection=null;this.url=null;this.frameloadtimer=null;this.pingtimer=null;this.iframeId="PushStreamManager_"+P.id};D.TYPE="Stream";D.prototype={connect:function(){this._closeCurrentConnection();var P=G.extract_xss_domain(this.pushstream.host);try{f.domain=P}catch(Q){t.error("[Stream] (warning) problem setting document.domain = "+P+" (OBS: IE8 does not support set IP numbers as domain)")}var R=m({},this.pushstream.extraParams(),b(),{streamid:this.pushstream.id},r(this.pushstream));this.url=i(this.pushstream,this.pushstream.urlPrefixStream,R,!this.pushstream._useControlArguments());t.debug("[Stream] connecting to:",this.url);this.loadFrame(this.url)},disconnect:function(){if(this.connection){t.debug("[Stream] closing connection to:",this.url);this._closeCurrentConnection();this.pushstream._onclose()}},_clear_iframe:function(){var P=f.getElementById(this.iframeId);if(P){P.onload=null;P.src="about:blank";if(P.parentNode){P.parentNode.removeChild(P)}}},_closeCurrentConnection:function(){this._clear_iframe();if(this.connection){this.pingtimer=M(this.pingtimer);this.frameloadtimer=M(this.frameloadtimer);this.connection=null;this.transferDoc=null;if(typeof I.CollectGarbage==="function"){I.CollectGarbage()}}},loadFrame:function(P){this._clear_iframe();var R=null;if("ActiveXObject" in I){var Q=new I.ActiveXObject("htmlfile");Q.open();Q.write("<html><script>document.domain='"+f.domain+"';<\/script><body><iframe id='"+this.iframeId+"' src='"+P+"'></iframe></body></html>");Q.parentWindow.PushStream=e;Q.close();R=Q.getElementById(this.iframeId);this.transferDoc=Q}else{R=f.createElement("IFRAME");R.style.width="1px";R.style.height="1px";R.style.border="none";R.style.position="absolute";R.style.top="-10px";R.style.marginTop="-10px";R.style.zIndex="-20";R.PushStream=e;f.body.appendChild(R);R.setAttribute("src",P);R.setAttribute("id",this.iframeId)}R.onload=C(N,this);this.connection=R;this.frameloadtimer=I.setTimeout(C(N,this),this.pushstream.timeout)},register:function(P){this.frameloadtimer=M(this.frameloadtimer);P.p=C(this.process,this);this.connection.onload=C(this._onframeloaded,this);this.pushstream._onopen();this.setPingTimer();t.info("[Stream] frame registered")},process:function(U,R,T,Q,S,P){this.pingtimer=M(this.pingtimer);t.info("[Stream] message received",arguments);if(U!==-1){if(P){this.pushstream._etag=P}if(S){this.pushstream._lastModified=S}if(Q){this.pushstream._lastEventId=Q}}this.pushstream._onmessage(B(T),U,R,Q||"",true);this.setPingTimer()},_onframeloaded:function(){t.info("[Stream] frame loaded (disconnected by server)");this.connection.onload=null;this.disconnect()},setPingTimer:function(){if(this.pingtimer){M(this.pingtimer)}this.pingtimer=I.setTimeout(C(N,this),this.pushstream.pingtimeout)}};var c=function(P){this.type=c.TYPE;this.pushstream=P;this.connection=null;this.opentimer=null;this.messagesQueue=[];this._linkedInternalListen=C(this._internalListen,this);this.xhrSettings={timeout:this.pushstream.timeout,data:{},url:null,success:C(this.onmessage,this),error:C(this.onerror,this),load:C(this.onload,this),beforeSend:C(this.beforeSend,this),afterReceive:C(this.afterReceive,this)}};c.TYPE="LongPolling";c.prototype={connect:function(){this.messagesQueue=[];this._closeCurrentConnection();this.urlWithBacktrack=i(this.pushstream,this.pushstream.urlPrefixLongpolling,{},true);this.urlWithoutBacktrack=i(this.pushstream,this.pushstream.urlPrefixLongpolling,{},false);this.xhrSettings.url=this.urlWithBacktrack;this.useJSONP=this.pushstream._crossDomain||this.pushstream.useJSONP;this.useJSONP=false;var P=z._getXHRObject();if(P.withCredentials==p){this.useJSONP=true}this.xhrSettings.scriptId="PushStreamManager_"+this.pushstream.id;if(this.useJSONP){this.pushstream.messagesControlByArgument=true}this._listen();this.opentimer=I.setTimeout(C(J,this),150);t.info("[LongPolling] connecting to:",this.xhrSettings.url)},_listen:function(){if(this._internalListenTimeout){M(this._internalListenTimeout)}this._internalListenTimeout=I.setTimeout(this._linkedInternalListen,100)},_internalListen:function(){if(this.pushstream._keepConnected){this.xhrSettings.url=this.pushstream._useControlArguments()?this.urlWithoutBacktrack:this.urlWithBacktrack;this.xhrSettings.data=m({},this.pushstream.extraParams(),this.xhrSettings.data,r(this.pushstream));if(this.useJSONP){this.connection=z.jsonp(this.xhrSettings)}else{if(!this.connection){this.connection=z.load(this.xhrSettings)}}}},disconnect:function(){if(this.connection){t.debug("[LongPolling] closing connection to:",this.xhrSettings.url);this._closeCurrentConnection();this.pushstream._onclose()}},_closeCurrentConnection:function(){this.opentimer=M(this.opentimer);if(this.connection){try{this.connection.abort()}catch(P){try{z.clear(this.connection)}catch(Q){}}this.connection=null;this.xhrSettings.url=null}},beforeSend:function(P){if(!this.pushstream.messagesControlByArgument){P.setRequestHeader("If-None-Match",this.pushstream._etag);P.setRequestHeader("If-Modified-Since",this.pushstream._lastModified)}},afterReceive:function(P){if(!this.pushstream.messagesControlByArgument){this.pushstream._etag=P.getResponseHeader("Etag");this.pushstream._lastModified=P.getResponseHeader("Last-Modified")}this.connection=null},onerror:function(P){this._closeCurrentConnection();if(this.pushstream._keepConnected){if(P===304){this._listen()}else{t.info("[LongPolling] error (disconnected by server):",P);this.pushstream._onerror({type:((P===403)||(this.pushstream.readyState===e.CONNECTING))?"load":"timeout"})}}},onload:function(){this._listen()},onmessage:function(T){if(this._internalListenTimeout){M(this._internalListenTimeout)}t.info("[LongPolling] message received",T);var P=null;var S=y(T)?T:T.replace(/\}\{/g,"}\r\n{").split("\r\n");for(var Q=0;Q<S.length;Q++){if(S[Q]){P=G.parseMessage(S[Q],this.pushstream);this.messagesQueue.push(P);if(this.pushstream.messagesControlByArgument&&P.time){this.pushstream._etag=P.tag;this.pushstream._lastModified=P.time}}}this._listen();while(this.messagesQueue.length>0){var R=this.messagesQueue.shift();this.pushstream._onmessage(R.text,R.id,R.channel,R.eventid,(this.messagesQueue.length===0))}}};var K=[];var e=function(Q){Q=Q||{};this.id=K.push(this)-1;this.useSSL=Q.useSSL||false;this.host=Q.host||I.location.hostname;this.port=Number(Q.port||(this.useSSL?443:80));this.timeout=Q.timeout||30000;this.pingtimeout=Q.pingtimeout||30000;this.reconnectOnTimeoutInterval=Q.reconnectOnTimeoutInterval||3000;this.reconnectOnChannelUnavailableInterval=Q.reconnectOnChannelUnavailableInterval||60000;this.lastEventId=Q.lastEventId||null;this.messagesPublishedAfter=Q.messagesPublishedAfter;this.messagesControlByArgument=Q.messagesControlByArgument||false;this.tagArgument=Q.tagArgument||"tag";this.timeArgument=Q.timeArgument||"time";this.eventIdArgument=Q.eventIdArgument||"eventid";this.useJSONP=Q.useJSONP||false;this._reconnecttimer=null;this._etag=0;this._lastModified=null;this._lastEventId=null;this.urlPrefixPublisher=Q.urlPrefixPublisher||"/pub";this.urlPrefixStream=Q.urlPrefixStream||"/sub";this.urlPrefixEventsource=Q.urlPrefixEventsource||"/ev";this.urlPrefixLongpolling=Q.urlPrefixLongpolling||"/lp";this.urlPrefixWebsocket=Q.urlPrefixWebsocket||"/ws";this.jsonIdKey=Q.jsonIdKey||"id";this.jsonChannelKey=Q.jsonChannelKey||"channel";this.jsonTextKey=Q.jsonTextKey||"text";this.jsonTagKey=Q.jsonTagKey||"tag";this.jsonTimeKey=Q.jsonTimeKey||"time";this.jsonEventIdKey=Q.jsonEventIdKey||"eventid";this.modes=(Q.modes||"eventsource|websocket|stream|longpolling").split("|");this.wrappers=[];this.wrapper=null;this.onchanneldeleted=Q.onchanneldeleted||null;this.onmessage=Q.onmessage||null;this.onerror=Q.onerror||null;this.onstatuschange=Q.onstatuschange||null;this.extraParams=Q.extraParams||function(){return{}};this.channels={};this.channelsCount=0;this.channelsByArgument=Q.channelsByArgument||false;this.channelsArgument=Q.channelsArgument||"channels";this._crossDomain=G.isCrossDomainUrl(E(this));for(var P=0;P<this.modes.length;P++){try{var S=null;switch(this.modes[P]){case"websocket":S=new H(this);break;case"eventsource":S=new u(this);break;case"longpolling":S=new c(this);break;case"stream":S=new D(this);break}this.wrappers[this.wrappers.length]=S}catch(R){t.info(R)}}this.readyState=0};e.LOG_LEVEL="error";e.LOG_OUTPUT_ELEMENT_ID="Log4jsLogOutput";e.CLOSED=0;e.CONNECTING=1;e.OPEN=2;e.prototype={addChannel:function(Q,P){if(A(Q)!==Q){throw"Invalid channel name! Channel has to be a set of [a-zA-Z0-9]"}t.debug("entering addChannel");if(typeof(this.channels[Q])!=="undefined"){throw"Cannot add channel "+Q+": already subscribed"}P=P||{};t.info("adding channel",Q,P);this.channels[Q]=P;this.channelsCount++;if(this.readyState!==e.CLOSED){this.connect()}t.debug("leaving addChannel")},removeChannel:function(P){if(this.channels[P]){t.info("removing channel",P);delete this.channels[P];this.channelsCount--}},removeAllChannels:function(){t.info("removing all channels");this.channels={};this.channelsCount=0},_setState:function(P){if(this.readyState!==P){t.info("status changed",P);this.readyState=P;if(this.onstatuschange){this.onstatuschange(this.readyState)}}},connect:function(){t.debug("entering connect");if(!this.host){throw"PushStream host not specified"}if(isNaN(this.port)){throw"PushStream port not specified"}if(!this.channelsCount){throw"No channels specified"}if(this.wrappers.length===0){throw"No available support for this browser"}this._keepConnected=true;this._lastUsedMode=0;this._connect();t.debug("leaving connect")},disconnect:function(){t.debug("entering disconnect");this._keepConnected=false;this._disconnect();this._setState(e.CLOSED);t.info("disconnected");t.debug("leaving disconnect")},_useControlArguments:function(){return this.messagesControlByArgument&&((this._lastModified!==null)||(this._lastEventId!==null))},_connect:function(){if(this._lastEventId===null){this._lastEventId=this.lastEventId}if(this._lastModified===null){var Q=this.messagesPublishedAfter;if(!x(Q)){var P=Number(this.messagesPublishedAfter);if(1||P>0){Q=new Date();Q.setTime(Q.getTime()-(P*1000))}else{if(P<0){Q=new Date(0)}}}if(x(Q)){this._lastModified=G.dateToUTCString(Q)}}this._disconnect();this._setState(e.CONNECTING);this.wrapper=this.wrappers[this._lastUsedMode++%this.wrappers.length];try{this.wrapper.connect()}catch(R){if(this.wrapper){this.wrapper.disconnect()}}},_disconnect:function(){this._reconnecttimer=M(this._reconnecttimer);if(this.wrapper){this.wrapper.disconnect()}},_onopen:function(){this._reconnecttimer=M(this._reconnecttimer);this._setState(e.OPEN);if(this._lastUsedMode>0){this._lastUsedMode--}},_onclose:function(){this._reconnecttimer=M(this._reconnecttimer);this._setState(e.CLOSED);this._reconnect(this.reconnectOnTimeoutInterval)},_onmessage:function(S,T,Q,P,R){t.debug("message",S,T,Q,P,R);if(T===-2){if(this.onchanneldeleted){this.onchanneldeleted(Q)}}else{if(T>0){if(this.onmessage){this.onmessage(S,T,Q,P,R)}}}},_onerror:function(P){this._setState(e.CLOSED);this._reconnect((P.type==="timeout")?this.reconnectOnTimeoutInterval:this.reconnectOnChannelUnavailableInterval);if(this.onerror){this.onerror(P)}},_reconnect:function(P){if(this._keepConnected&&!this._reconnecttimer&&(this.readyState!==e.CONNECTING)){t.info("trying to reconnect in",P);this._reconnecttimer=I.setTimeout(C(this._connect,this),P)}},sendMessage:function(R,P,Q){R=A(R);if(this.wrapper.type===H.TYPE){this.wrapper.sendMessage(R);if(P){P()}}else{z.post({url:E(this),data:R,success:P,error:Q,crossDomain:this._crossDomain})}}};e.sendMessage=function(R,S,P,Q){z.post({url:R,data:A(S),success:P,error:Q})};e.register=function(P){var Q=P.window.location.href.match(/streamid=([0-9]*)&?/);if(Q[1]&&K[Q[1]]){K[Q[1]].wrapper.register(P)}};e.unload=function(){for(var P=0;P<K.length;P++){try{K[P].disconnect()}catch(Q){}}};I.PushStream=e;I.PushStreamManager=K;if(I.attachEvent){I.attachEvent("onunload",e.unload)}if(I.addEventListener){I.addEventListener.call(I,"unload",e.unload,false)}})(window,document);

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_pages/common/top_js.js */
if(w3tVar('order_id')>0){var writer_writing_message_icon=__(w3tVar('writer_title_ucfirst')+' is typing a message');var customer_writing_message_icon=__('Customer is typing a message');}
jsLoader.ready(function(){jQuery.ajaxSetup({cache:false});if(typeof checkOrderMessages=='function'){checkOrderMessages(true,false);}
if(typeof checkTicketMessages=='function'){checkTicketMessages();}
if(typeof checkTicketAlarms=='function'){checkTicketAlarms();}
jQuery('form.nosubmit').on('submit',false);});goUrl=function(url,direct){if(typeof url!='string'){return false;}
ajaxBeforeSend('body');if(url.substr(0,4)=='http'){direct=true;}
if(typeof direct=='boolean'&&direct==true){window.location.href=url;}
else{window.location.href=window.location.protocol+'//'+window.location.host+url;}};ajaxNoAuth=function(){es_auth.init({auto_open:true,disable_close:true,show_link_registration:false,show_link_remind:false,prefix_html:'<p>'+__('To stay in your personal area, please enter your password')+'</p>',postfix_html:'<div class="linetop center"><a class="es-link register logout" href="https://'+document.location.hostname+'/auth/logout.html">'+__('&larr; Logout')+'</a></div>',force_user_role:w3tVar('user_role'),force_user_login:w3tVar('user_email'),on_login_callback:function(data){},on_logout_callback:function(data){}});return true;};if(w3tVar('user_role')=='customer'||w3tVar('user_role')=='writer'||w3tVar('user_role')=='operator'){var online_status_msg={online:w3tVar('conf_online_status_msg_online'),away:w3tVar('conf_online_status_msg_away'),offline:w3tVar('conf_online_status_msg_offline')};var online_activity_sent=false;sendOnlineActivity=function(){if(!online_activity_sent){jQuery.ajax({url:'/'+((w3tVar('user_role')=='operator')?'backoffice':w3tVar('user_role'))+'/breath_in.html',type:'GET',dataType:'text',data:{},success:function(data){if(data.indexOf('Error')==0&&data.indexOf('#no_auth')>0){ajaxNoAuth();return false;}}});online_activity_sent=true;}};resetOnlineActivity=function(){online_activity_sent=false;};updateOnlineActivity=function(auth_user,new_online_status){if(typeof(online_status_msg[new_online_status])!='string'){return false;}
jQuery('.user_online_status_'+auth_user).html(online_status_msg[new_online_status]);return true;};online_activity_polling_id=setInterval(function(){resetOnlineActivity();},(w3tVar('conf_user_online_status_away_mins')-0.5)*60*1000);updateDevice=function(auth_user,new_device_slug,new_device_title){jQuery('.user_device_'+auth_user).data('device',new_device_slug);jQuery('.user_device_'+auth_user).data('device-title',new_device_title);return true;};jsLoader.ready(function(){jQuery(document).on('mousemove',function(event){sendOnlineActivity();});jQuery(document).on('keypress',function(event){sendOnlineActivity();});});if(w3tVar('user_role')=='customer'){var prev_bids_order_checksum='not_inited';checkOrderBids=function(){jQuery.ajax({url:'/customer/orders_bidding/new.html',type:'GET',dataType:'json',data:{nobreath:1},success:function(data){if(data!=undefined){if(data.error_slug!=undefined&&data.error_slug=='no_auth'){ajaxNoAuth();return false;}
if(w3tVar('my_location_page')=='order_bids_list'&&w3tVar('site_page')!=''){if(prev_bids_order_checksum!='not_inited'&&(typeof(prev_bids_order_checksum[w3tVar('site_page')])=='undefined'||data.bids_order_checksum[w3tVar('site_page')]!=prev_bids_order_checksum[w3tVar('site_page')])){var tableUrl='/customer/orders/update_bid_table_'+w3tVar('site_page')+'.html';var dataObject=jQuery('table.tablesorter2').data('tablesorter');if(dataObject){var headers=dataObject.headers;var sortlist=dataObject.sortList;}
jQuery('.bid-list-container:first').load(tableUrl,function(data){console.log(data);jQuery('table.tablesorter2').tablesorter({theme:'kpsolo',sortList:sortlist,headers:headers,textExtraction:function(node){return jQuery(node).find('.tablesorter_sort').text();}});if(typeof(amountUsd2Local)=='function'){amountUsd2Local();}
if(typeof(checkOrderMessages)=='function'){checkOrderMessages(true,false);}});}}
prev_bids_order_checksum=data.bids_order_checksum;if(typeof(amountUsd2Local)=='function'){amountUsd2Local();}
if(typeof(checkOrderMessages)=='function'){checkOrderMessages(true,false);}}}});};jsLoader.ready(function(){checkOrderBids();});}
else if(w3tVar('user_role')=='writer'){if(w3tVar('site_path')=='/writer/orders_progress/'&&w3tVar('site_page')==''){var bidding_polling_id=0;var bidding_polling_ar=null;var bidding_polling_period=60;checkOrdersStatus=function(){jQuery.ajax({url:'/writer/orders/orders_status.html',type:'GET',dataType:'json',data:{nobreath:1},success:function(data){if(data!=undefined){if(data.error_slug!=undefined&&data.error_slug=='no_auth'){ajaxNoAuth();return false;}
if(bidding_polling_ar!=null){if(bidding_polling_ar.checksum!=data.checksum){window.location.reload();}}
bidding_polling_ar=data;}}});};startOrdersStatusPolling=function(){if(bidding_polling_id==0){checkOrdersStatus();bidding_polling_id=setInterval(function(){checkOrdersStatus();},bidding_polling_period*1000);}};stopOrdersStatusPolling=function(){clearInterval(bidding_polling_id);bidding_polling_id=0;};jsLoader.ready(function(){startOrdersStatusPolling();});}
if(w3tVar('site_path')!=''&&w3tVar('site_path').substr(0,14)=='/writer/orders'){var deadlineCountdown=function(){var heplers_qty=jQuery('.deadline_countdown_order').length;if(heplers_qty>100){return false;}
var order_ids=[];jQuery('.deadline_countdown_order').each(function(index,el){var order_id=jQuery(el).data('order');order_ids.push(order_id);});if(order_ids.length>0){jQuery.ajax({url:'/writer/orders/aj_deadline_remain.html',type:'GET',dataType:'json',data:{orders:order_ids},beforeSend:function(){},complete:function(){},success:function(data){if(typeof(data.qty)=='number'&&data.qty>0){jQuery.each(data.list,function(index,value){jQuery('.deadline_countdown_order_'+value.order).replaceWith(value.deadline_remain);});}}});}
return true;};var startDeadlineCountdown=function(){deadlineCountdown();setInterval(function(){deadlineCountdown();},(5*60*1000));};jsLoader.ready(function(){startDeadlineCountdown();});}}
if(w3tVar('user_role')!='operator'){checkOrderMessages=function(force_check,fire_new_alert){if(force_check==undefined||force_check==null){force_check=false;}
var l_u_m_c=last_user_messaging_checksum;if(force_check){l_u_m_c='force';}
function checkMessage(){jQuery.ajax({url:'/'+w3tVar('user_role')+'/messages/new.html',type:'GET',dataType:'json',data:{nobreath:1,user_messaging_checksum:l_u_m_c},success:function(data){if(data!=undefined){if(data.error_slug!=undefined&&data.error_slug=='no_auth'){ajaxNoAuth();return false;}
if(messages_polling_checksum!=data.checksum||l_u_m_c!=data.user_messaging_checksum||force_check){var new_messages_exist=false;jQuery('#id_current_user_auth_subcontainer').removeClass('with-active-message');jQuery('.message_order').removeClass('active-message');jQuery.each(data.order_bidding,function(i,val){jQuery('.message_order_bidding').addClass('active-message');jQuery('.message_order_'+val.order).addClass('active-message');jQuery('.message_order_'+val.order+'_bid_'+val.bid).addClass('active-message');if(w3tVar('my_location_bid')>0&&val.bid!=w3tVar('my_location_bid')){jQuery('.message_order_'+val.order+'_bid_-'+w3tVar('my_location_bid')).addClass('active-message');}
jQuery('.message_order_'+val.order+'_bid_'+val.bid+'_qty').html(val.qty+'&nbsp;mes');jQuery('#id_current_user_auth_subcontainer').addClass('with-active-message');new_messages_exist=true;return true;});jQuery.each(data.order_progress,function(i,val){jQuery('.message_order_progress').addClass('active-message');jQuery('.message_order_'+val.order).addClass('active-message');jQuery('.message_order_'+val.order+'_bid_'+val.bid).addClass('active-message');jQuery('.message_order_'+val.order+'_bid_'+val.bid+'_qty').html(val.qty+'&nbsp;mes');jQuery('#id_current_user_auth_subcontainer').addClass('with-active-message');new_messages_exist=true;return true;});messages_polling_checksum=data.checksum;last_user_messaging_checksum=data.user_messaging_checksum;if(jQuery.isFunction(onNewMessageFavicon)){onNewMessageFavicon(new_messages_exist);}
if(fire_new_alert&&jQuery.isFunction(onNewMessageSound)){onNewMessageSound(w3tVar('conf_new_message_sound_vol'));}}}}});}
checkMessage();$(document).ajaxComplete(function(event,xhr,settings){if(~settings.url.indexOf('/auth/aj_current2')){checkMessage();}});};}
if(w3tVar('user_role')=='operator'){checkTicketMessages=function(){function checkTicketMessage(){jQuery.ajax({url:'/backoffice/ticketing/new_messages.html',type:'GET',dataType:'json',data:{},success:function(data){if(data==undefined||typeof(data)!='object'){return false;}
if(data.error_slug!=undefined&&data.error_slug=='no_auth'){return false;}
var new_messages_exist=false;jQuery('#id_current_user_auth_subcontainer').removeClass('with-active-message');jQuery('.ticketing_msg').removeClass('active-message');jQuery('.ticketing_qty').text('');var dept_nxx_qty={};jQuery.each(data.by_dept,function(dept_id,dept_info){if(jQuery('.ticketing_msg_dept_'+dept_id).length){jQuery('.ticketing_msg_dept_'+dept_id).addClass('active-message');if(typeof(dept_info.tickets_qty)!='undefined'&&dept_info.tickets_qty>0){jQuery('.ticketing_qty_dept_'+dept_id).text(dept_info.tickets_qty).show();var dept_nxx_id=dept_id.substr(0,1)+'xx';if(typeof(dept_nxx_qty[dept_nxx_id])!='number'){dept_nxx_qty[dept_nxx_id]=0;}
dept_nxx_qty[dept_nxx_id]=parseInt(dept_nxx_qty[dept_nxx_id])+parseInt(dept_info.tickets_qty);jQuery('.ticketing_qty_dept_'+dept_nxx_id).text(dept_nxx_qty[dept_nxx_id]).show();}
jQuery('#id_current_user_auth_subcontainer').addClass('with-active-message');new_messages_exist=true;}});jQuery('.ticketing_qty:empty').hide();if(jQuery.isFunction(onNewMessageFavicon)){onNewMessageFavicon(new_messages_exist);}}});};checkTicketMessage();};checkTicketAlarms=function(){function checkTicketAlarm(){jQuery.ajax({url:'/backoffice/ticketing/new_alarms.html',type:'GET',dataType:'json',data:{},success:function(data){if(data==undefined||typeof(data)!='object'){return false;}
if(data.error_slug!=undefined&&data.error_slug=='no_auth'){return false;}
var new_alarms_exist=false;jQuery('.ticketing_alm').removeClass('active-alarm');jQuery('.ticketing_alm_qty').text('');var dept_nxx_qty={};jQuery.each(data.by_dept,function(dept_id,dept_info){if(jQuery('.ticketing_alm_dept_'+dept_id).length){jQuery('.ticketing_alm_dept_'+dept_id).addClass('active-alarm');if(typeof(dept_info.tickets_qty)!='undefined'&&dept_info.tickets_qty>0){jQuery('.ticketing_alm_qty_dept_'+dept_id).text(dept_info.tickets_qty).show();var dept_nxx_id=dept_id.substr(0,1)+'xx';if(typeof(dept_nxx_qty[dept_nxx_id])!='number'){dept_nxx_qty[dept_nxx_id]=0;}
dept_nxx_qty[dept_nxx_id]=parseInt(dept_nxx_qty[dept_nxx_id])+parseInt(dept_info.tickets_qty);jQuery('.ticketing_alm_qty_dept_'+dept_nxx_id).text(dept_nxx_qty[dept_nxx_id]).show();}
new_alarms_exist=true;}});jQuery('.ticketing_alm_qty:empty').hide();}});};checkTicketAlarm();};}}

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_pages/common/authorization.js */
var es_auth={};var es_testimonials={};jsLoader.ready(function(){window.relativeDateTimeUpdate=function(){jQuery('.relative-datetime').each(function(key,field){var dateInAttr=field.getAttribute('title');var value=dateInAttr||field.innerHTML;if(value){var momentDt=moment.utc(value,'YYYY-MM-DD HH:mm:ss');if(momentDt&&momentDt.isValid()){if(momentDt.locale){var language=w3tVar('cl_lang');if('zh'===language){language='zh-cn';}
momentDt.locale(language||'en');}
field.innerHTML=momentDt.fromNow();}}});};window.relativeDateTimeUpdate();setInterval(window.relativeDateTimeUpdate,30000);es_auth=new ESAuth({container_id:'auth_account_container',ajax_before_send_function:ajaxBeforeSend,ajax_complete_function:ajaxComplete});if(!w3tVar('my_location_backoffice')){es_testimonials=new ESTestimonials({ajax_before_send_function:ajaxBeforeSend,ajax_complete_function:ajaxComplete});}
es_auth_base_init_config={auto_open:false,disable_close:false,show_link_registration:true,show_link_remind:true,prefix_html:'',postfix_html:'',force_user_role:'',force_user_login:'',on_login_callback:function(data){if(data.redirect!=undefined){goUrl(data.redirect);}},on_logout_callback:function(data){if(data.redirect!=undefined){goUrl(data.redirect);}}};var es_auth_custom_config=window.es_auth_custom_config||{};if(typeof(es_auth_custom_config.auto_open)=='boolean'){es_auth_base_init_config.auto_open=es_auth_custom_config.auto_open;}
if(typeof(es_auth_custom_config.show_link_registration)=='boolean'){es_auth_base_init_config.show_link_registration=es_auth_custom_config.show_link_registration;}
es_auth.init(es_auth_base_init_config);});

/* JS merged. Author(s), copyright, license see in original file /w3t_js/_pages/common/usd2local.js */
if(w3tVar('cl_lang')=='zh'||(w3tVar('user_role')=='writer'&&w3tVar('user_ui_lang')=='zh')){var usd2local_enabled=true;var usd2local_rate=w3tVar('fin_rate_cny2usd');var usd2local_sign_pre='~';var usd2local_sign_post='<span class="funds_local_converted_sign_post">元</span>';}

